{"version":3,"sources":["firebase.js","Components/SignIn/SignIn.js","Components/SignUp/stages/Stage1.js","Components/SignUp/stages/Stage2.js","Components/SignUp/stages/Stage3.js","Components/SignUp/stages/Stage4.js","Components/SignUp/SignUp.js","Components/PasswordReset/PasswordReset.js","Components/Header/Header.js","Components/Modal/Modal.js","Components/Products/ProductsTable/ViewImages/ViewImages.js","Components/Products/UpdateProduct/ImageUploader/UploaderTask/UploaderTask.js","Components/Products/UpdateProduct/ImageUploader/ImageUploader.js","Components/Products/TagsInput/TagsInput.js","Utilities/indexing.js","Components/Products/UpdateProduct/UpdateProduct.js","Components/Products/ProductsTable/ProductsTable.js","Components/Products/AddProducts/ImageUploader/UploaderTask/UploaderTask.js","Components/Products/AddProducts/ImageUploader/ImageUploader.js","Components/Products/AddProducts/AddProducts.js","Components/Products/Products.js","Components/User/ChangePassword/ChangePassword.js","Components/User/User.js","Components/Orders/Orders.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","storageRef","storage","ref","SignIn","history","useHistory","useState","email","password","state","setState","error","setError","handleChange","target","id","value","className","role","type","data-bs-dismiss","aria-label","onSubmit","event","preventDefault","signInWithEmailAndPassword","then","push","console","log","catch","message","htmlFor","onChange","required","to","src","alt","Stage1","currentStep","placeholder","fname","lname","phone","pattern","title","minLength","confirmPassword","Stage2","storeName","shopNo","maxLength","pincode","city","country","Stage3","accHoldersName","branchIFSC","accNumber","Stage4","style","fontSize","SignUp","setCurrentStep","progressBar","useRef","toggleActiveClass","liIndex","current","querySelectorAll","classList","toggle","signUp","createUserWithEmailAndPassword","authUser","uid","user","currentUser","updateProfile","displayName","doc","set","businessInfo","billingInfo","err","temp_step","onClick","PasswordReset","isDisabled","name","method","opt","npass","disabled","cpass","NavItem","text","link","exact","activeClassName","Header","signOut","Modal","buttonText","buttonIcon","children","data-bs-toggle","data-bs-target","data-bs-backdrop","data-bs-keyboard","tabIndex","aria-labelledby","aria-hidden","ViewImages","images","mainImage","setMainImage","useEffect","map","image","index","viewProduct","UploaderTask","handleDelete","shouldUploadImgs","getDownloadURL","progress","setProgress","file","date","Date","toString","slice","replaceAll","fileName","metadata","contentType","uploadTask","child","put","on","TaskEvent","STATE_CHANGED","snapshot","prog","parseInt","bytesTransferred","totalBytes","code","downloadURL","data-imgindex","aria-valuenow","aria-valuemin","aria-valuemax","width","ImageUploader","setShouldUploadImgs","dispatchImageURLs","setImages","highlight","setHighlight","downloadURLs","setDownloadURLs","handleFileChange","files","Array","from","photosArr","forEach","reader","FileReader","readAsDataURL","addEventListener","size","result","targetIndex","Number","parentElement","dataset","imgindex","handleDrag","stopPropagation","url","length","onDragEnter","onDragOver","onDragLeave","onDrop","dt","dataTransfer","accept","multiple","idx","deleteQueue","TagsInput","tag","setTag","tags","filter","indexOf","removeTag","e","algoliasearch","initIndex","saveToIndex","product","saveObject","objectID","price","UpdateProduct","ProductForm","initialState","description","stock","category","imagesUploaded","originalProduct","setOriginalProduct","setIsDisabled","closeBtn","resetForm","deleteImages","a","promises","refFromURL","delete","Promise","all","modalCloseBtn","document","querySelector","removeEventListener","prevState","update","sellerId","click","rows","urls","ProductsTable","products","setProducts","previewImages","setPreviewImages","productForUpdate","setProductForUpdate","unsubscribe","collection","where","onSnapshot","snap","docs","data","deleteProduct","window","confirm","deleteObject","updateProduct","data-bs-placement","AddProducts","add","docRef","Products","height","overflow","padding","ChangePassword","currentPassword","newPassword","confirmNewPassword","credentials","EmailAuthProvider","credential","reauthenticateWithCredential","updatePassword","UserUpdate","originalInfo","setOriginalInfo","get","split","Orders","orders","setOrders","orderBy","order_date","toDate","order","qty","App","setUser","onAuthStateChanged","path","component","User","ReactDOM","render","StrictMode","getElementById"],"mappings":"+jBAeAA,IAASC,cAVc,CACrBC,OAAQ,0CACRC,WAAY,gCACZC,UAAW,gBACXC,cAAe,4BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKjB,IAAMC,EAAKT,IAASU,YACdC,EAAOX,IAASW,OAChBC,EAAaZ,IAASa,UAAUC,MAChCD,EAAUb,IAASa,UAGVJ,I,qBCiFAM,MAnGf,WACE,IAAMC,EAAUC,cADA,EAEUC,mBAAS,CACjCC,MAAO,GACPC,SAAU,KAJI,mBAETC,EAFS,KAEFC,EAFE,OAMUJ,qBANV,mBAMTK,EANS,KAMFC,EANE,KAQVC,EAAe,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACtBJ,EAAS,2BAAKD,GAAN,kBAAcK,EAAOC,GAAKD,EAAOE,UAgB3C,OACE,qBAAKC,UAAU,SAAf,SACE,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,MAAf,SACGN,GACC,sBAAKM,UAAU,qDAAqDC,KAAK,QAAzE,UACGP,EACD,wBAAQQ,KAAK,SAASF,UAAU,YAAYG,kBAAgB,QAAQC,aAAW,iBAKvF,sBAAKJ,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,eAAf,UACE,yCACA,uBAAMK,SA5BH,SAACC,GACdA,EAAMC,iBAENzB,EAAK0B,2BAA2BhB,EAAMF,MAAOE,EAAMD,UAChDkB,MAAK,WACJtB,EAAQuB,KAAK,KACbC,QAAQC,IAAI,wBAEbC,OAAM,SAAAnB,GAAK,OAAIC,EAAQ,OAACD,QAAD,IAACA,OAAD,EAACA,EAAOoB,aAoBxB,UACE,uBAAOC,QAAQ,QAAQf,UAAU,aAAjC,4BAGA,uBACEE,KAAK,QACLF,UAAU,eACVF,GAAG,QACHkB,SAAUpB,EACVG,MAAOP,EAAMF,MACb2B,UAAQ,IAGV,uBAAOF,QAAQ,WAAWf,UAAU,kBAApC,uBAGA,uBACEE,KAAK,WACLF,UAAU,eACVF,GAAG,WACHkB,SAAUpB,EACVG,MAAOP,EAAMD,SACb0B,UAAQ,IAGV,uBACEf,KAAK,SACLF,UAAU,uBACVD,MAAM,YAGN,uBAQF,cAAC,IAAD,CAAMmB,GAAG,UAAUlB,UAAU,oBAA7B,2DAMN,qBAAKA,UAAU,MAAf,SACE,qBACEmB,IAAI,6KACJC,IAAI,sB,MCiCHC,MA9Hf,YAAuD,IAArCC,EAAoC,EAApCA,YAAa9B,EAAuB,EAAvBA,MAAOI,EAAgB,EAAhBA,aACpC,OAAuB,IAAhB0B,EAAoB,KACzB,sBAAKxB,GAAG,mBAAR,UACE,qBAAKE,UAAU,MAAf,SACE,qBAAKA,UAAU,MAAf,SACE,oBAAIA,UAAU,OAAd,qCAIJ,sBAAKA,UAAU,UAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,qBAAf,UAEE,uBACEE,KAAK,OACLF,UAAU,eACVF,GAAG,QACHyB,YAAY,aACZP,SAAUpB,EACVG,MAAOP,EAAMgC,MACbP,UAAQ,IAIV,uBAAOF,QAAQ,QAAf,6BAGJ,qBAAKf,UAAU,MAAf,SACE,sBAAKA,UAAU,qBAAf,UAEE,uBACEE,KAAK,OACLF,UAAU,eACVF,GAAG,QACHyB,YAAY,YACZP,SAAUpB,EACVG,MAAOP,EAAMiC,MACbR,UAAQ,IAIV,uBAAOF,QAAQ,QAAf,+BAKN,sBAAKf,UAAU,UAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,qBAAf,UAEE,uBACEE,KAAK,OACLF,UAAU,eACVF,GAAG,QACHyB,YAAY,YACZP,SAAUpB,EACVG,MAAOP,EAAMkC,MACbC,QAAQ,cACRC,MAAM,4BACNX,UAAQ,IAIV,uBAAOF,QAAQ,QAAf,4BAGJ,qBAAKf,UAAU,MAAf,SACE,sBAAKA,UAAU,qBAAf,UAEE,uBACEE,KAAK,QACLF,UAAU,eACVF,GAAG,QACHyB,YAAY,QACZP,SAAUpB,EACVG,MAAOP,EAAMF,MACb2B,UAAQ,IAIV,uBAAOF,QAAQ,QAAf,2BAKN,sBAAKf,UAAU,UAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,qBAAf,UAEE,uBACEE,KAAK,WACLF,UAAU,eACVF,GAAG,WACHyB,YAAY,WACZP,SAAUpB,EACVG,MAAOP,EAAMD,SACb0B,UAAQ,EACRY,UAAW,IAIb,uBAAOd,QAAQ,WAAf,2BAGJ,qBAAKf,UAAU,MAAf,SACE,sBAAKA,UAAU,qBAAf,UAEE,uBACEE,KAAK,WACLF,UAAU,eACVF,GAAG,kBACHyB,YAAY,mBACZP,SAAUpB,EACVG,MAAOP,EAAMsC,gBACbb,UAAQ,EACRY,UAAW,IAGb,uBAAOd,QAAQ,kBAAf,0CCQGgB,MA9Hf,YAAuD,IAArCT,EAAoC,EAApCA,YAAa9B,EAAuB,EAAvBA,MAAOI,EAAgB,EAAhBA,aACpC,OAAuB,IAAhB0B,EAAoB,KACzB,sBAAKxB,GAAG,mBAAR,UACE,qBAAKE,UAAU,MAAf,SACE,qBAAKA,UAAU,MAAf,SACE,oBAAIA,UAAU,OAAd,sCAIJ,qBAAKA,UAAU,UAAf,SACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,gBAAf,UAEE,uBACEE,KAAK,OACLF,UAAU,eACVF,GAAG,YACHyB,YAAY,aACZP,SAAUpB,EACVG,MAAOP,EAAMwC,UACbf,UAAQ,IAIV,uBAAOF,QAAQ,YAAf,+BAKN,qBAAKf,UAAU,UAAf,SACE,qBAAKA,UAAU,MAAf,SACE,oBAAIA,UAAU,OAAd,kCAIJ,sBAAKA,UAAU,eAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,gBAAf,UAEE,uBACEE,KAAK,OACLF,UAAU,eACVF,GAAG,SACHyB,YAAY,WACZP,SAAUpB,EACVG,MAAOP,EAAMyC,OACbhB,UAAQ,IAGV,uBAAOF,QAAQ,SAAf,2BAGJ,qBAAKf,UAAU,MAAf,SACE,sBAAKA,UAAU,gBAAf,UAEE,uBACEE,KAAK,SACLF,UAAU,eACVF,GAAG,UACH+B,UAAW,EACXK,UAAW,EACXX,YAAY,UACZP,SAAUpB,EACVG,MAAOP,EAAM2C,QACblB,UAAQ,IAGV,uBAAOF,QAAQ,UAAf,6BAKN,sBAAKf,UAAU,eAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,gBAAf,UAEE,uBACEE,KAAK,OACLF,UAAU,eACVF,GAAG,OACHyB,YAAY,OACZP,SAAUpB,EACVG,MAAOP,EAAM4C,KACbnB,UAAQ,IAGV,uBAAOF,QAAQ,OAAf,uBAGJ,qBAAKf,UAAU,MAAf,SACE,sBAAKA,UAAU,gBAAf,UAEE,uBACEE,KAAK,OACLF,UAAU,eACVF,GAAG,QACHyB,YAAY,QACZP,SAAUpB,EACVG,MAAOP,EAAMA,MACbyB,UAAQ,IAGV,uBAAOF,QAAQ,QAAf,wBAGJ,qBAAKf,UAAU,MAAf,SACE,sBAAKA,UAAU,gBAAf,UAEE,uBACEE,KAAK,OACLF,UAAU,eACVF,GAAG,UACHyB,YAAY,UACZP,SAAUpB,EACVG,MAAOP,EAAM6C,QACbpB,UAAQ,IAGV,uBAAOF,QAAQ,UAAf,iCCgCGuB,MAtJf,YAAuD,IAArChB,EAAoC,EAApCA,YAAa9B,EAAuB,EAAvBA,MAAOI,EAAgB,EAAhBA,aAYpC,OAAuB,IAAhB0B,EAAoB,KACzB,sBAAKxB,GAAG,mBAAR,UACE,qBAAKE,UAAU,MAAf,SACE,qBAAKA,UAAU,MAAf,SACE,oBAAIA,UAAU,OAAd,qCAIJ,qBAAKA,UAAU,WAAf,SACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,gBAAf,UAEE,uBACEE,KAAK,OACLF,UAAU,eACVF,GAAG,iBACHyB,YAAY,wBACZP,SAAUpB,EACVG,MAAOP,EAAM+C,eACbtB,UAAQ,IAGV,uBAAOF,QAAQ,iBAAf,0CAKN,sBAAKf,UAAU,eAAf,UACE,qBAAKA,UAAU,QAAf,SACE,sBAAKA,UAAU,gBAAf,UAeE,uBACEE,KAAK,OACLF,UAAU,eACVF,GAAG,aACHyB,YAAY,mBAEZK,MAAM,qCACNZ,SAAUpB,EACVG,MAAOP,EAAMgD,aAGf,uBAAOzB,QAAQ,aAAf,mCAGJ,qBAAKf,UAAU,MAAf,SACE,sBAAKA,UAAU,gBAAf,UAEE,uBACEE,KAAK,OACLF,UAAU,eACVF,GAAG,YACHyB,YAAY,iBACZM,UAAW,EACXK,UAAW,GACXN,MAAM,sBACNZ,SAAUpB,EACVG,MAAOP,EAAMiD,UACbxB,UAAQ,IAGV,uBAAOF,QAAQ,YAAf,wCC/DG2B,MAvBf,YAAyC,IAAvBpB,EAAsB,EAAtBA,YAAa5B,EAAS,EAATA,MAC7B,OACkB,IAAhB4B,EACA,KACG5B,EAQC,sBAAKI,GAAG,SAASE,UAAU,cAA3B,UACE,2CACA,mBAAGA,UAAU,uCAAuC2C,MAAO,CAAEC,SAAU,UAEvE,oBAAI5C,UAAU,aAAd,oCAXF,sBAAKF,GAAG,SAASE,UAAU,cAA3B,UACE,2CACA,mBAAGA,UAAU,wCAAwC2C,MAAO,CAAEC,SAAU,UAExE,qBAAI5C,UAAU,aAAd,mCAAiD,uBAAjD,oBC6KK6C,MA9Kf,WAAmB,IAAD,EACsBxD,mBAAS,GAD/B,mBACTiC,EADS,KACIwB,EADJ,OAEUzD,mBAAS,CACjCmC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPpC,MAAO,GACPC,SAAU,GACVuC,gBAAiB,GAEjBE,UAAW,GACXC,OAAQ,GACRE,QAAS,GACTC,KAAM,GACN5C,MAAO,GACP6C,QAAS,GAETE,eAAgB,GAChBC,WAAY,GACZC,UAAW,KAnBG,mBAETjD,EAFS,KAEFC,EAFE,KA0BVsD,EAAcC,mBA1BJ,EA2BU3D,qBA3BV,mBA2BTK,EA3BS,KA2BFC,EA3BE,KA8BVsD,EAAoB,SAACC,GACzBH,EAAYI,QACTC,iBAAiB,MAAMF,GACvBG,UAAUC,OAAO,WAiChBC,EAAS,WACbzE,EAAK0E,+BAA+BhE,EAAMF,MAAOE,EAAMD,UACpDkB,MAAK,SAAAgD,GACJ,IAAMC,EAAMD,EAASE,KAAKD,IAE1B5E,EAAK8E,YACFC,cAAc,CACbC,YAAY,GAAD,OAAKtE,EAAMgC,MAAX,YAAoBhC,EAAMiC,SAGzC7C,EAAGmF,IAAH,kBAAkBL,IAAOM,IAAI,CAC3B1E,MAAOE,EAAMF,MACboC,MAAOlC,EAAMkC,MACbuC,aAAc,CACZjC,UAAWxC,EAAMwC,UACjBC,OAAQzC,EAAMyC,OACdE,QAAS3C,EAAM2C,QACfC,KAAM5C,EAAM4C,KACZ5C,MAAOA,EAAMA,MACb6C,QAAS7C,EAAM6C,SAEjB6B,YAAa,CACX3B,eAAgB/C,EAAM+C,eACtBC,WAAYhD,EAAMgD,WAClBC,UAAWjD,EAAMiD,aAQpBhC,MAAK,WACJ3B,EAAK0B,2BAA2BhB,EAAMF,MAAOE,EAAMD,aAEpDsB,OAAM,SAAAsD,GAAG,OAAIxD,QAAQC,IAAIuD,SAE3BtD,OAAM,SAAAnB,GAAK,OAAIC,EAASD,EAAMoB,aAG7BlB,EAAe,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACtBJ,EAAS,2BAAKD,GAAN,kBAAcK,EAAOC,GAAKD,EAAOE,UAG3C,OACE,qBAAKC,UAAU,SAAf,SAEE,sBAAKA,UAAU,eAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,yCACA,oBAAIA,UAAU,aAAd,yDAIF,qBAAIF,GAAG,sBAAsBb,IAAK8D,EAAlC,UACE,oBAAI/C,UAAU,SAASF,GAAG,UAA1B,SACE,+CAEF,oBAAIA,GAAG,WAAP,SAAkB,gDAClB,oBAAIA,GAAG,UAAP,SAAiB,+CACjB,oBAAIA,GAAG,UAAP,SAAiB,iDAGlBJ,GACC,sBAAKM,UAAU,qDAAqDC,KAAK,QAAzE,UACGP,EACD,wBAAQQ,KAAK,SAASF,UAAU,YAAYG,kBAAgB,QAAQC,aAAW,aAInF,uBAAMC,SAxFC,SAACC,GACZA,EAAMC,iBAEN,IAAI6D,EAAY9C,EAAc,EACX,IAAhBA,GAAqB9B,EAAMD,WAAaC,EAAMsC,gBAC/CnC,EAAS,2BAETmD,EAAesB,GAEbA,EAAY,GACdnB,EAAkB3B,GAEF,IAAd8C,GAEFb,KA0EE,UACE,sBAAKvD,UAAU,iBAAf,UACE,cAAC,EAAD,CAAQsB,YAAaA,EAAa9B,MAAOA,EAAOI,aAAcA,IAC9D,cAAC,EAAD,CAAQ0B,YAAaA,EAAa9B,MAAOA,EAAOI,aAAcA,IAC9D,cAAC,EAAD,CAAQ0B,YAAaA,EAAa9B,MAAOA,EAAOI,aAAcA,IAC9D,cAAC,EAAD,CAAQ0B,YAAaA,EAAa5B,MAAOA,OAG3C,sBAAKM,UAAU,kBAAf,UACE,wBACEA,UAAS,+CAA2CsB,EAAc,IAAuB,IAAhBA,KAAwB5B,GAAU,UAC3G2E,QA9GC,SAAC/D,GACZA,EAAMC,iBACN,IAAI6D,EAAY9C,EAAc,EAE9BwB,EAAesB,GAEXA,EAAY,GACdnB,EAAkBmB,IAqGZ,sBAMA,wBACElE,KAAK,SACLF,UAAS,sDAEW,IAAhBsB,GAAqB,SAFhB,8BAGW,IAAhBA,EAAoB,cAAgB,kBAH/B,oBAFX,SAQmB,IAAhBA,EAAoB,SAAW,SAElC,uBACA,cAAC,IAAD,CAAMJ,GAAG,UAAUlB,UAAU,eAA7B,kE,MCtCGsE,MAjIf,WAEE,IAFuB,EAOGjF,mBALL,CACnBC,MAAO,KAHc,mBAOhBE,EAPgB,KAOTC,EAPS,OASAJ,oBAAS,GAAxBkF,EATe,oBAUjB3E,EAAe,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACtBJ,EAAS,2BAAKD,GAAN,kBAAcK,EAAO2E,KAAO3E,EAAOE,UAU7C,OACE,qBAAKC,UAAU,gBAAf,SACE,sBAAMK,SARK,SAACC,GACdA,EAAMC,kBAOoBkE,OAAO,OAA/B,SACE,sBAAKzE,UAAU,iBAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,MAAf,UACE,gDACA,4BAIJ,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,MAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,QAAzC,oBAIA,uBACEb,KAAK,OACLsE,KAAK,QACLxE,UAAU,eACVD,MAAOP,EAAMF,MACb0B,SAAUpB,EACVqB,UAAQ,SAKd,sBAAKjB,UAAU,MAAf,UACE,sBAAKA,UAAU,MAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,MAAzC,kBAIA,uBACEb,KAAK,OACLsE,KAAK,MACLxE,UAAU,eACVD,MAAOP,EAAMkF,IACb1D,SAAUpB,EACVqB,UAAQ,OAIZ,qBAAKjB,UAAU,OAAf,SACE,wBAAQA,UAAU,uBAAlB,2BAMJ,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,MAAf,UACA,uBAAOA,UAAU,gBAAgBe,QAAQ,QAAzC,0BAIE,uBACEb,KAAK,OACLsE,KAAK,QACLxE,UAAU,eACVD,MAAOP,EAAMmF,MACb3D,SAAUpB,EACVgF,SAAUL,EACVtD,UAAQ,OAIZ,sBAAKjB,UAAU,MAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,QAAzC,8BAIA,uBACEb,KAAK,OACLsE,KAAK,QACLxE,UAAU,eACVD,MAAOP,EAAMqF,MACb7D,SAAUpB,EACVgF,SAAUL,EACVtD,UAAQ,UAId,qBAAKjB,UAAU,MAAf,SACE,qBAAKA,UAAU,qCAAf,SACE,wBAAQE,KAAK,SAASF,UAAU,uBAAhC,gCAIF,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,oCAAf,SACA,cAAC,IAAD,CAAMkB,GAAG,IAAIlB,UAAU,qBAAvB,6BAIA,qBAAKA,UAAU,oCAAf,SACA,cAAC,IAAD,CAAMkB,GAAG,UAAUlB,UAAU,oBAA7B,gE,MC7Fd,SAAS8E,EAAT,GAAkC,IAAfC,EAAc,EAAdA,KAAMC,EAAQ,EAARA,KACvB,OACE,cAAC,IAAD,CACEC,OAAK,EACLjF,UAAU,iBACVkF,gBAAgB,cAChBhE,GAAI8D,EAJN,SAMGD,IAKQI,MAtCf,WACE,OACE,qBAAKnF,UAAU,SAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,gCACE,cAAC,IAAD,CAAMkB,GAAG,IAAT,SACE,qBACElB,UAAU,eACVmB,IAAI,mEACJC,IAAI,WAIR,cAAC0D,EAAD,CAASC,KAAK,YAAYC,KAAK,MAC/B,cAACF,EAAD,CAASC,KAAK,SAASC,KAAK,YAC5B,cAACF,EAAD,CAASC,KAAK,eAAeC,KAAK,aAIpC,wBAAQhF,UAAU,sCAAsCqE,QAAS,kBAAMvF,EAAKsG,WAA5E,0BCUOC,EAhCD,SAAC,GAAgE,IAA9DvF,EAA6D,EAA7DA,GAAIwF,EAAyD,EAAzDA,WAAYC,EAA6C,EAA7CA,WAAYvF,EAAiC,EAAjCA,UAAW4B,EAAsB,EAAtBA,MAAO4D,EAAe,EAAfA,SAC7D,OACE,gCACE,yBACEtF,KAAK,SACLF,UAAYA,GAAY,kBACxByF,iBAAe,QACfC,iBAAA,WAAoB5F,GAJtB,UAME,mBAAGE,UAAS,UAAKuF,EAAL,WACXD,KAGH,qBAAKtF,UAAU,aAAaF,GAAIA,EAAI6F,mBAAiB,SAASC,mBAAiB,QAAQC,SAAS,KAAKC,kBAAgB,sBAAsBC,cAAY,OAAvJ,SACE,qBAAK/F,UAAU,qCAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAcF,GAAG,sBAA/B,SACG8B,IAEH,wBAAQ1B,KAAK,SAASF,UAAU,YAAYG,kBAAgB,QAAQC,aAAW,aAEjF,qBAAKJ,UAAU,kBAAf,SACGwF,e,kBCOAQ,MA7Bf,YAAiC,IAAXC,EAAU,EAAVA,OAAU,EACI5G,mBAAS,IADb,mBACvB6G,EADuB,KACZC,EADY,KAW9B,OAJAC,qBAAU,WACRD,EAAaF,EAAO,MACnB,CAACA,IAGF,sBAAKjG,UAAU,0BAAf,UACE,qBAAKA,UAAU,uBAAf,SACE,qBACEmB,IAAK+E,EACL9E,IAAI,cAIR,qBAAKpB,UAAU,sBAAf,SACGiG,EAAOI,KAAI,SAACC,EAAOC,GAAR,OACV,qBAAiBnF,IAAKmF,EAAOpF,IAAKmF,EAAOjC,QAAS,kBAnBtC,SAACkC,GACnBJ,EAAaF,EAAOM,IAkB0CC,CAAYD,KAA1DA,Y,iDC0DLE,MA/Ef,YAAsF,IAA9D3G,EAA6D,EAA7DA,GAAI4G,EAAyD,EAAzDA,aAAcJ,EAA2C,EAA3CA,MAAOK,EAAoC,EAApCA,iBAAkBC,EAAkB,EAAlBA,eAAkB,EACnDvH,mBAAS,GAD0C,mBAC5EwH,EAD4E,KAClEC,EADkE,KAwDnF,OApDAV,qBAAU,WACR,GAAGO,EAAiB,CAClB,IAAMI,EAAOT,EAAMS,KACbC,GAAO,IAAIC,MAAOC,WAAWC,MAAM,GAAI,IAAIC,WAAW,IAAK,KAC3DC,EAAQ,UAAML,EAAN,cAAgBV,EAAM9B,MAC9B8C,EAAW,CAAEC,YAAajB,EAAMpG,MAEhCsH,EAAazI,EAAW0I,MAAX,mBAA6BJ,IAAYK,IAAIX,EAAMO,GACtEE,EAAWG,GAAGxJ,IAASa,QAAQ4I,UAAUC,eACvC,SAACC,GAEC,IAAIC,EAAOC,SAAUF,EAASG,iBAAmBH,EAASI,WAAc,KACxEvH,QAAQC,IAAI,aAAemH,EAAO,UAClCjB,EAAYiB,MAUd,SAACrI,GACC,OAAQA,EAAMyI,MACZ,IAAK,uBACHxH,QAAQC,IAAI,qDACZ,MAEF,IAAK,mBACHD,QAAQC,IAAI,4BACZ,MAEF,IAAK,kBACL,QACED,QAAQC,IAAI,4DAIlB,WAEE4G,EAAWM,SAAS7I,IAAI2H,iBAAiBnG,MAAK,SAAC2H,GAC7CxB,EAAewB,GACfzH,QAAQC,IAAI,oBAAqBwH,YAMxC,CAACzB,IAIF,sBAAK3G,UAAS,uBAAkB2G,GAAoB,0BAA4B0B,gBAAevI,EAA/F,UAEK6G,EACC,qBAAK3G,UAAU,WAAf,SACE,qBACEA,UAAU,2DACVC,KAAK,cACLqI,gBAAezB,EACf0B,gBAAc,IACdC,gBAAc,MACd7F,MAAO,CAAE8F,MAAM,GAAD,OAAK5B,EAAL,UAIlB,sBAAMxC,QAASqC,EAAf,kBAGJ,qBAAKvF,IAAKmF,EAAMnF,IAAKC,IAAKkF,EAAM9B,WCqDvBkE,MAhIf,YAAmH,IAA1F/B,EAAyF,EAAzFA,iBAAkBgC,EAAuE,EAAvEA,oBAAqBC,EAAkD,EAAlDA,kBAAmBrE,EAA+B,EAA/BA,WAAY/E,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SAAY,EACpFJ,mBAAS,IAD2E,mBACzG4G,EADyG,KACjG4C,EADiG,OAE9ExJ,oBAAS,GAFqE,mBAEzGyJ,EAFyG,KAE9FC,EAF8F,OAGxE1J,mBAAS,IAH+D,mBAGzG2J,EAHyG,KAG3FC,EAH2F,KAK1GC,EAAmB,SAAC,GAAgB,IAAdrJ,EAAa,EAAbA,OACpBsJ,EAAQC,MAAMC,KAAKxJ,EAAOsJ,OAE5BG,EAAY,GAChBH,EAAMI,SAAQ,SAAAxC,GACZ,IAAMyC,EAAS,IAAIC,WACnBD,EAAOE,cAAc3C,GACrByC,EAAOG,iBAAiB,QAAQ,WAC9BL,EAAU5I,KAAK,CACb8D,KAAMuC,EAAKvC,KACXtE,KAAM6G,EAAK7G,KACX0J,KAAM7C,EAAK6C,KACXzI,IAAKqI,EAAOK,OACZ9C,KAAMA,IAER8B,EAAU,GAAD,mBAAK5C,GAAWqD,WAKzB5C,EAAe,SAAC,GAAgB,IAAd7G,EAAa,EAAbA,OAChBiK,EAAcC,OAAOlK,EAAOmK,cAAcC,QAAQC,UAExDrB,EAAU,GAAD,mBAAK5C,EAAOkB,MAAM,EAAG2C,IAArB,YAAsC7D,EAAOkB,MAAM2C,EAAc,OAYtEK,EAAa,SAAA7J,GACjBA,EAAMC,iBACND,EAAM8J,kBACNrB,GAAa,IAqBTnC,EAAiB,SAAAyD,GAErBpB,GAAgB,SAAAD,GAAY,4BAAQA,GAAR,CAAsBqB,QAapD,OAVAjE,qBAAU,WACLO,GAAoBqC,EAAasB,SAAWrE,EAAOqE,SACpD3B,GAAoB,GACpBE,EAAU,IACVD,EAAkBI,GAClBC,EAAgB,OAGjB,CAACtC,EAAkBqC,IAGpB,sBAAKhJ,UAAU,gBAAf,UACE,sBACEA,UAAS,kCAA6B8I,GAAa,YAA1C,YAAyDvE,GAAc,oCAChFgG,YAAaJ,EACbK,WAAYL,EACZM,YAvCkB,SAAAnK,GACtBA,EAAMC,iBACND,EAAM8J,kBACNrB,GAAa,IAqCT2B,OAlCa,SAAApK,GACjBA,EAAMC,iBACND,EAAM8J,kBAEN,IAAMO,EAAKrK,EAAMsK,aACjB1B,EAAiB,CAAErJ,OAAQ,CAAEsJ,MAAOwB,EAAGxB,SAEvCJ,GAAa,IAsBX,UAOE,uBAAO/I,UAAU,4BAA4Be,QAAQ,gBAArD,yBACA,uBACEf,UAAU,SACVE,KAAK,OACLJ,GAAG,gBACH+K,OAAO,UACPC,UAAQ,EACR9J,SAAUkI,EACVtE,SAAUL,OAKd,sBAAKvE,UAAU,gCAAf,UAEGR,EAAMyG,OAAOI,KAAI,SAACC,EAAOyE,GAAR,OAChB,sBAAK/K,UAAU,qBAAf,UACE,sBAAMqE,QAAS,kBA1EEkC,EA0EuBwE,OAzEhDtL,EAAS,2BACJD,GADG,IAENwL,YAAY,GAAD,mBAAMxL,EAAMwL,aAAZ,CAAyBxL,EAAMyG,OAAOM,KACjDN,OAAO,GAAD,mBAAMzG,EAAMyG,OAAOkB,MAAM,EAAGZ,IAA5B,YAAuC/G,EAAMyG,OAAOkB,MAAMZ,EAAQ,QAJjD,IAAAA,GA0EjB,kBACA,qBAAKpF,IAAKmF,EAAOlF,IAAK2J,MAFiBA,MAM1C9E,EAAOqE,OAAS,GAAKrE,EAAOI,KAAI,SAACC,EAAOyE,GAAR,OAC/B,cAAC,EAAD,CAEEjL,GAAIiL,EACJrE,aAAcA,EACdJ,MAAOA,EACPK,iBAAkBA,EAClBC,eAAgBA,GALXmE,SASTpE,IAAqBV,GAAW,mBAAGjG,UAAU,cAAb,kC,MCxEzBiL,MAjDf,YAAqD,IAAhC1G,EAA+B,EAA/BA,WAAY/E,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SAAY,EAC5BJ,mBAAS,IADmB,mBAC3C6L,EAD2C,KACtCC,EADsC,KAqBlD,OACE,sBAAKnL,UAAU,YAAf,UACE,6BACGR,EAAM4L,KAAK/E,KAAI,SAAC6E,EAAK3E,GAAN,OACd,+BACE,+BAAO2E,IACP,mBAAGlL,UAAU,eAAeqE,QAAS,kBAb7B,SAACkC,GACjB9G,EAAS,2BACJD,GADG,IAEN4L,KAAK,YAAK5L,EAAM4L,KAAKC,QAAO,SAACH,GAAD,OAAS1L,EAAM4L,KAAKE,QAAQJ,KAAS3E,SAUhBgF,CAAUhF,QAF9CA,QAMb,sBAAKvG,UAAU,SAAf,UACE,uBACEE,KAAK,OACLF,UAAU,eACVuB,YAAY,YACZxB,MAAOmL,EACPlK,SAAU,SAAAwK,GAAC,OAAIL,EAAOK,EAAE3L,OAAOE,QAC/B6E,SAAUL,IAEZ,wBAAQrE,KAAK,SAASF,UAAU,yBAAyBqE,QArChD,SAAA/D,GACbA,EAAMC,iBAEF2K,KAC8B,IAA7B1L,EAAM4L,KAAKE,QAAQJ,IACpBzL,EAAS,2BAAKD,GAAN,IAAa4L,KAAK,GAAD,mBAAO5L,EAAM4L,MAAb,CAAmBF,OAE9CC,EAAO,MA8BL,SACE,mBAAGnL,UAAU,yB,QCxCjBuG,E,MADSkF,GAAc,aAAc,oCACtBC,UAAU,YAI/B,SAASC,EAAYC,GAMnBrF,EAAMsF,WAAN,yBACEC,SAAUF,EAAQ9L,IACf8L,GAFL,IAGEG,MAAOhC,OAAO6B,EAAQG,OACtB9F,OAAQ2F,EAAQ3F,OAAO,MAEtBxF,MAAK,gBAAGqL,EAAH,EAAGA,SAAH,OACJnL,QAAQC,IAAR,UAAekL,EAAf,iBAEDjL,OAAM,SAAAsD,GAAG,OAAIxD,QAAQC,IAAIuD,MCRf6H,MARf,YAAqC,IAAZJ,EAAW,EAAXA,QACvB,OACE,8BACE,cAACK,EAAD,CAAaL,QAASA,OAS5B,SAASK,EAAT,GAAmC,IAAZL,EAAW,EAAXA,QACfM,EAAe,CACnBtK,MAAO,GACPuK,YAAa,GACbf,KAAM,GACNgB,MAAO,GACPL,MAAO,GACPM,SAAU,GACVpG,OAAQ,GACR+E,YAAa,GACbsB,gBAAgB,GAVc,EAYNjN,mBAAS6M,GAZH,mBAYzB1M,EAZyB,KAYlBC,EAZkB,OAacJ,mBAAS,IAbvB,mBAazBkN,EAbyB,KAaRC,EAbQ,OAcgBnN,oBAAS,GAdzB,mBAczBsH,EAdyB,KAcPgC,EAdO,OAeItJ,oBAAS,GAfb,mBAezBkF,EAfyB,KAebkI,EAfa,KAgB1BC,EAAW1J,mBAEXU,EAAM5E,EAAK8E,YAAYF,IAEvB9D,EAAe,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACtBJ,EAAS,2BAAKD,GAAN,kBAAcK,EAAO2E,KAAO3E,EAAOE,UAWvC4M,EAAY,WAEhBlN,EAAS,2BAAIyM,GAAiBK,KAY1BK,EAAY,uCAAG,4BAAAC,EAAA,6DACbC,EAAWtN,EAAMwL,YAAY3E,KAAI,SAAAgE,GAAG,OAAIrL,EAAQ+N,WAAW1C,GAAK2C,YADnD,kBAGZC,QAAQC,IAAIJ,GAAUrM,MAAK,WAChChB,EAAS,2BACJD,GADG,IAENwL,YAAa,UANE,2CAAH,qDAwDlB,OA7CA5E,qBAAU,WACR,IAAM+G,EAAgBC,SAASC,cAAc,kCAE7C,OADAF,EAAcxD,iBAAiB,QAASgD,GACjC,WACLQ,EAAcG,oBAAoB,QAASX,MAG5C,IAEHvG,qBAAU,WACLwF,IACDY,EAAmBZ,GACnBnM,GAAS,SAAA8N,GAAS,kCAAUA,GAAc3B,SAE3C,CAACA,IAEJxF,qBAAU,WAOL5G,EAAM8M,iBACP3L,QAAQC,IAAI,mBACZgM,IACGnM,MAAK,WACJE,QAAQC,IAAI,kBADF,IAEFd,EAAiEN,EAAjEM,GAAI8B,EAA6DpC,EAA7DoC,MAAOuK,EAAsD3M,EAAtD2M,YAAaf,EAAyC5L,EAAzC4L,KAAMgB,EAAmC5M,EAAnC4M,MAAOL,EAA4BvM,EAA5BuM,MAAOM,EAAqB7M,EAArB6M,SAAUpG,EAAWzG,EAAXyG,OAC9D,OAAOrH,EAAGmF,IAAH,mBAAmBjE,IACvB0N,OAAO,CAAE5L,QAAOuK,cAAaf,OAAMgB,QAAOL,QAAOM,WAAUpG,SAAQwH,SAAU/J,OAEjFjD,MAAK,WAEJkL,EAAY,CAAE7L,GAD2DN,EAAjEM,GACU8B,MADuDpC,EAA7DoC,MACauK,YADgD3M,EAAtD2M,YACmBf,KADmC5L,EAAzC4L,KACYgB,MAD6B5M,EAAnC4M,MACaL,MADsBvM,EAA5BuM,MACaM,SADe7M,EAArB6M,SACgBpG,OADKzG,EAAXyG,SAE9DwG,GAAc,GACdhN,EAASyM,GACTQ,EAASvJ,QAAQuK,QACjB/M,QAAQC,IAAI,eAEbC,OAAM,SAAAsD,GAAG,OAAIxD,QAAQjB,MAAMyE,SAG/B,CAAC3E,EAAM8M,iBAGR,qBAAKtM,UAAU,wBAAf,SACE,uBAAMK,SAnEK,SAACC,GACdA,EAAMC,iBACNoI,GAAoB,GACpB8D,GAAc,IAgEYhI,OAAO,OAA/B,UAEE,sBAAKzE,UAAU,OAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,QAAzC,mBACA,uBAAOb,KAAK,OAAOsE,KAAK,QAAQxE,UAAU,eAAeD,MAAOP,EAAMoC,MAAOZ,SAAUpB,EAAcgF,SAAUL,EAAYtD,UAAQ,OAIrI,sBAAKjB,UAAU,OAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,cAAzC,yBACA,0BAAUb,KAAK,OAAOsE,KAAK,cAAcxE,UAAU,eAAe2N,KAAK,IAAI5N,MAAOP,EAAM2M,YAAanL,SAAUpB,EAAcgF,SAAUL,EAAYtD,UAAQ,OAI7J,sBAAKjB,UAAU,OAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,QAAzC,mBACA,uBAAOb,KAAK,OAAOsE,KAAK,QAAQxE,UAAU,eAAeD,MAAOP,EAAM4M,MAAOpL,SAAUpB,EAAcgF,SAAUL,EAAYtD,UAAQ,EACnIU,QAAQ,SAAQC,MAAM,6BAIxB,sBAAK5B,UAAU,OAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,QAAzC,mBACA,uBAAOb,KAAK,OAAOsE,KAAK,QAAQxE,UAAU,eAAeD,MAAOP,EAAMuM,MAAO/K,SAAUpB,EAAcgF,SAAUL,EAC/G5C,QAAQ,uBAAoBC,MAAM,iCAAkCX,UAAQ,OAI9E,sBAAKjB,UAAU,OAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,WAAzC,sBACA,yBAAQyD,KAAK,WAAWxE,UAAU,cAAcD,MAAOP,EAAM6M,SAAUrL,SAAUpB,EAAegF,SAAUL,EAAYtD,UAAQ,EAA9H,UACE,wBAAQlB,MAAM,GAAd,6BAtHS,CAAC,aAAc,gBAAiB,OAAQ,SAAU,QAAS,kBAAmB,yBAA0B,eAAgB,0BAA2B,cAAe,YAAa,oBAAqB,0BAA2B,yBAA0B,iBAAkB,0BAA2B,YAAa,iBAAkB,oBAAqB,QAAS,sBAAuB,kBAAmB,eAAgB,mBAAoB,WAAY,6BAA8B,2BAA4B,eAAgB,WAuHpgBsG,KAAI,SAAAgG,GAAQ,OACtB,wBAAuBtM,MAAOsM,EAA9B,SAAyCA,GAA5BA,YAMnB,sBAAKrM,UAAU,OAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,OAAzC,kBACA,cAAC,EAAD,CAAWwD,WAAYA,EAAY/E,MAAOA,EAAOC,SAAUA,OAI7D,sBAAKO,UAAU,OAAf,UACE,uBAAOA,UAAU,gBAAjB,2BACA,cAAC,EAAD,CACE2G,iBAAkBA,EAClBgC,oBAAqBA,EACrBpE,WAAYA,EACZqE,kBAnIW,SAAAgF,GACnBnO,EAAS,2BACJD,GADG,IAENyG,OAAO,GAAD,mBAAMzG,EAAMyG,QAAZ,YAAuB2H,IAC7BtB,gBAAgB,MAgIV9M,MAAOA,EACPC,SAAUA,OAGd,sBAAKO,UAAU,4BAAf,UACE,wBAAQE,KAAK,SAASF,UAAU,oBAAoBG,kBAAgB,QAAQlB,IAAKyN,EAAUrI,QAASsI,EAAW/H,SAAUL,EAAzH,oBACA,wBAAQrE,KAAK,SAASF,UAAU,kBAAkB4E,SAAUL,EAA5D,4BC9DKsJ,MA/Gf,WAA0B,IAAD,EACSxO,mBAAS,IADlB,mBAChByO,EADgB,KACNC,EADM,OAEmB1O,mBAAS,IAF5B,mBAEhB2O,EAFgB,KAEDC,EAFC,OAGyB5O,mBAAS,IAHlC,mBAGhB6O,EAHgB,KAGEC,EAHF,KAIjBzK,EAAM5E,EAAK8E,YAAYF,IAE7B0C,qBAAU,WACR,IAAMgI,EAAcxP,EAAGyP,WAAW,YAC/BC,MAAM,WAAY,KAAM5K,GACxB6K,YAAW,SAAAC,GACVT,EACES,EAAKC,KAAKpI,KAAI,SAACtC,GAAD,mBAAC,eACPA,EAAI2K,QADE,IACM5O,GAAIiE,EAAIjE,YAIlC,OAAO,WACLsO,OAED,CAAC1K,IAEJ,IAIMiL,EAAgB,SAAC7O,EAAImG,GAGzB,GAFAtF,QAAQC,IAAId,GAET8O,OAAOC,QAAQ,0BAA0B,CAC1C,IAAI/B,EAAW7G,EAAOI,KAAI,SAAAC,GAAK,OAAItH,EAAQ+N,WAAWzG,GAAO0G,YAE7DC,QAAQC,IAAIJ,GAAUrM,MAAK,WACzB7B,EAAGmF,IAAH,mBAAmBjE,IAChBkN,SACAvM,MAAK,WFfhB,IAAyBqL,EEgBbnL,QAAQC,IAAI,qBFhBCkL,EEiBGhM,EFhB1ByG,EAAMuI,aAAahD,GAChBrL,MAAK,gBAAGqL,EAAH,EAAGA,SAAH,OACJnL,QAAQC,IAAR,UAAekL,EAAf,iBAEDjL,OAAM,SAAAsD,GAAG,OAAIxD,QAAQC,IAAIuD,SEcnBtD,OAAM,SAAAnB,GAAK,OAAIiB,QAAQC,IAAIlB,WAKpC,OACE,qCACE,wBAAOM,UAAU,gDAAjB,UACE,gCACE,qBAAIA,UAAU,aAAd,UACE,4CACA,uCACA,6CACA,0CACA,uCACA,uCACA,sCACA,wCACA,8CAGJ,gCACG8N,EAASzH,KAAI,SAAAuF,GAAO,OACnB,+BACE,6BAAKA,EAAQ9L,KACb,6BAAK8L,EAAQhK,QACb,oBAAI5B,UAAU,YAAd,SAA2B4L,EAAQO,cACnC,6BAAKP,EAAQS,WACb,6BAAKT,EAAQG,QACb,6BAAKH,EAAQQ,QACb,oBAAIpM,UAAU,YAAd,SAA2B4L,EAAQR,KAAK/E,KAAI,SAAA6E,GAAG,gBAAOA,EAAP,WAC/C,6BACE,wBACE7G,QAAS,kBAAM4J,EAAiBrC,EAAQ3F,SACxCjG,UAAU,2BACVyF,iBAAe,QACfC,iBAAe,sBAJjB,oBASF,+BACE,wBACErB,QAAS,kBA5DH,SAACuH,GACrBuC,EAAoBvC,GA2DSmD,CAAcnD,IAC7B5L,UAAU,8BACVgP,oBAAkB,MAClBpN,MAAM,cACN6D,iBAAe,QACfC,iBAAe,sBANjB,SAQE,mBAAG1F,UAAU,iBAEf,wBAAQqE,QAAS,kBAAMsK,EAAc/C,EAAQ9L,GAAI8L,EAAQ3F,SAASjG,UAAU,wBAAwByF,iBAAe,UAAUuJ,oBAAkB,MAAMpN,MAAM,SAA3J,SACE,mBAAG5B,UAAU,wBA9BV4L,EAAQ9L,YAsCvB,cAAC,EAAD,CAAOA,GAAG,qBAAqB8B,MAAM,mBAAmB5B,UAAU,SAAlE,SACE,cAAC,EAAD,CAAYiG,OAAQ+H,MAGtB,cAAC,EAAD,CAAOlO,GAAG,qBAAqB8B,MAAM,uBAAuB5B,UAAU,SAAtE,SACE,cAAC,EAAD,CAAe4L,QAASsC,U,YC5BjBzH,MA/Ef,YAAsF,IAA9D3G,EAA6D,EAA7DA,GAAI4G,EAAyD,EAAzDA,aAAcJ,EAA2C,EAA3CA,MAAOK,EAAoC,EAApCA,iBAAkBC,EAAkB,EAAlBA,eAAkB,EACnDvH,mBAAS,GAD0C,mBAC5EwH,EAD4E,KAClEC,EADkE,KAwDnF,OApDAV,qBAAU,WACR,GAAGO,EAAiB,CAClB,IAAMI,EAAOT,EAAMS,KACbC,GAAO,IAAIC,MAAOC,WAAWC,MAAM,GAAI,IAAIC,WAAW,IAAK,KAC3DC,EAAQ,UAAML,EAAN,cAAgBV,EAAM9B,MAC9B8C,EAAW,CAAEC,YAAajB,EAAMpG,MAEhCsH,EAAazI,EAAW0I,MAAX,mBAA6BJ,IAAYK,IAAIX,EAAMO,GACtEE,EAAWG,GAAGxJ,IAASa,QAAQ4I,UAAUC,eACvC,SAACC,GAEC,IAAIC,EAAOC,SAAUF,EAASG,iBAAmBH,EAASI,WAAc,KACxEvH,QAAQC,IAAI,aAAemH,EAAO,UAClCjB,EAAYiB,MAUd,SAACrI,GACC,OAAQA,EAAMyI,MACZ,IAAK,uBACHxH,QAAQC,IAAI,qDACZ,MAEF,IAAK,mBACHD,QAAQC,IAAI,4BACZ,MAEF,IAAK,kBACL,QACED,QAAQC,IAAI,4DAIlB,WAEE4G,EAAWM,SAAS7I,IAAI2H,iBAAiBnG,MAAK,SAAC2H,GAC7CxB,EAAewB,GACfzH,QAAQC,IAAI,oBAAqBwH,YAMxC,CAACzB,IAIF,sBAAK3G,UAAS,uBAAkB2G,GAAoB,0BAA4B0B,gBAAevI,EAA/F,UAEK6G,EACC,qBAAK3G,UAAU,WAAf,SACE,qBACEA,UAAU,2DACVC,KAAK,cACLqI,gBAAezB,EACf0B,gBAAc,IACdC,gBAAc,MACd7F,MAAO,CAAE8F,MAAM,GAAD,OAAK5B,EAAL,UAIlB,sBAAMxC,QAASqC,EAAf,kBAGJ,qBAAKvF,IAAKmF,EAAMnF,IAAKC,IAAKkF,EAAM9B,WCoCvBkE,MA/Gf,YAAkG,IAAzE/B,EAAwE,EAAxEA,iBAAkBgC,EAAsD,EAAtDA,oBAAqBC,EAAiC,EAAjCA,kBAAmBrE,EAAc,EAAdA,WAAc,EACnElF,mBAAS,IAD0D,mBACxF4G,EADwF,KAChF4C,EADgF,OAE7DxJ,oBAAS,GAFoD,mBAExFyJ,EAFwF,KAE7EC,EAF6E,OAGvD1J,mBAAS,IAH8C,mBAGxF2J,EAHwF,KAG1EC,EAH0E,KAKzFC,EAAmB,SAAC,GAAgB,IAAdrJ,EAAa,EAAbA,OACpBsJ,EAAQC,MAAMC,KAAKxJ,EAAOsJ,OAE5BG,EAAY,GAChBH,EAAMI,SAAQ,SAAAxC,GACZ,IAAMyC,EAAS,IAAIC,WACnBD,EAAOE,cAAc3C,GACrByC,EAAOG,iBAAiB,QAAQ,WAC9BL,EAAU5I,KAAK,CACb8D,KAAMuC,EAAKvC,KACXtE,KAAM6G,EAAK7G,KACX0J,KAAM7C,EAAK6C,KACXzI,IAAKqI,EAAOK,OACZ9C,KAAMA,IAER8B,EAAU,GAAD,mBAAK5C,GAAWqD,WAKzB5C,EAAe,SAAC,GAAgB,IAAd7G,EAAa,EAAbA,OAChBiK,EAAcC,OAAOlK,EAAOmK,cAAcC,QAAQC,UAExDrB,EAAU,GAAD,mBAAK5C,EAAOkB,MAAM,EAAG2C,IAArB,YAAsC7D,EAAOkB,MAAM2C,EAAc,OAItEK,EAAa,SAAC7J,GAClBA,EAAMC,iBACND,EAAM8J,kBACNrB,GAAa,IAqBTnC,EAAiB,SAACyD,GAEtBpB,GAAgB,SAAAD,GAAY,4BAAQA,GAAR,CAAsBqB,QAapD,OAVAjE,qBAAU,WACL4C,EAAasB,SAAWrE,EAAOqE,QAA4B,IAAlBrE,EAAOqE,SACjD3B,GAAoB,GACpBE,EAAU,IACVD,EAAkBI,GAClBC,EAAgB,OAGjB,CAACD,IAGF,sBAAKhJ,UAAU,gBAAf,UACE,sBACEA,UAAS,kCAA6B8I,GAAa,YAA1C,YAAyDvE,GAAc,oCAChFgG,YAAaJ,EACbK,WAAYL,EACZM,YAvCkB,SAACnK,GACvBA,EAAMC,iBACND,EAAM8J,kBACNrB,GAAa,IAqCT2B,OAlCa,SAACpK,GAClBA,EAAMC,iBACND,EAAM8J,kBAEN,IAAMO,EAAKrK,EAAMsK,aACjB1B,EAAiB,CAAErJ,OAAQ,CAAEsJ,MAAOwB,EAAGxB,SAEvCJ,GAAa,IAsBX,UAOE,uBAAO/I,UAAU,4BAA4Be,QAAQ,SAArD,yBACA,uBACEf,UAAU,SACVE,KAAK,OACLJ,GAAG,SACH+K,OAAO,UACPC,UAAQ,EACR9J,SAAUkI,EACVtE,SAAUL,OAId,qBAAKvE,UAAU,gCAAf,SACGiG,EAAOqE,OAAS,GAAKrE,EAAOI,KAAI,SAACC,EAAOyE,GAAR,OAC/B,cAAC,EAAD,CAEEjL,GAAIiL,EACJrE,aAAcA,EACdJ,MAAOA,EACPK,iBAAkBA,EAClBC,eAAgBA,GALXmE,QASTpE,IAAqBV,GAAW,mBAAGjG,UAAU,cAAb,kCCezBiP,MArHf,WACE,IAAM/C,EAAe,CACnBtK,MAAO,GACPuK,YAAa,GACbf,KAAM,GACNgB,MAAO,GACPL,MAAO,GACPM,SAAU,GACVpG,OAAQ,IARW,EAUK5G,mBAAS6M,GAVd,mBAUd1M,EAVc,KAUPC,EAVO,OAW2BJ,oBAAS,GAXpC,mBAWdsH,EAXc,KAWIgC,EAXJ,OAYetJ,oBAAS,GAZxB,mBAYdkF,EAZc,KAYFkI,EAZE,KAafC,EAAW1J,mBAEXU,EAAM5E,EAAK8E,YAAYF,IAEvB9D,EAAe,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACtBJ,EAAS,2BAAKD,GAAN,kBAAcK,EAAO2E,KAAO3E,EAAOE,UAiC7C,OAlBAqG,qBAAU,WACmB,IAAxB5G,EAAMyG,OAAOqE,SACd3J,QAAQC,IAAI,yBAAyBpB,GAErCZ,EAAGyP,WAAW,YACXa,IADH,2BACY1P,GADZ,IACmBuM,MAAOhC,OAAOvK,EAAMuM,OAAQ0B,SAAU/J,KACtDjD,MAAK,SAAA0O,GACJxD,EAAY,aAAE7L,GAAIqP,EAAOrP,IAAON,IAChCiN,GAAc,GACdhN,EAASyM,GACTQ,EAASvJ,QAAQuK,QACjB/M,QAAQC,IAAI,eAEbC,OAAM,SAAAsD,GAAG,OAAIxD,QAAQC,IAAIuD,SAG7B,CAAC3E,EAAMyG,SAGR,qBAAKjG,UAAU,wBAAf,SACE,uBAAMK,SA5BK,SAACC,GACdA,EAAMC,iBACNoI,GAAoB,GACpB8D,GAAc,IAyBYhI,OAAO,OAA/B,UAEE,sBAAKzE,UAAU,OAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,QAAzC,mBACA,uBAAOb,KAAK,OAAOsE,KAAK,QAAQxE,UAAU,eAAeD,MAAOP,EAAMoC,MAAOZ,SAAUpB,EAAcgF,SAAUL,EAAYtD,UAAQ,OAIrI,sBAAKjB,UAAU,OAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,cAAzC,yBACA,0BAAUb,KAAK,OAAOsE,KAAK,cAAcxE,UAAU,eAAe2N,KAAK,IAAI5N,MAAOP,EAAM2M,YAAanL,SAAUpB,EAAcgF,SAAUL,EAAYtD,UAAQ,OAI7J,sBAAKjB,UAAU,OAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,QAAzC,mBACA,uBAAOb,KAAK,OAAOsE,KAAK,QAAQxE,UAAU,eAAeD,MAAOP,EAAM4M,MAAOpL,SAAUpB,EAAcgF,SAAUL,EAAYtD,UAAQ,EACnIU,QAAQ,SAAQC,MAAM,6BAIxB,sBAAK5B,UAAU,OAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,QAAzC,mBACA,uBAAOb,KAAK,OAAOsE,KAAK,QAAQxE,UAAU,eAAeD,MAAOP,EAAMuM,MAAO/K,SAAUpB,EAAcgF,SAAUL,EAC/G5C,QAAQ,uBAAoBC,MAAM,iCAAkCX,UAAQ,OAI9E,sBAAKjB,UAAU,OAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,WAAzC,sBACA,yBAAQyD,KAAK,WAAWxE,UAAU,cAAcD,MAAOP,EAAM6M,SAAUrL,SAAUpB,EAAegF,SAAUL,EAAYtD,UAAQ,EAA9H,UACE,wBAAQlB,MAAM,GAAd,6BAtES,CAAC,aAAc,eAAgB,OAAQ,SAAU,QAAS,kBAAmB,yBAA0B,eAAgB,0BAA2B,cAAe,YAAa,oBAAqB,0BAA2B,yBAA0B,iBAAkB,0BAA2B,YAAa,iBAAkB,oBAAqB,QAAS,sBAAuB,kBAAmB,eAAgB,mBAAoB,WAAY,6BAA8B,2BAA4B,eAAgB,WAuEngBsG,KAAI,SAAAgG,GAAQ,OACtB,wBAAuBtM,MAAOsM,EAA9B,SAAyCA,GAA5BA,YAMnB,sBAAKrM,UAAU,OAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,OAAzC,kBACA,cAAC,EAAD,CAAWwD,WAAYA,EAAY/E,MAAOA,EAAOC,SAAUA,OAI7D,sBAAKO,UAAU,OAAf,UACE,uBAAOA,UAAU,gBAAjB,2BACA,cAAC,EAAD,CACE2G,iBAAkBA,EAClBgC,oBAAqBA,EACrBpE,WAAYA,EACZqE,kBAnFW,SAACgF,GACpBnO,EAAS,2BAAKD,GAAN,IAAayG,OAAQ2H,WAqFzB,sBAAK5N,UAAU,4BAAf,UACE,wBAAQE,KAAK,SAASF,UAAU,oBAAoBG,kBAAgB,QAAQlB,IAAKyN,EAAjF,mBACA,wBAAQxM,KAAK,SAASF,UAAU,kBAAkB4E,SAAUL,EAA5D,kCC7EK6K,MAhCf,WACE,OACE,qBAAKpP,UAAU,WAAf,SACE,sBAAKA,UAAU,wBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,0CACA,qBAAKA,UAAU,mBAAf,SACE,uBAAOE,KAAK,OAAOF,UAAU,eAAeuB,YAAY,mBAG5D,qBACEvB,UAAU,aACV2C,MAAO,CAAE0M,OAAQ,QAASC,SAAU,QAFtC,SAIE,cAAC,EAAD,MAGF,qBAAKtP,UAAU,eAAe2C,MAAO,CAAE4M,QAAS,QAAhD,SACE,cAAC,EAAD,CACEzP,GAAG,aACHwF,WAAW,gBACX1D,MAAM,iBACN2D,WAAW,cAJb,SAME,cAAC,EAAD,c,YC0EGiK,MApGf,WACE,IAAMtD,EAAe,CACnBuD,gBAAiB,GACjBC,YAAa,GACbC,mBAAoB,IAJE,EAMEtQ,mBAAS6M,GANX,mBAMjB1M,EANiB,KAMVC,EANU,OAOEJ,qBAPF,mBAOjBK,EAPiB,KAOVC,EAPU,KASlBC,EAAe,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACtBJ,EAAS,2BAAKD,GAAN,kBAAcK,EAAOC,GAAKD,EAAOE,UAoC3C,OACE,sBAAKC,UAAU,qBAAf,UACGN,GACC,sBAAKM,UAAU,qDAAqDC,KAAK,QAAzE,UACGP,EACD,wBAAQQ,KAAK,SAASF,UAAU,gBAAgBG,kBAAgB,QAAQC,aAAW,aAKvF,sBAAKJ,UAAU,aAAf,UACE,uBAAOA,UAAU,aAAae,QAAQ,kBAAtC,8BAIA,uBACEb,KAAK,WAAWJ,GAAG,kBAAkBE,UAAU,oBAC/CD,MAAOP,EAAMiQ,gBAAiBzO,SAAUpB,OAI5C,sBAAKI,UAAU,aAAf,UACE,uBAAOA,UAAU,aAAae,QAAQ,kBAAtC,0BAIA,uBACEb,KAAK,WAAWJ,GAAG,cAAcE,UAAU,oBAC3CD,MAAOP,EAAMkQ,YAAa1O,SAAUpB,OAIxC,sBAAKI,UAAU,aAAf,UACE,uBAAOA,UAAU,aAAae,QAAQ,kBAAtC,kCAIA,uBACEb,KAAK,WAAWJ,GAAG,qBAAqBE,UAAU,oBAClDD,MAAOP,EAAMmQ,mBAAoB3O,SAAUpB,OAK/C,sBAAKI,UAAU,gCAAf,UACE,uBAAOE,KAAK,SAASH,MAAM,SAASC,UAAU,uBAAuBqE,QA1EpD,SAAA/D,GACrBA,EAAMC,iBADwB,IAEtBkP,EAAqDjQ,EAArDiQ,gBAAiBC,EAAoClQ,EAApCkQ,YAAaC,EAAuBnQ,EAAvBmQ,mBAEtC,GAAIF,GAAoBC,GAAgBC,EAGtC,GAAGD,IAAgBC,EAAmB,CACpChP,QAAQC,IAAIpB,GACZ,IAAMmE,EAAOxF,IAASW,OAAO8E,YACvBgM,EAAczR,IAASW,KAAK+Q,kBAAkBC,WAAWnM,EAAKrE,MAAOmQ,GAE3E9L,EAAKoM,6BAA6BH,GAC/BnP,MAAK,WAEJkD,EAAKqM,eAAeN,GACjBjP,MAAK,WACJ2M,SAASC,cAAc,mCAAmCK,QAC1DjO,EAASyM,MAEVrL,OAAM,SAAAsD,GAAG,OAAIxD,QAAQC,IAAIuD,SAE7BtD,OAAM,SAAAsD,GAAG,OAAIxE,EAAS,mCAEzBA,EAAS,oCAnBXA,EAAS,0BAsEP,uBACEO,KAAK,SAASH,MAAM,SAASC,UAAU,iBACvCqE,QAjFO,WACb5E,EAASyM,IAgFc/L,kBAAgB,QAAQC,aAAW,iBCka/C6P,MA9ff,WAYE,IAZoB,EAqCM5Q,mBAzBL,CACnBmC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPpC,MAAO,GAEP0C,UAAW,GACXC,OAAQ,GACRE,QAAS,GACTC,KAAM,GACN5C,MAAO,GACP6C,QAAS,GAETE,eAAgB,GAChBC,WAAY,GACZC,UAAW,KA3BO,mBAqCbjD,EArCa,KAqCNC,EArCM,OAsCoBJ,mBAAS,IAtC7B,mBAsCb6Q,EAtCa,KAsCCC,EAtCD,OAuCgB9Q,oBAAS,GAvCzB,mBAuCbkF,EAvCa,KAuCDkI,EAvCC,OAwCS3N,EAAK8E,YAA1BF,EAxCY,EAwCZA,IAAKI,EAxCO,EAwCPA,YAEPlE,EAAe,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACtBJ,EAAS,2BAAKD,GAAN,kBAAcK,EAAO2E,KAAO3E,EAAOE,UAkE7C,OAhBAqG,qBAAU,WACRxH,EAAGmF,IAAH,kBAAkBL,IACf0M,MACA3P,MAAK,SAACsD,GAELtE,EAAS,qCACP+B,MAAOsC,EAAYuM,MAAM,KAAK,GAC9B5O,MAAOqC,EAAYuM,MAAM,KAAK,IAC3BtM,EAAI2K,QACJ3K,EAAI2K,OAAOxK,aACXH,EAAI2K,OAAOzK,kBAGjBpD,OAAM,SAACsD,GAAD,OAASxD,QAAQC,IAAIuD,QAC7B,CAACL,EAAaJ,IAGf,qBAAK1D,UAAU,aAAf,SACE,sBAAMK,SAvDK,SAACC,GACdA,EAAMC,iBAEN3B,EAAGmF,IAAH,kBAAkBL,IACf8J,OAAO,CACNlO,MAAOE,EAAMF,MACboC,MAAOlC,EAAMkC,MACbuC,aAAc,CACZjC,UAAWxC,EAAMwC,UACjBC,OAAQzC,EAAMyC,OACdE,QAAS3C,EAAM2C,QACfC,KAAM5C,EAAM4C,KACZ5C,MAAOA,EAAMA,MACb6C,QAAS7C,EAAM6C,SAEjB6B,YAAa,CACX3B,eAAgB/C,EAAM+C,eACtBC,WAAYhD,EAAMgD,WAClBC,UAAWjD,EAAMiD,aAUpBhC,MAAK,WACJ3B,EAAK8E,YAAYC,cAAc,CAC7BC,YAAY,GAAD,OAAKtE,EAAMgC,MAAX,YAAoBhC,EAAMiC,SAEvCgL,GAAc,MAEf5L,OAAM,SAACsD,GAAD,OAASxD,QAAQC,IAAIuD,OAqBJM,OAAO,OAA/B,SACE,sBAAKzE,UAAU,iBAAf,UAEE,qBAAKA,UAAU,WAAf,SACE,qBAAKA,UAAU,iCAAf,SACGuE,GACC,yBACErE,KAAK,SACLF,UAAU,+BACVqE,QArEM,WACpBoI,GAAc,GACd0D,EAAgB3Q,IAgEJ,UAKE,mBAAGQ,UAAU,qBALf,cAaN,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,MAAf,SACE,oBAAIA,UAAU,0BAAd,yBAIJ,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,MAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,QAAzC,wBAIA,uBACEb,KAAK,OACLsE,KAAK,QACLxE,UAAU,eACVD,MAAOP,EAAMgC,MACbR,SAAUpB,EACVgF,SAAUL,EACVtD,UAAQ,OAIZ,sBAAKjB,UAAU,MAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,QAAzC,uBAIA,uBACEb,KAAK,OACLsE,KAAK,QACLxE,UAAU,eACVD,MAAOP,EAAMiC,MACbT,SAAUpB,EACVgF,SAAUL,EACVtD,UAAQ,UAKd,qBAAKjB,UAAU,WAAf,SACE,sBAAKA,UAAU,QAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,QAAzC,uBAIA,uBACEb,KAAK,OACLsE,KAAK,QACLxE,UAAU,eACVD,MAAOP,EAAMkC,MACbV,SAAUpB,EACVgF,SAAUL,EACVtD,UAAQ,EACRU,QAAQ,SACRC,MAAM,+BAIZ,qBAAK5B,UAAU,MAAf,SACE,qBAAKA,UAAU,MAAf,SACE,cAAC,EAAD,CACEF,GAAG,sBACH8B,MAAM,kBACN5B,UAAU,mBACVsF,WAAW,kBAJb,SAME,cAAC,EAAD,UAMN,qBAAKtF,UAAU,WAAf,SACE,qBAAKA,UAAU,MAAf,SACE,oBAAIA,UAAU,oBAAd,gCAIJ,sBAAKA,UAAU,WAAf,UACE,sBAAKA,UAAU,MAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,YAAzC,wBAIA,uBACEb,KAAK,OACLsE,KAAK,YACLxE,UAAU,eACVD,MAAOP,EAAMwC,UACbhB,SAAUpB,EACVgF,SAAUL,EACVtD,UAAQ,OAIZ,sBAAKjB,UAAU,MAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,SAAzC,yBAIA,uBACEb,KAAK,OACLsE,KAAK,SACLxE,UAAU,eACVD,MAAOP,EAAMyC,OACbjB,SAAUpB,EACVgF,SAAUL,EACVtD,UAAQ,UAKd,sBAAKjB,UAAU,WAAf,UACE,sBAAKA,UAAU,MAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,UAAzC,qBAIA,uBACEb,KAAK,SACLsE,KAAK,UACLxE,UAAU,eACVD,MAAOP,EAAM2C,QACbnB,SAAUpB,EACVgF,SAAUL,EACVtD,UAAQ,OAIZ,sBAAKjB,UAAU,MAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,OAAzC,kBAIA,uBACEb,KAAK,OACLsE,KAAK,OACLxE,UAAU,eACVD,MAAOP,EAAM4C,KACbpB,SAAUpB,EACVgF,SAAUL,EACVtD,UAAQ,UAKd,sBAAKjB,UAAU,WAAf,UACE,sBAAKA,UAAU,MAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,QAAzC,mBAIA,uBACEb,KAAK,OACLsE,KAAK,QACLxE,UAAU,eACVD,MAAOP,EAAMA,MACbwB,SAAUpB,EACVgF,SAAUL,EACVtD,UAAQ,OAIZ,sBAAKjB,UAAU,MAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,OAAzC,qBAIA,uBACEb,KAAK,OACLsE,KAAK,UACLxE,UAAU,eACVD,MAAOP,EAAM6C,QACbrB,SAAUpB,EACVgF,SAAUL,EACVtD,UAAQ,UAMd,qBAAKjB,UAAU,WAAf,SACE,qBAAKA,UAAU,MAAf,SACE,oBAAIA,UAAU,oBAAd,+BAIJ,qBAAKA,UAAU,WAAf,SACE,sBAAKA,UAAU,MAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,iBAAzC,kCAIA,uBACEb,KAAK,OACLsE,KAAK,iBACLxE,UAAU,eACVD,MAAOP,EAAM+C,eACbvB,SAAUpB,EACVgF,SAAUL,EACVtD,UAAQ,SAId,sBAAKjB,UAAU,WAAf,UACE,sBAAKA,UAAU,MAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,YAAzC,4BAIA,uBACEb,KAAK,OACLsE,KAAK,YACLxE,UAAU,eACVD,MAAOP,EAAMiD,UACbZ,UAAW,EACXK,UAAW,GACXN,MAAM,sBACNZ,SAAUpB,EACVgF,SAAUL,EACVtD,UAAQ,OAIZ,sBAAKjB,UAAU,MAAf,UACE,uBAAOA,UAAU,gBAAgBe,QAAQ,aAAzC,8BAIA,uBACEb,KAAK,OACLsE,KAAK,aACLxE,UAAU,eACV2B,QAAQ,8BACRC,MAAM,qCACN7B,MAAOP,EAAMgD,WACbxB,SAAUpB,EACVgF,SAAUL,EACVtD,UAAQ,UAkHd,qBAAKjB,UAAU,WAAf,SACE,qBAAKA,UAAU,oCAAf,UACIuE,GACA,qCACE,yBACErE,KAAK,SACLF,UAAU,gCACVqE,QA5bA,WAChBoI,GAAc,GACdhN,EAASyQ,IAubK,UAKE,mBAAGlQ,UAAU,6BALf,YAQA,yBAAQE,KAAK,SAASF,UAAU,8BAAhC,UACE,mBAAGA,UAAU,6BADf,2B,MCzbHsQ,MAxDf,WAAmB,IAAD,EACYjR,mBAAS,IADrB,mBACTkR,EADS,KACDC,EADC,KAER9M,EAAQ5E,EAAK8E,YAAbF,IAmBR,OAjBA0C,qBAAU,WACR,IAAMgI,EAAcxP,EAAGyP,WAAW,UAC/BC,MAAM,WAAY,KAAM5K,GACxB+M,QAAQ,aAAc,QACtBlC,YAAW,SAAAC,GAAI,OAAIgC,EAAUhC,EAAKC,KAAKpI,KAAI,SAAAtC,GAAG,gCAE3CjE,GAAIiE,EAAIjE,IACLiE,EAAI2K,QAHoC,IAI3CgC,WAAY3M,EAAI2K,OAAOgC,WAAWC,SAASzJ,WAAWC,MAAM,EAAG,aAIrE,OAAO,WACLiH,OAED,CAAC1K,IAGF,qBAAK1D,UAAU,kBAAf,SACE,sBAAKA,UAAU,wBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,wCACA,qBAAKA,UAAU,mBAAf,SACE,uBAAOE,KAAK,OAAOF,UAAU,eAAeuB,YAAY,mBAG5D,qBAAKvB,UAAU,aAAa2C,MAAO,CAAE0M,OAAQ,QAASC,SAAU,QAAhE,SACE,wBAAOtP,UAAU,gDAAjB,UACE,gCACE,qBAAIA,UAAU,aAAd,UACE,0CACA,4CACA,uCACA,0CAGJ,gCACGuQ,EAAOlK,KAAI,SAAAuK,GAAK,OACf,+BACE,6BAAKA,EAAM9Q,KACX,6BAAK8Q,EAAMF,aACX,6BAAKE,EAAMhP,QACX,6BAAKgP,EAAMC,QAJJD,EAAM9Q,oBCAhBgR,MAjCf,WAAgB,IAAD,EACWzR,mBAAS,MADpB,mBACNsE,EADM,KACAoN,EADA,KASb,OANA3K,qBAAU,WACRtH,EAAKkS,oBAAmB,SAAAvN,GACtBsN,EAAQtN,GAAsB,WAE/B,IAGD,qBAAKzD,UAAU,MAAf,SACE,cAAC,IAAD,UACI2D,EAOF,qCACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOsN,KAAK,QAAQC,UAAWC,IAC/B,cAAC,IAAD,CAAOF,KAAK,UAAUC,UAAWZ,IACjC,cAAC,IAAD,CAAOW,KAAK,IAAIC,UAAW9B,UAX7B,eAAC,IAAD,WACE,cAAC,IAAD,CAAO6B,KAAK,UAAUC,UAAWrO,IACjC,cAAC,IAAD,CAAOoO,KAAK,iBAAiBC,UAAW5M,IACxC,cAAC,IAAD,CAAO2M,KAAM,CAAC,UAAW,KAAMC,UAAWhS,YCxBtDkS,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFlE,SAASmE,eAAe,W","file":"static/js/main.a6647294.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\nimport 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDIPlDdqKYfpAFM6Yum7jig3WPnkLBYOyg\",\r\n  authDomain: \"tybca-project.firebaseapp.com\",\r\n  projectId: \"tybca-project\",\r\n  storageBucket: \"tybca-project.appspot.com\",\r\n  messagingSenderId: \"837424055879\",\r\n  appId: \"1:837424055879:web:dced06ea9558f5930f5362\",\r\n  measurementId: \"G-27XZ19T96Y\"\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebase.firestore();\r\nconst auth = firebase.auth();\r\nconst storageRef = firebase.storage().ref();\r\nconst storage = firebase.storage();\r\n\r\nexport { auth, storage, storageRef };\r\nexport default db;\r\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./SignIn.css\";\r\nimport { auth } from '../../firebase';\r\n\r\nfunction SignIn() {\r\n  const history = useHistory();\r\n  const [state, setState] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [error, setError] = useState();\r\n\r\n  const handleChange = ({ target }) => {\r\n    setState({ ...state, [target.id]: target.value });\r\n  };\r\n\r\n  // console.log(state);\r\n\r\n  const signIn = (event) => {\r\n    event.preventDefault();\r\n\r\n    auth.signInWithEmailAndPassword(state.email, state.password)\r\n      .then(() => {\r\n        history.push('/');  // Redirect to root on submit.\r\n        console.log('SignIn Successful');\r\n      })\r\n      .catch(error => setError(error?.message));\r\n  }\r\n\r\n  return (\r\n    <div className=\"signIn\">\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            {error && \r\n              <div className=\"alert alert-danger alert-dismissible fade show m-3\" role=\"alert\">\r\n                {error}\r\n                <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n              </div>\r\n            }\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <div className=\"signIn__form\">\r\n              <h2>Sign In</h2>\r\n              <form onSubmit={signIn}>\r\n                <label htmlFor=\"email\" className=\"form-label\">\r\n                  Email address:\r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  className=\"form-control\"\r\n                  id=\"email\"\r\n                  onChange={handleChange}\r\n                  value={state.email}\r\n                  required\r\n                />\r\n\r\n                <label htmlFor=\"password\" className=\"form-label mt-1\">\r\n                  Password:\r\n                </label>\r\n                <input\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  id=\"password\"\r\n                  onChange={handleChange}\r\n                  value={state.password}\r\n                  required\r\n                />\r\n                \r\n                <input\r\n                  type=\"submit\"\r\n                  className=\"btn btn-primary mt-2\"\r\n                  value=\"Sign in\"\r\n                  />\r\n\r\n                  <br/>\r\n                \r\n                {/*\r\n                <Link to=\"/passwordreset\" className=\"btn btn-link mt-2\">\r\n                  Forgot password?\r\n                </Link>\r\n                */}\r\n\r\n                <Link to=\"/signup\" className=\"btn btn-link mt-2\">\r\n                  Not a member? Create an account here.\r\n                </Link>\r\n              </form>\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <img\r\n              src=\"https://firebasestorage.googleapis.com/v0/b/tybca-project.appspot.com/o/assets%2FScreenshot%202021-01-27%20122352.jpg?alt=media&token=5d70f4f2-4efe-480f-8461-a4291960a1b6\"\r\n              alt=\"banner\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n","import React from \"react\";\r\n\r\nfunction Stage1({ currentStep, state, handleChange }) {\r\n  return currentStep !== 1 ? null : (\r\n    <div id=\"stage1 container\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <h3 className=\"mb-3\">Account Information</h3>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2\">\r\n        <div className=\"col\">\r\n          <div className=\"form-floating mb-1\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"fname\"\r\n              placeholder=\"First Name\"\r\n              onChange={handleChange}\r\n              value={state.fname}\r\n              required\r\n            />\r\n\r\n\r\n            <label htmlFor=\"fname\">First Name</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"form-floating mb-1\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"lname\"\r\n              placeholder=\"Last Name\"\r\n              onChange={handleChange}\r\n              value={state.lname}\r\n              required\r\n            />\r\n\r\n\r\n            <label htmlFor=\"lname\">Last Name</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2\">\r\n        <div className=\"col\">\r\n          <div className=\"form-floating mb-1\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"phone\"\r\n              placeholder=\"Phone No.\"\r\n              onChange={handleChange}\r\n              value={state.phone}\r\n              pattern=\"^[\\d]{10}$\"\r\n              title=\"Should contain 10 digits.\"\r\n              required\r\n            />\r\n\r\n\r\n            <label htmlFor=\"phone\">Phone No.</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"form-floating mb-1\">\r\n\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              id=\"email\"\r\n              placeholder=\"Email\"\r\n              onChange={handleChange}\r\n              value={state.email}\r\n              required\r\n            />\r\n\r\n\r\n            <label htmlFor=\"email\">Email</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2\">\r\n        <div className=\"col\">\r\n          <div className=\"form-floating mb-1\">\r\n\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              id=\"password\"\r\n              placeholder=\"Password\"\r\n              onChange={handleChange}\r\n              value={state.password}\r\n              required\r\n              minLength={8}\r\n            />\r\n\r\n\r\n            <label htmlFor=\"password\">Password</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"form-floating mb-1\">\r\n\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              id=\"confirmPassword\"\r\n              placeholder=\"Confirm Password\"\r\n              onChange={handleChange}\r\n              value={state.confirmPassword}\r\n              required\r\n              minLength={8}\r\n            />\r\n\r\n            <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Stage1;\r\n","import React from \"react\";\r\n\r\nfunction Stage2({ currentStep, state, handleChange }) {\r\n  return currentStep !== 2 ? null : (\r\n    <div id=\"stage2 container\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <h3 className=\"mb-3\">Business Information</h3>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2\">\r\n        <div className=\"col\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"storeName\"\r\n              placeholder=\"Store Name\"\r\n              onChange={handleChange}\r\n              value={state.storeName}\r\n              required\r\n            />\r\n\r\n\r\n            <label htmlFor=\"storeName\">Store Name</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2\">\r\n        <div className=\"col\">\r\n          <h5 className=\"mt-2\">Business Address</h5>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2 mb-2\">\r\n        <div className=\"col\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"shopNo\"\r\n              placeholder=\"Shop No.\"\r\n              onChange={handleChange}\r\n              value={state.shopNo}\r\n              required\r\n            />\r\n\r\n            <label htmlFor=\"shopNo\">Shop No.</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              id=\"pincode\"\r\n              minLength={6}\r\n              maxLength={6}\r\n              placeholder=\"Pincode\"\r\n              onChange={handleChange}\r\n              value={state.pincode}\r\n              required\r\n            />\r\n\r\n            <label htmlFor=\"pincode\">Pincode</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2 mb-2\">\r\n        <div className=\"col\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"city\"\r\n              placeholder=\"City\"\r\n              onChange={handleChange}\r\n              value={state.city}\r\n              required\r\n            />\r\n\r\n            <label htmlFor=\"city\">City</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"state\"\r\n              placeholder=\"State\"\r\n              onChange={handleChange}\r\n              value={state.state}\r\n              required\r\n            />\r\n\r\n            <label htmlFor=\"state\">State</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"country\"\r\n              placeholder=\"Country\"\r\n              onChange={handleChange}\r\n              value={state.country}\r\n              required\r\n            />\r\n\r\n            <label htmlFor=\"country\">Country</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Stage2;\r\n","import React from \"react\";\r\n\r\nfunction Stage3({ currentStep, state, handleChange }) {\r\n  /*\r\n  const tenYears = () => {\r\n    const currYear = new Date().getFullYear();\r\n    const list = [];\r\n    for (let year = currYear; year <= currYear + 10; year++) {\r\n      list.push(year);\r\n    }\r\n    return list;\r\n  };\r\n  */\r\n\r\n  return currentStep !== 3 ? null : (\r\n    <div id=\"stage3 container\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <h3 className=\"mb-3\">Billing Information</h3>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row mb-2\">\r\n        <div className=\"col\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"accHoldersName\"\r\n              placeholder=\"Account Holder's Name\"\r\n              onChange={handleChange}\r\n              value={state.accHoldersName}\r\n              required\r\n              />\r\n\r\n            <label htmlFor=\"accHoldersName\">Account Holder's Name</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2 mb-2\">\r\n        <div className=\"col-4\">\r\n          <div className=\"form-floating\">\r\n\r\n            {/* <input \r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              id=\"cardNumber\"\r\n              placeholder=\"Card Number\"\r\n              minLength={13}\r\n              maxLength={19}\r\n              onChange={handleChange}\r\n              value={state.cardNumber}\r\n              //Visa || Mastercard\r\n              //pattern=\"/^(?:4[0-9]{12}(?:[0-9]{3})?)$/ | /^(?:5[1-5][0-9]{14})$/ \"\r\n              required\r\n            />*/}\r\n            <input \r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"branchIFSC\"\r\n              placeholder=\"Branch IFSC Code\"\r\n              // pattern=\"^[A-Za-z]{4}[a-zA-Z0-9]{7}$\"\r\n              title=\"Example: AAAA0999999, XXXX099XX9XX\"\r\n              onChange={handleChange}\r\n              value={state.branchIFSC}\r\n            />\r\n\r\n            <label htmlFor=\"branchIFSC\">Branch IFSC Code</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"accNumber\"\r\n              placeholder=\"Account Number\"\r\n              minLength={8}\r\n              maxLength={18}\r\n              title=\"Usually 8-18 digits\"\r\n              onChange={handleChange}\r\n              value={state.accNumber}\r\n              required\r\n            />\r\n\r\n            <label htmlFor=\"accNumber\">Account Number</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n{/*  \r\n      <div className=\"row mb-2\">\r\n        <div className=\"col-3\">\r\n          <h5>Expiry Date</h5>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2 mb-2\">\r\n        <div className=\"col-3\">\r\n          <div className=\"form-floating\">\r\n            <select\r\n              className=\"form-select\"\r\n              id=\"month\"\r\n              onChange={handleChange}\r\n              value={state.month}\r\n              required\r\n            >\r\n              <option value=\"\"> --Select-- </option>\r\n              <option value=\"January\">January</option>\r\n              <option value=\"February\">February</option>\r\n              <option value=\"March\">March</option>\r\n              <option value=\"April\">April</option>\r\n              <option value=\"May\">May</option>\r\n              <option value=\"June\">June</option>\r\n              <option value=\"July\">July</option>\r\n              <option value=\"August\">August</option>\r\n              <option value=\"September\">September</option>\r\n              <option value=\"October\">October</option>\r\n              <option value=\"November\">November</option>\r\n              <option value=\"December\">December</option>\r\n            </select>\r\n            <label htmlFor=\"month\">Month</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-3\">\r\n          <div className=\"form-floating\">\r\n            <select\r\n              className=\"form-select\"\r\n              id=\"year\"\r\n              onChange={handleChange}\r\n              value={state.year}\r\n              required\r\n            >\r\n              <option value=\"\"> --Select-- </option>\r\n              {tenYears().map((year) => (\r\n                <option key={year} value={year}>\r\n                  {year}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <label htmlFor=\"month\">Year</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Stage3;\r\n","import React from 'react';\r\n\r\nfunction Stage4({ currentStep, error }) {\r\n  return (\r\n    currentStep !== 4 ?\r\n    null : \r\n      !error ? (\r\n        <div id=\"stage4\" className=\"text-center\">\r\n          <h2>Success !</h2>\r\n          <i className=\"fas fa-check-circle text-success my-5\" style={{ fontSize: '80px' }}></i>\r\n\r\n          <h4 className=\"text-muted\">You Have Successfully <br /> Signed Up</h4>\r\n        </div>\r\n      ) : (\r\n        <div id=\"stage4\" className=\"text-center\">\r\n          <h2>Failure !</h2>\r\n          <i className=\"fas fa-times-circle text-danger my-5\" style={{ fontSize: '80px' }}></i>\r\n\r\n          <h4 className=\"text-muted\">Registration Failed</h4>\r\n        </div>\r\n      )\r\n    \r\n  )\r\n}\r\n\r\nexport default Stage4;\r\n","import React, { useState, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './SignUp.css';\r\nimport db, { auth } from '../../firebase';\r\n\r\nimport Stage1 from './stages/Stage1';\r\nimport Stage2 from './stages/Stage2';\r\nimport Stage3 from './stages/Stage3';\r\nimport Stage4 from './stages/Stage4';\r\n\r\nfunction SignUp() {\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const [state, setState] = useState({\r\n    fname: '', \r\n    lname: '', \r\n    phone: '', \r\n    email: '', \r\n    password: '', \r\n    confirmPassword: '', \r\n\r\n    storeName: '',\r\n    shopNo: '',\r\n    pincode: '',\r\n    city: '', \r\n    state: '', \r\n    country: '', \r\n\r\n    accHoldersName: '',\r\n    branchIFSC: '',\r\n    accNumber: '',\r\n    //cardHoldersName: '', \r\n    //cardNumber: '',\r\n    //cvv: '',\r\n    //month: '', \r\n    //year: '',\r\n  });\r\n  const progressBar = useRef(); // progress on the stages in the form.\r\n  const [error, setError] = useState();\r\n\r\n\r\n  const toggleActiveClass = (liIndex) => {\r\n    progressBar.current\r\n      .querySelectorAll('li')[liIndex]\r\n      .classList.toggle('active');\r\n  }\r\n  \r\n  // Backward navigation\r\n  const prev = (event) => {\r\n    event.preventDefault();\r\n    let temp_step = currentStep - 1;\r\n    \r\n    setCurrentStep(temp_step);\r\n\r\n    if (temp_step > 0)\r\n      toggleActiveClass(temp_step);\r\n  }\r\n\r\n  // Forward navigation \r\n  const next = (event) => {\r\n    event.preventDefault();\r\n\r\n    let temp_step = currentStep + 1;\r\n    if(currentStep === 1 && state.password !== state.confirmPassword)\r\n      setError('Passwords do not Match.');\r\n    else\r\n      setCurrentStep(temp_step);\r\n\r\n    if (temp_step < 5)\r\n      toggleActiveClass(currentStep);\r\n\r\n    if (temp_step === 4) {// submit to db and create account\r\n      // console.log(state);\r\n      signUp();\r\n    }\r\n  }\r\n\r\n  const signUp = () => {\r\n    auth.createUserWithEmailAndPassword(state.email, state.password)\r\n      .then(authUser => {\r\n        const uid = authUser.user.uid;\r\n\r\n        auth.currentUser\r\n          .updateProfile({\r\n            displayName: `${state.fname} ${state.lname}`\r\n          });\r\n\r\n        db.doc(`sellers/${uid}`).set({\r\n          email: state.email,\r\n          phone: state.phone,\r\n          businessInfo: {\r\n            storeName: state.storeName,\r\n            shopNo: state.shopNo,\r\n            pincode: state.pincode,\r\n            city: state.city, \r\n            state: state.state, \r\n            country: state.country,\r\n          },\r\n          billingInfo: {\r\n            accHoldersName: state.accHoldersName,\r\n            branchIFSC: state.branchIFSC, \r\n            accNumber: state.accNumber,\r\n            /*cardHoldersName: state.cardHoldersName, \r\n            cardNumber: state.cardNumber,\r\n            cvv: state.cvv,\r\n            month: state.month, \r\n            year: state.year,*/\r\n          }\r\n        })\r\n        .then(() => {\r\n          auth.signInWithEmailAndPassword(state.email, state.password);\r\n        })\r\n        .catch(err => console.log(err));\r\n      })\r\n      .catch(error => setError(error.message));\r\n  }\r\n\r\n  const handleChange = ({ target }) => {\r\n    setState({ ...state, [target.id]: target.value });\r\n  }\r\n\r\n  return (\r\n    <div className=\"signUp\">\r\n\r\n      <div className=\"signUp__form\">\r\n        <div className=\"signUp__header p-4\">\r\n          <h1>Sign Up</h1>\r\n          <h5 className='text-muted'>Fill all form fields to go to next step.</h5>\r\n        </div>\r\n        \r\n\r\n        <ul id=\"signUp__progressbar\" ref={progressBar}>\r\n          <li className=\"active\" id=\"account\">\r\n            <strong>Account</strong>\r\n          </li>\r\n          <li id=\"business\"><strong>Business</strong></li>\r\n          <li id=\"billing\"><strong>Billing</strong></li>\r\n          <li id=\"confirm\"><strong>Finish</strong></li>\r\n        </ul>\r\n\r\n        {error && \r\n          <div className=\"alert alert-danger alert-dismissible fade show m-3\" role=\"alert\">\r\n            {error}\r\n            <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n          </div>\r\n        }\r\n\r\n        <form onSubmit={next}>\r\n          <div className=\"signUp__stages\">\r\n            <Stage1 currentStep={currentStep} state={state} handleChange={handleChange} />\r\n            <Stage2 currentStep={currentStep} state={state} handleChange={handleChange} />\r\n            <Stage3 currentStep={currentStep} state={state} handleChange={handleChange} />\r\n            <Stage4 currentStep={currentStep} error={error} />\r\n          </div>\r\n          \r\n          <div className=\"signUp__actions\">\r\n            <button \r\n              className={`signUp__prevBtn btn btn-secondary ${((!(currentStep > 1) || (currentStep === 4)) && !error) && 'd-none' }`}\r\n              onClick={prev}\r\n            >\r\n              Previous\r\n            </button>\r\n            <button \r\n              type='submit'\r\n              className={`\r\n                btn mx-2\r\n                ${currentStep === 4 && 'd-none' } \r\n                ${currentStep === 3 ? 'btn-success' : 'signUp__nextBtn'}\r\n              `} \r\n            >\r\n              {currentStep === 3 ? 'Finish' : 'Next'}\r\n            </button>\r\n            <br />\r\n            <Link to='/signin' className=\"btn btn-link\">\r\n              Already a member? Click here to sign in.\r\n            </Link>\r\n          </div>\r\n        </form>\r\n        \r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./PasswordReset.css\";\r\n// import { auth } from '../../firebase';\r\n\r\nfunction PasswordReset() {\r\n\r\n  const initialState = {\r\n    email: \"\",\r\n    \r\n  };\r\n\r\n  const [state, setState] = useState(initialState);\r\n  // const [isDisabled, setIsDisabled] = useState(true);\r\n  const [ isDisabled ] = useState(true);\r\n  const handleChange = ({ target }) => {\r\n    setState({ ...state, [target.name]: target.value });\r\n  };\r\n\r\n\r\n  const submit = (event) => {\r\n    event.preventDefault();\r\n\r\n    // logic for submit goes here...\r\n  };\r\n\r\n  return (\r\n    <div className=\"PasswordReset\">\r\n      <form onSubmit={submit} method=\"post\">\r\n        <div className=\"container mt-4\">\r\n          <div className=\"row\">\r\n            <div className=\"col\">\r\n              <h2>Reset Password</h2>\r\n              <hr/>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row\">\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"email\">\r\n                Email:\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"email\"\r\n                className=\"form-control\"\r\n                value={state.email}\r\n                onChange={handleChange}\r\n                required\r\n                />\r\n            </div>\r\n\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"opt\">\r\n                OPT:\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"opt\"\r\n                className=\"form-control\"\r\n                value={state.opt}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col \">\r\n              <button className=\"btn btn-primary mt-4\">\r\n                Send OTP\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row\">\r\n            <div className=\"col\">\r\n            <label className=\"text-end fs-5\" htmlFor=\"npass\">\r\n                New Password\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"npass\"\r\n                className=\"form-control\"\r\n                value={state.npass}\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"cpass\">\r\n               Confirm Password\r\n             </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"cpass\"\r\n                className=\"form-control\"\r\n                value={state.cpass}\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col d-flex justify-content-center \">\r\n              <button type=\"submit\" className=\"btn btn-primary mt-3\" >Reset Password</button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row \">\r\n              <div className=\"col d-flex justify-content-center\">\r\n              <Link to=\"/\" className=\"btn btn-link mt-3 \">\r\n                  Back to login\r\n                </Link>\r\n              </div>\r\n              <div className=\"col d-flex justify-content-center\">\r\n              <Link to=\"/signup\" className=\"btn btn-link mt-3\">\r\n              Not a member? Create an account here.\r\n                </Link>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PasswordReset;\r\n","import React from \"react\";\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nimport \"./Header.css\";\r\nimport { auth } from '../../firebase';\r\n\r\nfunction Header() {\r\n  return (\r\n    <nav className=\"header\">\r\n      <div className=\"header__container\">\r\n        <div>\r\n          <Link to=\"/\">\r\n            <img\r\n              className=\"header__logo\"\r\n              src=\"https://josephreisigl.files.wordpress.com/2015/08/amazonlogo.png\"\r\n              alt=\"logo\"\r\n            />\r\n          </Link>\r\n\r\n          <NavItem text=\"Dashboard\" link=\"/\" />\r\n          <NavItem text=\"Orders\" link=\"/orders\" />\r\n          <NavItem text=\"View Details\" link=\"/user\" />\r\n\r\n        </div>\r\n        \r\n        <button className=\"header__logoutBtn btn btn-secondary\" onClick={() => auth.signOut()}>Logout</button>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nfunction NavItem({ text, link }) {\r\n  return (\r\n    <NavLink\r\n      exact\r\n      className=\"btn text-light\"\r\n      activeClassName=\"btn-primary\"\r\n      to={link}\r\n    >\r\n      {text}\r\n    </NavLink>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst Modal = ({ id, buttonText, buttonIcon, className, title, children }) => {\r\n  return (\r\n    <div>\r\n      <button \r\n        type=\"button\" \r\n        className={!className ? 'btn btn-primary' : className}\r\n        data-bs-toggle=\"modal\" \r\n        data-bs-target={`#${id}`}\r\n      >\r\n        <i className={`${buttonIcon} mx-1`}></i>\r\n        {buttonText}\r\n      </button>\r\n\r\n      <div className=\"modal fade\" id={id} data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabIndex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title\" id=\"staticBackdropLabel\">\r\n                {title}\r\n              </h5>\r\n              <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n            </div>\r\n            <div className=\"modal-body  p-0\">\r\n              {children}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./ViewImages.css\";\r\n\r\nfunction ViewImages({ images }) {\r\n  const [mainImage, setMainImage] = useState('');\r\n\r\n  const viewProduct = (index) => {\r\n    setMainImage(images[index]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setMainImage(images[0]);\r\n  }, [images])\r\n\r\n  return (\r\n    <div className=\"product__images-display\">\r\n      <div className=\"product__images-main\">\r\n        <img\r\n          src={mainImage}\r\n          alt=\"Product\"\r\n        />\r\n      </div>\r\n      \r\n      <div className=\"product__images-sub\">\r\n        {images.map((image, index) => (\r\n          <img key={index} alt={index} src={image} onClick={() => viewProduct(index)} /> \r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ViewImages;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { storageRef } from '../../../../../firebase';\r\nimport firebase from 'firebase';\r\n\r\nfunction UploaderTask({ id, handleDelete, image, shouldUploadImgs, getDownloadURL }) {\r\n  const [progress, setProgress] = useState(0);\r\n\r\n\r\n  useEffect(() => {\r\n    if(shouldUploadImgs){\r\n      const file = image.file;\r\n      const date = new Date().toString().slice(0, -31).replaceAll(' ', '-');\r\n      const fileName = `${date} - ${image.name}`;\r\n      const metadata = { contentType: image.type, };\r\n      \r\n      const uploadTask = storageRef.child(`products/${fileName}`).put(file, metadata);\r\n      uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'\r\n        (snapshot) => {\r\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n          let prog = parseInt((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\r\n          console.log('Upload is ' + prog + '% done');\r\n          setProgress(prog);\r\n          // switch (snapshot.state) {\r\n          //   case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n          //     console.log('Upload is paused');\r\n          //     break;\r\n          //   case firebase.storage.TaskState.RUNNING: // or 'running'\r\n          //     console.log('Upload is running');\r\n          //     break;\r\n          // }\r\n        }, \r\n        (error) => {\r\n          switch (error.code) {\r\n            case 'storage/unauthorized':\r\n              console.log(\"User doesn't have permission to access the object\");\r\n              break;\r\n\r\n            case 'storage/canceled':\r\n              console.log(\"User canceled the upload\");\r\n              break;\r\n\r\n            case 'storage/unknown':\r\n            default: \r\n              console.log(\"Unknown error occurred, inspect error.serverResponse\");\r\n              break;\r\n          }\r\n        }, \r\n        () => {\r\n          // Upload completed successfully, now we can get the download URL\r\n          uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n            getDownloadURL(downloadURL);\r\n            console.log('File available at', downloadURL);\r\n          });\r\n        }\r\n      );\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [shouldUploadImgs])\r\n\r\n\r\n  return (\r\n    <div className={`uploaderTask ${shouldUploadImgs && 'uploaderTask-uploading'}`} data-imgindex={id}>\r\n      \r\n        {shouldUploadImgs ? \r\n          <div className=\"progress\">\r\n            <div \r\n              className=\"progress-bar  progress-bar-striped progress-bar-animated\" \r\n              role=\"progressbar\" \r\n              aria-valuenow={progress} \r\n              aria-valuemin=\"0\" \r\n              aria-valuemax=\"100\" \r\n              style={{ width: `${progress}%` }}\r\n            ></div>\r\n          </div>\r\n          :\r\n          <span onClick={handleDelete}>&times;</span>\r\n        }\r\n        \r\n      <img src={image.src} alt={image.name} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UploaderTask;\r\n","import React, { useState, useEffect } from 'react';\r\nimport UploaderTask from './UploaderTask';\r\n\r\nfunction ImageUploader({ shouldUploadImgs, setShouldUploadImgs, dispatchImageURLs, isDisabled, state, setState }) {\r\n  const [images, setImages] = useState([]);           // image files.\r\n  const [highlight, setHighlight] = useState(false);  // highlight drag & drop area.\r\n  const [downloadURLs, setDownloadURLs] = useState([]); \r\n\r\n  const handleFileChange = ({ target }) => {\r\n    const files = Array.from(target.files);\r\n\r\n    let photosArr = [];\r\n    files.forEach(file => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.addEventListener('load', () => {\r\n        photosArr.push({\r\n          name: file.name,\r\n          type: file.type, \r\n          size: file.size,\r\n          src: reader.result, \r\n          file: file,\r\n        })\r\n        setImages([...images, ...photosArr]);\r\n      }); \r\n    });\r\n  }\r\n\r\n  const handleDelete = ({ target }) => {\r\n    const targetIndex = Number(target.parentElement.dataset.imgindex);\r\n\r\n    setImages([...images.slice(0, targetIndex), ...images.slice(targetIndex + 1)]);\r\n  }\r\n\r\n  const markImageForDelete = index => {        // Function to handle deletion of existing images.\r\n    setState({                                                      \r\n      ...state,\r\n      deleteQueue: [...state.deleteQueue, state.images[index]],                      // add it's url to the delete queue\r\n      images: [...state.images.slice(0, index), ...state.images.slice(index + 1)],   // and remove it from the state.\r\n    })\r\n  }\r\n\r\n  // Following functions are for the custom image drop area.\r\n  const handleDrag = event => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    setHighlight(true);\r\n  }\r\n\r\n  const handleDragLeave = event => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    setHighlight(false);\r\n  }\r\n\r\n  const handleDrop = event => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    const dt = event.dataTransfer;\r\n    handleFileChange({ target: { files: dt.files } });\r\n\r\n    setHighlight(false);\r\n  }\r\n  // --------------------------------------------------------\r\n\r\n\r\n  const getDownloadURL = url => {\r\n    // function to get the downloadUrl from the UploaderTask component.\r\n    setDownloadURLs(downloadURLs => [...downloadURLs, url ]);\r\n  }\r\n \r\n  useEffect(() => {\r\n    if(shouldUploadImgs && downloadURLs.length === images.length){       /* && images.length !== 0*/\r\n      setShouldUploadImgs(false);\r\n      setImages([]);\r\n      dispatchImageURLs(downloadURLs);\r\n      setDownloadURLs([]);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [shouldUploadImgs, downloadURLs])\r\n\r\n  return (\r\n    <div className='imageUploader'>\r\n      <div \r\n        className={`imageUploader__dropArea ${highlight && 'highlight'} ${isDisabled && 'imageUploader__dropArea-disabled'}`} \r\n        onDragEnter={handleDrag}\r\n        onDragOver={handleDrag}\r\n        onDragLeave={handleDragLeave}\r\n        onDrop={handleDrop}\r\n      >\r\n        <label className='imageUploader__fileUpload' htmlFor=\"updaterImages\">DRAG &amp; DROP</label>\r\n        <input \r\n          className=\"d-none\" \r\n          type=\"file\" \r\n          id=\"updaterImages\" \r\n          accept='image/*' \r\n          multiple \r\n          onChange={handleFileChange} \r\n          disabled={isDisabled} \r\n        />\r\n      </div>\r\n\r\n      {/* IMAGE PREVIEWS */}\r\n      <div className=\"imageUploader__image-previews\">\r\n        {/* Images from the db. */\r\n         state.images.map((image, idx) => (\r\n          <div className=\"uploaderTask false\" key={idx}>\r\n            <span onClick={() => markImageForDelete(idx)}>&times;</span>\r\n            <img src={image} alt={idx} />\r\n          </div>\r\n        ))}\r\n        {/* New images for upload */\r\n         images.length > 0 && images.map((image, idx) => (\r\n          <UploaderTask \r\n            key={idx}\r\n            id={idx}\r\n            handleDelete={handleDelete}\r\n            image={image}\r\n            shouldUploadImgs={shouldUploadImgs}\r\n            getDownloadURL={getDownloadURL}\r\n          />\r\n        ))}\r\n      </div>\r\n      {(shouldUploadImgs && !images) && <p className=\"text-danger\">\r\n        *Images Required\r\n      </p>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImageUploader\r\n","import React, { useState } from \"react\";\r\nimport './TagsInput.css';\r\n\r\nfunction TagsInput({ isDisabled, state, setState }) {\r\n  const [tag, setTag] = useState('');\r\n\r\n  const addTag = event => {\r\n    event.preventDefault();\r\n\r\n    if (tag) {\r\n      if(state.tags.indexOf(tag) === -1)                          // if doesn't exist already\r\n        setState({ ...state, tags: [ ...state.tags, tag ]});      // add tag.\r\n\r\n      setTag('');                                                 // reset the field\r\n    }\r\n  };\r\n\r\n  const removeTag = (index) => {\r\n    setState({ \r\n      ...state, \r\n      tags: [...state.tags.filter((tag) => state.tags.indexOf(tag) !== index)] \r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"tagsInput\">\r\n      <ul>\r\n        {state.tags.map((tag, index) => (\r\n          <li key={index}>\r\n            <span>{tag}</span>\r\n            <i className=\"fas fa-times\" onClick={() => removeTag(index)}></i>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <div className='d-flex'>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          placeholder=\"Add a tag\"\r\n          value={tag}\r\n          onChange={e => setTag(e.target.value)}\r\n          disabled={isDisabled}\r\n        />\r\n        <button type='button' className=\"btn btn-secondary ms-1\" onClick={addTag}>\r\n          <i className=\"fas fa-plus\"></i>\r\n        </button>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TagsInput;\r\n","import algoliasearch from \"algoliasearch\";\r\n//  Reference: https://www.algolia.com/doc/api-client/methods/indexing/\r\n\r\nconst client = algoliasearch(\"7LY0YPT76V\", \"67c441afe8bda9a32e20849908f18221\");\r\nconst index = client.initIndex(\"Products\");\r\n\r\n\r\n// Add and Update in the index.\r\nfunction saveToIndex(product) { \r\n  /* .saveObject(obj)\r\n   * If the objectID exists, the record will be replaced\r\n   * If the objectID is specified but does not exist, the record is created\r\n   * If the objectID is not specified, the method returns an error\r\n   */\r\n  index.saveObject({\r\n    objectID: product.id,\r\n    ...product,\r\n    price: Number(product.price),\r\n    images: product.images[0],\r\n  })\r\n    .then(({ objectID }) => \r\n      console.log(`${objectID} indexed.`)\r\n    )\r\n    .catch(err => console.log(err));\r\n}\r\n\r\n// Delete Record from the index.\r\nfunction deleteFromIndex(objectID) {\r\n  index.deleteObject(objectID)\r\n    .then(({ objectID }) => \r\n      console.log(`${objectID} deleted.`)\r\n    )\r\n    .catch(err => console.log(err));\r\n}\r\n\r\n// Reset Index. (Clear all items in the index)\r\n// eslint-disable-next-line\r\nfunction resetIndex() { \r\n  if (window.confirm('This will clear the whole index. Do you confirm?')) {\r\n    index.clearObjects()\r\n      .then(() =>\r\n        console.log({\r\n          status: \"Success\",\r\n          message: \"All products deleted from index.\",\r\n        })\r\n      )\r\n      .catch((err) => console.log(err));\r\n  }\r\n}\r\n\r\n\r\nexport { saveToIndex, deleteFromIndex };\r\n// export { resetIndex };","import React, { useState, useEffect, useRef } from 'react';\r\nimport './UpdateProduct.css';\r\nimport db, { auth, storage } from '../../../firebase';\r\nimport ImageUploader from './ImageUploader';\r\nimport TagsInput from '../TagsInput';\r\nimport { saveToIndex } from '../../../Utilities/indexing';\r\n\r\nfunction UpdateProduct({ product }) {\r\n  return (\r\n    <div>\r\n      <ProductForm product={product} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UpdateProduct;\r\n\r\n\r\n\r\nfunction ProductForm({ product }) {\r\n  const initialState = {\r\n    title: '', \r\n    description: '', \r\n    tags: [], \r\n    stock: '',   // units_in_stock\r\n    price: '',\r\n    category: '',\r\n    images: [],\r\n    deleteQueue: [],    // should hold urls of images for delete from db. AND SHOULD BE REMOVED BEFORE COMITTING STATE TO DB.\r\n    imagesUploaded: false,\r\n  };\r\n  const [state, setState] = useState(initialState);\r\n  const [originalProduct, setOriginalProduct] = useState({});         // store the original product info., to revert back onCancel.\r\n  const [shouldUploadImgs, setShouldUploadImgs] = useState(false);\r\n  const [isDisabled, setIsDisabled] = useState(false);\r\n  const closeBtn = useRef();\r\n  const categories = ['Appliances', 'Apps & Game s', 'Baby', 'Beauty', 'Books', 'Car & Motorbike', 'Clothing & Accessories', 'Collectibles', 'Computers & Accessories', 'Electronics', 'Furniture', 'Garden & Outdoors', 'Grocery & Gourmet Foods', 'Health & Personal Care', 'Home & Kitchen', 'Industrial & Scientific', 'Jewellery', 'Luggage & Bags', 'Movies & TV Shows', 'Music', 'Musical Instruments', 'Office Products', 'Pet Supplies', 'Shoes & Handbags', 'Software', 'Sports, Fitness & Outdoors', 'Tools & Home Improvement', 'Toys & Games', 'Watches'];   \r\n  const uid = auth.currentUser.uid;  \r\n\r\n  const handleChange = ({ target }) => {\r\n    setState({ ...state, [target.name]: target.value });\r\n  } \r\n\r\n  const getImageURLs = urls => {        // get image urls array from the ImageUploader Component.\r\n    setState({ \r\n      ...state,                                       // spread state.\r\n      images: [...state.images, ...urls],             // append new image urls to state.\r\n      imagesUploaded: true,\r\n    });\r\n  }\r\n\r\n  const resetForm = () => {\r\n    // console.log({...initialState, ...originalProduct});\r\n    setState({...initialState, ...originalProduct});\r\n  }\r\n\r\n  const submit = (event) => {\r\n    event.preventDefault();\r\n    setShouldUploadImgs(true);   // enable uploading\r\n    setIsDisabled(true);         // disable form input.\r\n  }\r\n\r\n  // console.log(state);\r\n  // console.log(product);\r\n\r\n  const deleteImages = async () => {\r\n    const promises = state.deleteQueue.map(url => storage.refFromURL(url).delete());\r\n\r\n    return Promise.all(promises).then(() => {\r\n      setState({ \r\n        ...state,  \r\n        deleteQueue: []\r\n      })\r\n    });\r\n  }\r\n\r\n  useEffect(() => {   // for execution at component mount.    RESET FORM ON MODAL CLOSE.\r\n    const modalCloseBtn = document.querySelector('#updateProductModal .btn-close');\r\n    modalCloseBtn.addEventListener('click', resetForm);\r\n    return () => {\r\n      modalCloseBtn.removeEventListener('click', resetForm)\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {                                           // this effect executes everytime the value of product changes. Think of it as a class constructor.\r\n    if(product){\r\n      setOriginalProduct(product);                            // preserve a copy of the product\r\n      setState(prevState => ({ ...prevState, ...product}));   // set product to state.\r\n    }\r\n  }, [product]);\r\n\r\n  useEffect(() => {\r\n    /** STEPS\r\n     * 0. upload new images (if any)\r\n     * 1. delete from deleteQueue\r\n     * 2. update product in db.\r\n     */\r\n\r\n    if(state.imagesUploaded){\r\n      console.log('images uploaded');\r\n      deleteImages()\r\n        .then(() => {\r\n          console.log('images deleted');\r\n          const { id, title, description, tags, stock, price, category, images } = state;\r\n          return db.doc(`products/${id}`)\r\n            .update({ title, description, tags, stock, price, category, images, sellerId: uid })           // add new product to db\r\n        })\r\n        .then(() => {                     // on success\r\n          const { id, title, description, tags, stock, price, category, images } = state;\r\n          saveToIndex({ id, title, description, tags, stock, price, category, images })\r\n          setIsDisabled(false);           // enable the fields\r\n          setState(initialState);         // reset state\r\n          closeBtn.current.click();       // close the modal.\r\n          console.log('uploaded')\r\n        })\r\n        .catch(err => console.error(err))\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [state.imagesUploaded]);\r\n\r\n  return (\r\n    <div className='addProducts px-4 pt-4'>\r\n      <form onSubmit={submit} method='post'>\r\n        {/* TITLE */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"title\">Title</label>\r\n          <input type=\"text\" name='title' className='form-control' value={state.title} onChange={handleChange} disabled={isDisabled} required/>\r\n        </div>\r\n\r\n        {/* DESCRIPTION */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"description\">Description</label>\r\n          <textarea type=\"text\" name='description' className='form-control' rows='5' value={state.description} onChange={handleChange} disabled={isDisabled} required/>\r\n        </div>\r\n        \r\n        {/* STOCK */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"stock\">Stock</label>\r\n          <input type=\"text\" name='stock' className='form-control' value={state.stock} onChange={handleChange} disabled={isDisabled} required\r\n          pattern='^\\d+$' title='Only Numbers allowed.' />\r\n        </div>\r\n\r\n        {/* PRICE */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"price\">Price</label>\r\n          <input type=\"text\" name='price' className='form-control' value={state.price} onChange={handleChange} disabled={isDisabled} \r\n          pattern='^\\d+(\\.\\d{1,2})?$' title='Price can be formatted as 0.00'  required/>\r\n        </div>\r\n\r\n        {/* CATEGORIES */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"category\">Category</label>\r\n          <select name=\"category\" className='form-select' value={state.category} onChange={handleChange}  disabled={isDisabled} required>\r\n            <option value=''>Select Category</option>\r\n            {categories.map(category => \r\n              <option key={category} value={category}>{category}</option>\r\n            )}\r\n          </select>\r\n        </div>\r\n\r\n        {/* TAGS */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"tags\">Tags</label>\r\n          <TagsInput isDisabled={isDisabled} state={state} setState={setState} />\r\n        </div>\r\n\r\n        {/* IMAGES - File Upload */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\">Upload Images</label>\r\n          <ImageUploader \r\n            shouldUploadImgs={shouldUploadImgs} \r\n            setShouldUploadImgs={setShouldUploadImgs} \r\n            isDisabled={isDisabled} \r\n            dispatchImageURLs={getImageURLs}\r\n            state={state}\r\n            setState={setState}\r\n          />\r\n        </div>\r\n        <div className=\"modal-footer m-0 p-0 py-1\">\r\n          <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\" ref={closeBtn} onClick={resetForm} disabled={isDisabled}>Cancel</button>\r\n          <button type=\"submit\" className=\"btn btn-primary\" disabled={isDisabled}>Update</button>\r\n        </div>\r\n        \r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport db, { auth, storage } from '../../../firebase';\r\nimport './ProductsTable.css';\r\nimport Modal from '../../Modal';\r\nimport ViewImages from './ViewImages';\r\nimport UpdateProduct from '../UpdateProduct';\r\nimport { deleteFromIndex } from '../../../Utilities/indexing';\r\n\r\nfunction ProductsTable() {\r\n  const [products, setProducts] = useState([]);\r\n  const [previewImages, setPreviewImages] = useState([]);         // holds urls of images of a product to be previwed.\r\n  const [productForUpdate, setProductForUpdate] = useState({});   // holds details of product to be updated.\r\n  const uid = auth.currentUser.uid;  \r\n\r\n  useEffect(() => {\r\n    const unsubscribe = db.collection('products')\r\n      .where('sellerId', '==', uid)\r\n      .onSnapshot(snap => {\r\n        setProducts(\r\n          snap.docs.map((doc) => \r\n            ({ ...doc.data(), id: doc.id })\r\n          )\r\n        );\r\n      })\r\n    return () => {\r\n      unsubscribe();\r\n    }\r\n  }, [uid]);\r\n\r\n  const updateProduct = (product) => {\r\n    setProductForUpdate(product);\r\n  }\r\n\r\n  const deleteProduct = (id, images) => {\r\n    console.log(id);\r\n\r\n    if(window.confirm('Do you want to delete?')){\r\n      let promises = images.map(image => storage.refFromURL(image).delete());   // map all the promises into an array\r\n\r\n      Promise.all(promises).then(() => {         // execute once all promises are resolved.\r\n        db.doc(`products/${id}`)                        // i.e delete the record from the database.\r\n          .delete()\r\n          .then(() => {\r\n            console.log('Delete Successful')\r\n            deleteFromIndex(id);      \r\n          })\r\n          .catch(error => console.log(error));\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <table className=\"productsTable table table-striped table-hover\">\r\n        <thead>\r\n          <tr className=\"table-dark\">\r\n            <th>Product Id</th>\r\n            <th>Title</th>\r\n            <th>Description</th>\r\n            <th>Category</th>\r\n            <th>Price</th>\r\n            <th>Stock</th>\r\n            <th>Tags</th>\r\n            <th>Images</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {products.map(product => (\r\n            <tr key={product.id}>\r\n              <td>{product.id}</td>\r\n              <td>{product.title}</td>\r\n              <td className='text-wrap'>{product.description}</td>\r\n              <td>{product.category}</td>\r\n              <td>{product.price}</td>\r\n              <td>{product.stock}</td>\r\n              <td className='text-wrap'>{product.tags.map(tag => `${tag}, `)}</td>\r\n              <td>\r\n                <button \r\n                  onClick={() => setPreviewImages(product.images)} \r\n                  className='btn btn-secondary btn-sm'\r\n                  data-bs-toggle=\"modal\"\r\n                  data-bs-target=\"#previewImagesModal\"\r\n                >\r\n                  View\r\n                </button>\r\n              </td>\r\n              <td>\r\n                <button \r\n                  onClick={() => updateProduct(product)} \r\n                  className=\"btn btn-primary btn-sm me-1\"  \r\n                  data-bs-placement=\"top\" \r\n                  title=\"Edit/Update\"\r\n                  data-bs-toggle=\"modal\"\r\n                  data-bs-target=\"#updateProductModal\"\r\n                > \r\n                  <i className=\"fas fa-pen\"></i>\r\n                </button>\r\n                <button onClick={() => deleteProduct(product.id, product.images)} className=\"btn btn-danger btn-sm\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Delete\">\r\n                  <i className=\"fas fa-trash\"></i>\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      \r\n      <Modal id='previewImagesModal' title='Images (Preview)' className='d-none'>\r\n        <ViewImages images={previewImages} />\r\n      </Modal>\r\n      \r\n      <Modal id='updateProductModal' title='Update/Edit Products' className='d-none'>\r\n        <UpdateProduct product={productForUpdate} />\r\n      </Modal>\r\n          \r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProductsTable;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { storageRef } from '../../../../../firebase';\r\nimport firebase from 'firebase';\r\nimport './UploadTask.css';\r\n\r\nfunction UploaderTask({ id, handleDelete, image, shouldUploadImgs, getDownloadURL }) {\r\n  const [progress, setProgress] = useState(0);\r\n\r\n\r\n  useEffect(() => {\r\n    if(shouldUploadImgs){\r\n      const file = image.file;\r\n      const date = new Date().toString().slice(0, -31).replaceAll(' ', '-');\r\n      const fileName = `${date} - ${image.name}`;\r\n      const metadata = { contentType: image.type, };\r\n      \r\n      const uploadTask = storageRef.child(`products/${fileName}`).put(file, metadata);\r\n      uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'\r\n        (snapshot) => {\r\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n          let prog = parseInt((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\r\n          console.log('Upload is ' + prog + '% done');\r\n          setProgress(prog);\r\n          // switch (snapshot.state) {\r\n          //   case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n          //     console.log('Upload is paused');\r\n          //     break;\r\n          //   case firebase.storage.TaskState.RUNNING: // or 'running'\r\n          //     console.log('Upload is running');\r\n          //     break;\r\n          // }\r\n        }, \r\n        (error) => {\r\n          switch (error.code) {\r\n            case 'storage/unauthorized':\r\n              console.log(\"User doesn't have permission to access the object\");\r\n              break;\r\n\r\n            case 'storage/canceled':\r\n              console.log(\"User canceled the upload\");\r\n              break;\r\n\r\n            case 'storage/unknown':\r\n            default: \r\n              console.log(\"Unknown error occurred, inspect error.serverResponse\");\r\n              break;\r\n          }\r\n        }, \r\n        () => {\r\n          // Upload completed successfully, now we can get the download URL\r\n          uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n            getDownloadURL(downloadURL);\r\n            console.log('File available at', downloadURL);\r\n          });\r\n        }\r\n      );\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [shouldUploadImgs])\r\n\r\n\r\n  return (\r\n    <div className={`uploaderTask ${shouldUploadImgs && 'uploaderTask-uploading'}`} data-imgindex={id}>\r\n      \r\n        {shouldUploadImgs ? \r\n          <div className=\"progress\">\r\n            <div \r\n              className=\"progress-bar  progress-bar-striped progress-bar-animated\" \r\n              role=\"progressbar\" \r\n              aria-valuenow={progress} \r\n              aria-valuemin=\"0\" \r\n              aria-valuemax=\"100\" \r\n              style={{ width: `${progress}%` }}\r\n            ></div>\r\n          </div>\r\n          :\r\n          <span onClick={handleDelete}>&times;</span>\r\n        }\r\n        \r\n      <img src={image.src} alt={image.name} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UploaderTask\r\n","import React, { useState, useEffect } from 'react';\r\nimport './ImageUploader.css';\r\nimport UploaderTask from './UploaderTask';\r\n\r\nfunction ImageUploader({ shouldUploadImgs, setShouldUploadImgs, dispatchImageURLs, isDisabled }) {\r\n  const [images, setImages] = useState([]);           // image files.\r\n  const [highlight, setHighlight] = useState(false);  // highlight drag & drop area.\r\n  const [downloadURLs, setDownloadURLs] = useState([]); \r\n\r\n  const handleFileChange = ({ target }) => {\r\n    const files = Array.from(target.files);\r\n\r\n    let photosArr = [];\r\n    files.forEach(file => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.addEventListener('load', () => {\r\n        photosArr.push({\r\n          name: file.name,\r\n          type: file.type, \r\n          size: file.size,\r\n          src: reader.result, \r\n          file: file,\r\n        })\r\n        setImages([...images, ...photosArr]);\r\n      }); \r\n    });\r\n  }\r\n\r\n  const handleDelete = ({ target }) => {\r\n    const targetIndex = Number(target.parentElement.dataset.imgindex);\r\n\r\n    setImages([...images.slice(0, targetIndex), ...images.slice(targetIndex + 1)]);\r\n  }\r\n\r\n  // Following functions are for the custom image drop area.\r\n  const handleDrag = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    setHighlight(true);\r\n  }\r\n\r\n  const handleDragLeave = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    setHighlight(false);\r\n  }\r\n\r\n  const handleDrop = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    const dt = event.dataTransfer;\r\n    handleFileChange({ target: { files: dt.files } });\r\n\r\n    setHighlight(false);\r\n  }\r\n  // --------------------------------------------------------\r\n\r\n\r\n  const getDownloadURL = (url) => {\r\n    // function to get the downloadUrl from the UploaderTask component.\r\n    setDownloadURLs(downloadURLs => [...downloadURLs, url ]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(downloadURLs.length === images.length && images.length !== 0){\r\n      setShouldUploadImgs(false);\r\n      setImages([]);\r\n      dispatchImageURLs(downloadURLs);\r\n      setDownloadURLs([]);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [downloadURLs])\r\n\r\n  return (\r\n    <div className='imageUploader'>\r\n      <div \r\n        className={`imageUploader__dropArea ${highlight && 'highlight'} ${isDisabled && 'imageUploader__dropArea-disabled'}`} \r\n        onDragEnter={handleDrag}\r\n        onDragOver={handleDrag}\r\n        onDragLeave={handleDragLeave}\r\n        onDrop={handleDrop}\r\n      >\r\n        <label className='imageUploader__fileUpload' htmlFor=\"images\">DRAG &amp; DROP</label>\r\n        <input \r\n          className=\"d-none\" \r\n          type=\"file\" \r\n          id=\"images\" \r\n          accept='image/*' \r\n          multiple \r\n          onChange={handleFileChange} \r\n          disabled={isDisabled} \r\n        />\r\n      </div>\r\n\r\n      <div className=\"imageUploader__image-previews\">\r\n        {images.length > 0 && images.map((image, idx) => (\r\n          <UploaderTask \r\n            key={idx}\r\n            id={idx}\r\n            handleDelete={handleDelete}\r\n            image={image}\r\n            shouldUploadImgs={shouldUploadImgs}\r\n            getDownloadURL={getDownloadURL}\r\n          />\r\n        ))}\r\n      </div>\r\n      {(shouldUploadImgs && !images) && <p className=\"text-danger\">\r\n        *Images Required\r\n      </p>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImageUploader\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport db, { auth } from '../../../firebase';\r\nimport ImageUploader from './ImageUploader';\r\nimport TagsInput from '../TagsInput';\r\nimport { saveToIndex } from '../../../Utilities/indexing';\r\n\r\nfunction AddProducts() {\r\n  const initialState = {\r\n    title: '', \r\n    description: '', \r\n    tags: [], \r\n    stock: '',   // units_in_stock\r\n    price: '',\r\n    category: '',\r\n    images: [],\r\n  };\r\n  const [state, setState] = useState(initialState);\r\n  const [shouldUploadImgs, setShouldUploadImgs] = useState(false);\r\n  const [isDisabled, setIsDisabled] = useState(false);\r\n  const closeBtn = useRef();\r\n  const categories = ['Appliances', 'Apps & Games', 'Baby', 'Beauty', 'Books', 'Car & Motorbike', 'Clothing & Accessories', 'Collectibles', 'Computers & Accessories', 'Electronics', 'Furniture', 'Garden & Outdoors', 'Grocery & Gourmet Foods', 'Health & Personal Care', 'Home & Kitchen', 'Industrial & Scientific', 'Jewellery', 'Luggage & Bags', 'Movies & TV Shows', 'Music', 'Musical Instruments', 'Office Products', 'Pet Supplies', 'Shoes & Handbags', 'Software', 'Sports, Fitness & Outdoors', 'Tools & Home Improvement', 'Toys & Games', 'Watches'];   \r\n  const uid = auth.currentUser.uid;  \r\n\r\n  const handleChange = ({ target }) => {\r\n    setState({ ...state, [target.name]: target.value });\r\n  } \r\n\r\n  const getImageURLs = (urls) => {        // get image urls array from the ImageUploader Component.\r\n    setState({ ...state, images: urls });\r\n  }\r\n\r\n  const submit = (event) => {\r\n    event.preventDefault();\r\n    setShouldUploadImgs(true);   // enable uploading\r\n    setIsDisabled(true);         // disable form input.\r\n  }\r\n\r\n  //console.log(state);\r\n\r\n  useEffect(() => {\r\n    if(state.images.length !== 0){\r\n      console.log('upload to firestore>>>',state);\r\n\r\n      db.collection('products')\r\n        .add({ ...state, price: Number(state.price), sellerId: uid })   // add new product to db\r\n        .then(docRef => {                             // on success\r\n          saveToIndex({ id: docRef.id, ...state })    // save product to index\r\n          setIsDisabled(false);                       // enable the fields\r\n          setState(initialState);                     // reset state\r\n          closeBtn.current.click();                   // close the modal.\r\n          console.log('uploaded')\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [state.images])\r\n\r\n  return (\r\n    <div className='addProducts px-4 pt-4'>\r\n      <form onSubmit={submit} method='post'>\r\n        {/* TITLE */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"title\">Title</label>\r\n          <input type=\"text\" name='title' className='form-control' value={state.title} onChange={handleChange} disabled={isDisabled} required/>\r\n        </div>\r\n\r\n        {/* DESCRIPTION */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"description\">Description</label>\r\n          <textarea type=\"text\" name='description' className='form-control' rows='5' value={state.description} onChange={handleChange} disabled={isDisabled} required/>\r\n        </div>\r\n        \r\n        {/* STOCK */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"stock\">Stock</label>\r\n          <input type=\"text\" name='stock' className='form-control' value={state.stock} onChange={handleChange} disabled={isDisabled} required\r\n          pattern='^\\d+$' title='Only Numbers allowed.' />\r\n        </div>\r\n\r\n        {/* PRICE */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"price\">Price</label>\r\n          <input type=\"text\" name='price' className='form-control' value={state.price} onChange={handleChange} disabled={isDisabled} \r\n          pattern='^\\d+(\\.\\d{1,2})?$' title='Price can be formatted as 0.00'  required/>\r\n        </div>\r\n\r\n        {/* CATEGORIES */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"category\">Category</label>\r\n          <select name=\"category\" className='form-select' value={state.category} onChange={handleChange}  disabled={isDisabled} required>\r\n            <option value=''>Select Category</option>\r\n            {categories.map(category => \r\n              <option key={category} value={category}>{category}</option>\r\n            )}\r\n          </select>\r\n        </div>\r\n\r\n        {/* TAGS */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"tags\">Tags</label>\r\n          <TagsInput isDisabled={isDisabled} state={state} setState={setState} />\r\n        </div>\r\n\r\n        {/* IMAGES - File Upload */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\">Upload Images</label>\r\n          <ImageUploader \r\n            shouldUploadImgs={shouldUploadImgs} \r\n            setShouldUploadImgs={setShouldUploadImgs} \r\n            isDisabled={isDisabled} \r\n            dispatchImageURLs={getImageURLs}\r\n          />\r\n        </div>\r\n        <div className=\"modal-footer m-0 p-0 py-1\">\r\n          <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\" ref={closeBtn}>Close</button>\r\n          <button type=\"submit\" className=\"btn btn-primary\" disabled={isDisabled}>Add Product</button>\r\n        </div>\r\n        \r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddProducts;\r\n","import React from 'react';\r\nimport Modal from '../Modal';\r\nimport './Products.css';\r\nimport ProductsTable from './ProductsTable/';\r\nimport AddProducts from './AddProducts';\r\n\r\nfunction Products() {\r\n  return (\r\n    <div className=\"products\">\r\n      <div className=\"modal-content mx-auto\">\r\n        <div className=\"modal-header\">\r\n          <h4>Products</h4>\r\n          <div className=\"products__search\">\r\n            <input type=\"text\" className=\"form-control\" placeholder=\"Search...\" />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"modal-body\"\r\n          style={{ height: \"400px\", overflow: \"auto\" }}\r\n        >\r\n          <ProductsTable />\r\n        </div>\r\n\r\n        <div className=\"modal-footer\" style={{ padding: \"10px\" }}>\r\n          <Modal \r\n            id='addProduct' \r\n            buttonText=\"Add a Product\" \r\n            title=\" Add a Product\"\r\n            buttonIcon='fas fa-plus'\r\n          >\r\n            <AddProducts />\r\n          </Modal>\r\n        </div>\r\n      </div>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default Products;\r\n","import React, { useState } from \"react\";\r\nimport firebase from 'firebase';\r\nimport './ChangePassword.css';\r\n\r\nfunction ChangePassword() {\r\n  const initialState = {\r\n    currentPassword: '',\r\n    newPassword: '',\r\n    confirmNewPassword: ''\r\n  }\r\n  const [state, setState] = useState(initialState);\r\n  const [error, setError] = useState();\r\n\r\n  const handleChange = ({ target }) => {\r\n    setState({ ...state, [target.id]: target.value });\r\n  };\r\n\r\n  const cancel = () => {\r\n    setState(initialState);\r\n  }\r\n\r\n  const changePassword = event => {\r\n    event.preventDefault();\r\n    const { currentPassword, newPassword, confirmNewPassword } = state;\r\n\r\n    if(!currentPassword || !newPassword || !confirmNewPassword){\r\n      setError('All Fields Required');\r\n    }else{\r\n      if(newPassword === confirmNewPassword){\r\n        console.log(state);\r\n        const user = firebase.auth().currentUser;\r\n        const credentials = firebase.auth.EmailAuthProvider.credential(user.email, currentPassword);\r\n        \r\n        user.reauthenticateWithCredential(credentials)                                    // authenticate user\r\n          .then(() => {                                                                   // if success\r\n            // update password here...                                                    // update password        \r\n            user.updatePassword(newPassword)\r\n              .then(() => {\r\n                document.querySelector('#changePasswordModal .btn-close').click();\r\n                setState(initialState);\r\n              })\r\n              .catch(err => console.log(err));\r\n          })\r\n          .catch(err => setError('Check current Password!'));\r\n      }else{\r\n        setError('New Password did not match!');\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='changePassword p-3'>\r\n      {error && \r\n        <div className=\"alert alert-danger alert-dismissible fade show p-1\" role=\"alert\">\r\n          {error}\r\n          <button type=\"button\" className=\"btn-close p-2\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n        </div>\r\n      }\r\n\r\n\r\n      <div className=\"form-group\">\r\n        <label className='form-label' htmlFor=\"currentPassword\">\r\n          Current Password\r\n        </label>\r\n\r\n        <input\r\n          type=\"password\" id=\"currentPassword\" className=\"form-control mb-3\"\r\n          value={state.currentPassword} onChange={handleChange}\r\n        />\r\n      </div>\r\n      \r\n      <div className=\"form-group\">\r\n        <label className='form-label' htmlFor=\"currentPassword\">\r\n          New Password\r\n        </label>\r\n\r\n        <input\r\n          type=\"password\" id=\"newPassword\" className=\"form-control mb-3\"\r\n          value={state.newPassword} onChange={handleChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className='form-label' htmlFor=\"currentPassword\">\r\n          Confirm New Password\r\n        </label>\r\n\r\n        <input \r\n          type=\"password\" id=\"confirmNewPassword\" className=\"form-control mb-3\"\r\n          value={state.confirmNewPassword} onChange={handleChange}\r\n        />\r\n      </div>\r\n      \r\n\r\n      <div className=\"d-flex justify-content-center\">\r\n        <input type=\"button\" value=\"Update\" className=\"btn btn-success me-1\" onClick={changePassword} />\r\n        <input \r\n          type=\"button\" value=\"Cancel\" className=\"btn btn-danger\" \r\n          onClick={cancel} data-bs-dismiss=\"modal\" aria-label='Close'\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default ChangePassword;","import React, { useState, useEffect } from \"react\";\r\nimport \"./User.css\";\r\nimport db, { auth } from \"../../firebase\";\r\nimport Modal from \"../Modal\";\r\nimport ChangePassword from \"./ChangePassword\";\r\n\r\nfunction UserUpdate() {\r\n  /*\r\n  const tenYears = () => {\r\n    const currYear = new Date().getFullYear();\r\n    const list = [];\r\n    for (let year = currYear; year <= currYear + 10; year++) {\r\n      list.push(year);\r\n    }\r\n    return list;\r\n  };\r\n  */\r\n\r\n  const initialState = {\r\n    fname: \"\",\r\n    lname: \"\",\r\n    phone: \"\",\r\n    email: \"\",\r\n\r\n    storeName: \"\",\r\n    shopNo: \"\",\r\n    pincode: \"\",\r\n    city: \"\",\r\n    state: \"\",\r\n    country: \"\",\r\n\r\n    accHoldersName: \"\",\r\n    branchIFSC: \"\",\r\n    accNumber: \"\",\r\n    /*\r\n    cardHoldersName: \"\",\r\n    cardNumber: \"\",\r\n    cvv: \"\",\r\n    month: \"\",\r\n    year: \"\",\r\n    */\r\n  };\r\n\r\n  const [state, setState] = useState(initialState);\r\n  const [originalInfo, setOriginalInfo] = useState({}); // stores the original user information to revert back onCancel.\r\n  const [isDisabled, setIsDisabled] = useState(true);\r\n  const { uid, displayName } = auth.currentUser;\r\n\r\n  const handleChange = ({ target }) => {\r\n    setState({ ...state, [target.name]: target.value });\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setIsDisabled(true);\r\n    setState(originalInfo);\r\n  };\r\n\r\n  const enableEditing = () => {\r\n    setIsDisabled(false);   // enable fields for editing\r\n    setOriginalInfo(state); // Store original information.\r\n  }\r\n\r\n  const submit = (event) => {\r\n    event.preventDefault();\r\n\r\n    db.doc(`sellers/${uid}`)\r\n      .update({\r\n        email: state.email,\r\n        phone: state.phone,\r\n        businessInfo: {\r\n          storeName: state.storeName,\r\n          shopNo: state.shopNo,\r\n          pincode: state.pincode,\r\n          city: state.city,\r\n          state: state.state,\r\n          country: state.country,\r\n        },\r\n        billingInfo: {\r\n          accHoldersName: state.accHoldersName,\r\n          branchIFSC: state.branchIFSC,\r\n          accNumber: state.accNumber,\r\n          /*\r\n          cardHoldersName: state.cardHoldersName,\r\n          cardNumber: state.cardNumber,\r\n          cvv: state.cvv,\r\n          month: state.month,\r\n          year: state.year,\r\n          */\r\n        },\r\n      })\r\n      .then(() => {\r\n        auth.currentUser.updateProfile({\r\n          displayName: `${state.fname} ${state.lname}`,\r\n        });\r\n        setIsDisabled(true);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    db.doc(`sellers/${uid}`)\r\n      .get()\r\n      .then((doc) => {\r\n        // set user's details to state\r\n        setState({\r\n          fname: displayName.split(\" \")[0],\r\n          lname: displayName.split(\" \")[1],\r\n          ...doc.data(), // spread the full object.\r\n          ...doc.data().billingInfo,\r\n          ...doc.data().businessInfo,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [displayName, uid]);\r\n\r\n  return (\r\n    <div className=\"UpdateUser\">\r\n      <form onSubmit={submit} method=\"post\">\r\n        <div className=\"container mt-4\">\r\n          {/* Edit button. */}\r\n          <div className=\"row mt-2\">\r\n            <div className=\"col d-flex justify-content-end\">\r\n              {isDisabled && (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-outline-primary mx-2\"\r\n                  onClick={enableEditing}\r\n                >\r\n                  <i className=\"fas fa-edit me-1\"></i>\r\n                  Edit\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Account */}\r\n          <div className=\"row\">\r\n            <div className=\"col\">\r\n              <h3 className=\"border-bottom px-2 pb-2\">Account</h3>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row\">\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"fname\">\r\n                First Name\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"fname\"\r\n                className=\"form-control\"\r\n                value={state.fname}\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"lname\">\r\n                Last Name\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"lname\"\r\n                className=\"form-control\"\r\n                value={state.lname}\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row mb-2\">\r\n            <div className=\"col-6\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"phone\">\r\n                Phone No.\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"phone\"\r\n                className=\"form-control\"\r\n                value={state.phone}\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n                pattern=\"^\\d+$\"\r\n                title=\"Only Numbers allowed.\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col\">\r\n              <Modal\r\n                id=\"changePasswordModal\"\r\n                title=\"Change Password\"\r\n                className=\"btn btn-link p-1\"\r\n                buttonText=\"Change Password\"\r\n              >\r\n                <ChangePassword />\r\n              </Modal>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Business Information */}\r\n          <div className=\"row my-2\">\r\n            <div className=\"col\">\r\n              <h3 className=\"border-bottom p-2\">Business Info </h3>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row mb-2\">\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"storeName\">\r\n                Store Name\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"storeName\"\r\n                className=\"form-control\"\r\n                value={state.storeName}\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"shopNo\">\r\n                Shop Number\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"shopNo\"\r\n                className=\"form-control\"\r\n                value={state.shopNo}\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row mb-2\">\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"pincode\">\r\n                Pincode\r\n              </label>\r\n\r\n              <input\r\n                type=\"number\"\r\n                name=\"pincode\"\r\n                className=\"form-control\"\r\n                value={state.pincode}\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"city\">\r\n                City\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"city\"\r\n                className=\"form-control\"\r\n                value={state.city}\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row mb-3\">\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"state\">\r\n                State\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"state\"\r\n                className=\"form-control\"\r\n                value={state.state}\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"city\">\r\n                Country\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"country\"\r\n                className=\"form-control\"\r\n                value={state.country}\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Billing Information */}\r\n          <div className=\"row my-2\">\r\n            <div className=\"col\">\r\n              <h3 className=\"border-bottom p-2\">Billing Info.</h3>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row mb-2\">\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"accHoldersName\">\r\n                Account Holders Name\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"accHoldersName\"\r\n                className=\"form-control\"\r\n                value={state.accHoldersName}\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"row mb-3\">\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"accNumber\">\r\n                Account Number\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"accNumber\"\r\n                className=\"form-control\"\r\n                value={state.accNumber}\r\n                minLength={8}\r\n                maxLength={18}\r\n                title=\"Usually 8-18 digits\"\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"branchIFSC\">\r\n                Branch IFSC Code\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"branchIFSC\"\r\n                className=\"form-control\"\r\n                pattern=\"^[A-Za-z]{4}[a-zA-Z0-9]{7}$\"\r\n                title=\"Example: AAAA0999999, XXXX099XX9XX\"\r\n                value={state.branchIFSC}\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* \r\n          <div className=\"row\">\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"cardHoldersName\">\r\n                Card Holders Name\r\n              </label>\r\n\r\n              <input\r\n                type=\"text\"\r\n                name=\"cardHoldersName\"\r\n                className=\"form-control\"\r\n                value={state.cardHoldersName}\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"row mb-3\">\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"cardNumber\">\r\n                Card Number\r\n              </label>\r\n\r\n              <input\r\n                type=\"number\"\r\n                name=\"cardNumber\"\r\n                className=\"form-control\"\r\n                value={state.cardNumber}\r\n                minLength={13}\r\n                maxLength={19}\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"cvv\">\r\n                CVV\r\n              </label>\r\n\r\n              <input\r\n                type=\"password\"\r\n                name=\"cvv\"\r\n                className=\"form-control\"\r\n                value={state.cvv}\r\n                onChange={handleChange}\r\n                disabled={isDisabled}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row mb-3\">\r\n            <h5>Expiry Date</h5>\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"Month\">\r\n                Month\r\n              </label>\r\n\r\n              <select\r\n                className=\"form-select\"\r\n                name=\"month\"\r\n                onChange={handleChange}\r\n                value={state.month}\r\n                disabled={isDisabled}\r\n                required\r\n              >\r\n                <option value=\"\"> --Select-- </option>\r\n                <option value=\"January\">January</option>\r\n                <option value=\"February\">February</option>\r\n                <option value=\"March\">March</option>\r\n                <option value=\"April\">April</option>\r\n                <option value=\"May\">May</option>\r\n                <option value=\"June\">June</option>\r\n                <option value=\"July\">July</option>\r\n                <option value=\"August\">August</option>\r\n                <option value=\"September\">September</option>\r\n                <option value=\"October\">October</option>\r\n                <option value=\"November\">November</option>\r\n                <option value=\"December\">December</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"col\">\r\n              <label className=\"text-end fs-5\" htmlFor=\"city\">\r\n                Year\r\n              </label>\r\n\r\n              <select\r\n                className=\"form-select\"\r\n                name=\"year\"\r\n                onChange={handleChange}\r\n                value={state.year}\r\n                disabled={isDisabled}\r\n                required\r\n              >\r\n                <option value=\"\"> --Select-- </option>\r\n                {tenYears().map((year) => (\r\n                  <option key={year} value={year}>\r\n                    {year}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          */}\r\n\r\n          <div className=\"row mb-5\">\r\n            <div className=\"col d-flex justify-content-center\">\r\n              {!isDisabled && (\r\n                <>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-secondary btn-lg mx-2\"\r\n                    onClick={resetForm}\r\n                  >\r\n                    <i className=\"far fa-times-circle me-1\"></i>\r\n                    Cancel\r\n                  </button>\r\n                  <button type=\"submit\" className=\"btn btn-success btn-lg mx-2\">\r\n                    <i className=\"far fa-check-circle me-1\"></i>\r\n                    Update\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        \r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserUpdate;\r\n","import React, { useState, useEffect } from 'react';\r\nimport db, { auth } from '../../firebase';\r\nimport './Orders.css';\r\n\r\nfunction Orders() {\r\n  const [orders, setOrders] = useState([]);\r\n  const { uid } = auth.currentUser;\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = db.collection('orders')\r\n      .where('sellerId', '==', uid)\r\n      .orderBy('order_date', 'desc')\r\n      .onSnapshot(snap => setOrders(snap.docs.map(doc => \r\n        ({ \r\n          id: doc.id, \r\n          ...doc.data(),\r\n          order_date: doc.data().order_date.toDate().toString().slice(0, 24) \r\n        })\r\n      )))\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    }\r\n  }, [uid]);\r\n\r\n  return (\r\n    <div className='orders products'>   \r\n      <div className=\"modal-content mx-auto\">\r\n        <div className=\"modal-header\">\r\n          <h4>Orders</h4>\r\n          <div className=\"products__search\">\r\n            <input type=\"text\" className=\"form-control\" placeholder=\"Search...\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"modal-body\" style={{ height: \"400px\", overflow: \"auto\" }}>\r\n          <table className=\"productsTable table table-striped table-hover\">\r\n            <thead>\r\n              <tr className=\"table-dark\">\r\n                <th>Order Id</th>\r\n                <th>Order Date</th>\r\n                <th>Title</th>\r\n                <th>Qty</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {orders.map(order => (\r\n                <tr key={order.id}>\r\n                  <td>{order.id}</td>\r\n                  <td>{order.order_date}</td>\r\n                  <td>{order.title}</td>\r\n                  <td>{order.qty}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Orders;","import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\nimport { auth } from './firebase';\r\n\r\nimport SignIn from './Components/SignIn';\r\nimport SignUp from './Components/SignUp';\r\nimport PasswordReset from './Components/PasswordReset';\r\nimport Header from './Components/Header';\r\nimport Products from './Components/Products';\r\nimport User from './Components/User';\r\nimport Orders from './Components/Orders';\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged(authUser => {\r\n      setUser(authUser ? authUser : null);\r\n    })\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        {!user ? (\r\n          <Switch>\r\n            <Route path='/signup' component={SignUp} />\r\n            <Route path='/passwordreset' component={PasswordReset}/>\r\n            <Route path={['/signin', '/']} component={SignIn} />\r\n          </Switch>\r\n        ) : (\r\n        <>\r\n          <Header />\r\n          <Switch>\r\n            <Route path='/user' component={User} />\r\n            <Route path='/orders' component={Orders} />\r\n            <Route path='/' component={Products} />\r\n          </Switch>\r\n        </>\r\n        )}\r\n      </Router>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}