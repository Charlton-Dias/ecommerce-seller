{"version":3,"sources":["firebase.js","Components/SignIn/SignIn.js","Components/SignUp/stages/Stage1.js","Components/SignUp/stages/Stage2.js","Components/SignUp/stages/Stage3.js","Components/SignUp/stages/Stage4.js","Components/SignUp/SignUp.js","Components/Header/Header.js","Components/Modal/Modal.js","Components/Products/ProductsTable/ViewImages/ViewImages.js","Components/Products/UpdateProduct/ImageUploader/UploaderTask/UploaderTask.js","Components/Products/UpdateProduct/ImageUploader/ImageUploader.js","Components/Products/TagsInput/TagsInput.js","Components/Products/UpdateProduct/UpdateProduct.js","Components/Products/ProductsTable/ProductsTable.js","Components/Products/AddProducts/ImageUploader/UploaderTask/UploaderTask.js","Components/Products/AddProducts/ImageUploader/ImageUploader.js","Components/Products/AddProducts/AddProducts.js","Components/Products/Products.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","storageRef","storage","ref","SignIn","useState","email","password","state","setState","error","setError","handleChange","target","id","value","className","role","type","data-bs-dismiss","aria-label","onSubmit","event","preventDefault","signInWithEmailAndPassword","then","console","log","catch","message","htmlFor","onChange","required","to","src","alt","Stage1","currentStep","placeholder","fname","lname","phone","pattern","title","minLength","confirmPassword","Stage2","storeName","shopNo","pincode","city","country","Stage3","cardHoldersName","cardNumber","maxLength","cvv","month","year","currYear","Date","getFullYear","list","push","tenYears","map","Stage4","style","fontSize","SignUp","setCurrentStep","progressBar","useRef","toggleActiveClass","liIndex","current","querySelectorAll","classList","toggle","signUp","createUserWithEmailAndPassword","authUser","uid","user","currentUser","updateProfile","displayName","doc","set","businessInfo","billingInfo","temp_step","onClick","NavItem","text","link","exact","activeClassName","Header","signOut","Modal","buttonText","buttonIcon","children","data-bs-toggle","data-bs-target","data-bs-backdrop","data-bs-keyboard","tabIndex","aria-labelledby","aria-hidden","ViewImages","images","mainImage","setMainImage","useEffect","image","index","viewProduct","UploaderTask","handleDelete","shouldUploadImgs","getDownloadURL","progress","setProgress","file","date","toString","slice","replaceAll","fileName","name","metadata","contentType","uploadTask","child","put","on","TaskEvent","STATE_CHANGED","snapshot","prog","parseInt","bytesTransferred","totalBytes","code","downloadURL","data-imgindex","aria-valuenow","aria-valuemin","aria-valuemax","width","ImageUploader","setShouldUploadImgs","dispatchImageURLs","isDisabled","setImages","highlight","setHighlight","downloadURLs","setDownloadURLs","handleFileChange","files","Array","from","photosArr","forEach","reader","FileReader","readAsDataURL","addEventListener","size","result","targetIndex","Number","parentElement","dataset","imgindex","handleDrag","stopPropagation","url","length","onDragEnter","onDragOver","onDragLeave","onDrop","dt","dataTransfer","accept","multiple","disabled","idx","deleteQueue","TagsInput","tag","setTag","tags","filter","indexOf","removeTag","e","UpdateProduct","product","ProductForm","initialState","description","stock","price","category","imagesUploaded","originalProduct","setOriginalProduct","setIsDisabled","closeBtn","resetForm","deleteImages","a","promises","refFromURL","delete","Promise","all","modalCloseBtn","document","querySelector","removeEventListener","prevState","update","sellerId","click","err","method","rows","urls","ProductsTable","products","setProducts","previewImages","setPreviewImages","productForUpdate","setProductForUpdate","unsubscribe","collection","where","onSnapshot","snap","docs","data","updateProduct","data-bs-placement","window","confirm","deleteProduct","AddProducts","add","Products","height","overflow","padding","App","setUser","onAuthStateChanged","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2361296f.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\nimport 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDIPlDdqKYfpAFM6Yum7jig3WPnkLBYOyg\",\r\n  authDomain: \"tybca-project.firebaseapp.com\",\r\n  projectId: \"tybca-project\",\r\n  storageBucket: \"tybca-project.appspot.com\",\r\n  messagingSenderId: \"837424055879\",\r\n  appId: \"1:837424055879:web:dced06ea9558f5930f5362\",\r\n  measurementId: \"G-27XZ19T96Y\"\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebase.firestore();\r\nconst auth = firebase.auth();\r\nconst storageRef = firebase.storage().ref();\r\nconst storage = firebase.storage();\r\n\r\nexport { auth, storage, storageRef };\r\nexport default db;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./SignIn.css\";\r\nimport { auth } from '../../firebase';\r\n\r\nfunction SignIn() {\r\n  const [state, setState] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [error, setError] = useState();\r\n\r\n  const handleChange = ({ target }) => {\r\n    setState({ ...state, [target.id]: target.value });\r\n  };\r\n\r\n  // console.log(state);\r\n\r\n  const signIn = (event) => {\r\n    event.preventDefault();\r\n\r\n    auth.signInWithEmailAndPassword(state.email, state.password)\r\n      .then(() => console.log('SignIn Successful'))\r\n      .catch(error => setError(error?.message));\r\n  }\r\n\r\n  return (\r\n    <div className=\"signIn\">\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            {error && \r\n              <div className=\"alert alert-danger alert-dismissible fade show m-3\" role=\"alert\">\r\n                {error}\r\n                <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n              </div>\r\n            }\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <div className=\"signIn__form\">\r\n              <h2>Sign In</h2>\r\n              <form onSubmit={signIn}>\r\n                <label htmlFor=\"email\" className=\"form-label\">\r\n                  Email address:\r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  className=\"form-control\"\r\n                  id=\"email\"\r\n                  onChange={handleChange}\r\n                  value={state.email}\r\n                  required\r\n                />\r\n\r\n                <label htmlFor=\"password\" className=\"form-label mt-1\">\r\n                  Password:\r\n                </label>\r\n                <input\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  id=\"password\"\r\n                  onChange={handleChange}\r\n                  value={state.password}\r\n                  required\r\n                />\r\n\r\n                <input\r\n                  type=\"submit\"\r\n                  className=\"btn btn-primary mt-2\"\r\n                  value=\"Sign in\"\r\n                />\r\n\r\n                <Link to=\"/signup\" className=\"btn btn-link mt-2\">\r\n                  Not a member? Create an account here.\r\n                </Link>\r\n              </form>\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <img\r\n              src=\"https://firebasestorage.googleapis.com/v0/b/tybca-project.appspot.com/o/assets%2FScreenshot%202021-01-27%20122352.jpg?alt=media&token=5d70f4f2-4efe-480f-8461-a4291960a1b6\"\r\n              alt=\"banner\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n","import React from \"react\";\r\n\r\nfunction Stage1({ currentStep, state, handleChange }) {\r\n  return currentStep !== 1 ? null : (\r\n    <div id=\"stage1 container\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <h3 className=\"mb-3\">Account Information</h3>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2\">\r\n        <div className=\"col\">\r\n          <div className=\"form-floating mb-1\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"fname\"\r\n              placeholder=\"First Name\"\r\n              onChange={handleChange}\r\n              value={state.fname}\r\n              required\r\n            />\r\n\r\n\r\n            <label htmlFor=\"fname\">First Name</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"form-floating mb-1\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"lname\"\r\n              placeholder=\"Last Name\"\r\n              onChange={handleChange}\r\n              value={state.lname}\r\n              required\r\n            />\r\n\r\n\r\n            <label htmlFor=\"lname\">Last Name</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2\">\r\n        <div className=\"col\">\r\n          <div className=\"form-floating mb-1\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"phone\"\r\n              placeholder=\"Phone No.\"\r\n              onChange={handleChange}\r\n              value={state.phone}\r\n              pattern=\"^[\\d]{10}$\"\r\n              title=\"Should contain 10 digits.\"\r\n              required\r\n            />\r\n\r\n\r\n            <label htmlFor=\"phone\">Phone No.</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"form-floating mb-1\">\r\n\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              id=\"email\"\r\n              placeholder=\"Email\"\r\n              onChange={handleChange}\r\n              value={state.email}\r\n              required\r\n            />\r\n\r\n\r\n            <label htmlFor=\"email\">Email</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2\">\r\n        <div className=\"col\">\r\n          <div className=\"form-floating mb-1\">\r\n\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              id=\"password\"\r\n              placeholder=\"Password\"\r\n              onChange={handleChange}\r\n              value={state.password}\r\n              required\r\n              minLength={8}\r\n            />\r\n\r\n\r\n            <label htmlFor=\"password\">Password</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"form-floating mb-1\">\r\n\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              id=\"confirmPassword\"\r\n              placeholder=\"Confirm Password\"\r\n              onChange={handleChange}\r\n              value={state.confirmPassword}\r\n              required\r\n              minLength={8}\r\n            />\r\n\r\n            <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Stage1;\r\n","import React from \"react\";\r\n\r\nfunction Stage2({ currentStep, state, handleChange }) {\r\n  return currentStep !== 2 ? null : (\r\n    <div id=\"stage2 container\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <h3 className=\"mb-3\">Business Information</h3>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2\">\r\n        <div className=\"col\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"storeName\"\r\n              placeholder=\"Store Name\"\r\n              onChange={handleChange}\r\n              value={state.storeName}\r\n              required\r\n            />\r\n\r\n\r\n            <label htmlFor=\"storeName\">Store Name</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2\">\r\n        <div className=\"col\">\r\n          <h5 className=\"mt-2\">Business Address</h5>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2 mb-2\">\r\n        <div className=\"col\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"shopNo\"\r\n              placeholder=\"Shop No.\"\r\n              onChange={handleChange}\r\n              value={state.shopNo}\r\n              required\r\n            />\r\n\r\n            <label htmlFor=\"shopNo\">Shop No.</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"pincode\"\r\n              placeholder=\"Pincode\"\r\n              onChange={handleChange}\r\n              value={state.pincode}\r\n              required\r\n            />\r\n\r\n            <label htmlFor=\"pincode\">Pincode</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2 mb-2\">\r\n        <div className=\"col\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"city\"\r\n              placeholder=\"City\"\r\n              onChange={handleChange}\r\n              value={state.city}\r\n              required\r\n            />\r\n\r\n            <label htmlFor=\"city\">City</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"state\"\r\n              placeholder=\"State\"\r\n              onChange={handleChange}\r\n              value={state.state}\r\n              required\r\n            />\r\n\r\n            <label htmlFor=\"state\">State</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"country\"\r\n              placeholder=\"Country\"\r\n              onChange={handleChange}\r\n              value={state.country}\r\n              required\r\n            />\r\n\r\n            <label htmlFor=\"country\">Country</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Stage2;\r\n","import React from \"react\";\r\n\r\nfunction Stage3({ currentStep, state, handleChange }) {\r\n  const tenYears = () => {\r\n    const currYear = new Date().getFullYear();\r\n    const list = [];\r\n    for (let year = currYear; year <= currYear + 10; year++) {\r\n      list.push(year);\r\n    }\r\n    return list;\r\n  };\r\n\r\n  return currentStep !== 3 ? null : (\r\n    <div id=\"stage3 container\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <h3 className=\"mb-3\">Billing Information</h3>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row mb-2\">\r\n        <div className=\"col\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"cardHoldersName\"\r\n              placeholder=\"Card Holder Name\"\r\n              onChange={handleChange}\r\n              value={state.cardHoldersName}\r\n              required\r\n            />\r\n\r\n            <label htmlFor=\"cardHoldersName\">Card Holder's Name</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2 mb-2\">\r\n        <div className=\"col\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"cardNumber\"\r\n              placeholder=\"Card Number\"\r\n              onChange={handleChange}\r\n              value={state.cardNumber}\r\n              required\r\n            />\r\n\r\n            <label htmlFor=\"cardNumber\">Card Number</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-2\">\r\n          <div className=\"form-floating\">\r\n\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              id=\"cvv\"\r\n              placeholder=\"CVV\"\r\n              minLength=\"3\"\r\n              maxLength=\"3\"\r\n              onChange={handleChange}\r\n              value={state.cvv}\r\n              required\r\n            />\r\n\r\n            <label htmlFor=\"cvv\">CVV</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row mb-2\">\r\n        <div className=\"col-3\">\r\n          <h5>Expiry Date</h5>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row g-2 mb-2\">\r\n        <div className=\"col-3\">\r\n          <div className=\"form-floating\">\r\n            <select\r\n              className=\"form-select\"\r\n              id=\"month\"\r\n              onChange={handleChange}\r\n              value={state.month}\r\n              required\r\n            >\r\n              <option value=\"\"> --Select-- </option>\r\n              <option value=\"January\">January</option>\r\n              <option value=\"February\">February</option>\r\n              <option value=\"March\">March</option>\r\n              <option value=\"April\">April</option>\r\n              <option value=\"May\">May</option>\r\n              <option value=\"June\">June</option>\r\n              <option value=\"July\">July</option>\r\n              <option value=\"August\">August</option>\r\n              <option value=\"September\">September</option>\r\n              <option value=\"October\">October</option>\r\n              <option value=\"November\">November</option>\r\n              <option value=\"December\">December</option>\r\n            </select>\r\n            <label htmlFor=\"month\">Month</label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-3\">\r\n          <div className=\"form-floating\">\r\n            <select\r\n              className=\"form-select\"\r\n              id=\"year\"\r\n              onChange={handleChange}\r\n              value={state.year}\r\n              required\r\n            >\r\n              <option value=\"\"> --Select-- </option>\r\n              {tenYears().map((year) => (\r\n                <option key={year} value={year}>\r\n                  {year}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <label htmlFor=\"month\">Year</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Stage3;\r\n","import React from 'react';\r\n\r\nfunction Stage4({ currentStep }) {\r\n  return (\r\n    currentStep !== 4 ?\r\n    null :\r\n    <div id=\"stage4\" className=\"text-center\">\r\n      <h2>Success !</h2>\r\n      <i className=\"fas fa-check-circle text-success my-5\" style={{fontSize: '80px'}}></i>\r\n\r\n      <h4 className=\"text-muted\">You Have Successfully <br /> Signed Up</h4>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Stage4;\r\n","import React, { useState, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './SignUp.css';\r\nimport db, { auth } from '../../firebase';\r\n\r\nimport Stage1 from './stages/Stage1';\r\nimport Stage2 from './stages/Stage2';\r\nimport Stage3 from './stages/Stage3';\r\nimport Stage4 from './stages/Stage4';\r\n\r\nfunction SignUp() {\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const [state, setState] = useState({\r\n    fname: '', \r\n    lname: '', \r\n    phone: '', \r\n    email: '', \r\n    password: '', \r\n    confirmPassword: '', \r\n\r\n    storeName: '',\r\n    shopNo: '',\r\n    pincode: '',\r\n    city: '', \r\n    state: '', \r\n    country: '', \r\n\r\n    cardHoldersName: '', \r\n    cardNumber: '',\r\n    cvv: '',\r\n    month: '', \r\n    year: '',\r\n  });\r\n  const progressBar = useRef(); // progress on the stages in the form.\r\n  const [error, setError] = useState();\r\n\r\n\r\n  const toggleActiveClass = (liIndex) => {\r\n    progressBar.current\r\n      .querySelectorAll('li')[liIndex]\r\n      .classList.toggle('active');\r\n  }\r\n\r\n\r\n\r\n  // Backward navigation\r\n  const prev = (event) => {\r\n    event.preventDefault();\r\n    let temp_step = currentStep - 1;\r\n    \r\n    setCurrentStep(temp_step);\r\n\r\n    if (temp_step > 0)\r\n      toggleActiveClass(temp_step);\r\n  }\r\n\r\n  // Forward navigation \r\n  const next = (event) => {\r\n    event.preventDefault();\r\n\r\n    let temp_step = currentStep + 1;\r\n    if(currentStep === 1 && state.password !== state.confirmPassword)\r\n      setError('Passwords do not Match.');\r\n    else\r\n      setCurrentStep(temp_step);\r\n\r\n    if (temp_step < 5)\r\n      toggleActiveClass(currentStep);\r\n\r\n    if (temp_step === 4) {// submit to db and create account\r\n      // console.log(state);\r\n      signUp();\r\n    }\r\n  }\r\n\r\n  const signUp = () => {\r\n    auth.createUserWithEmailAndPassword(state.email, state.password)\r\n      .then(authUser => {\r\n        const uid = authUser.user.uid;\r\n\r\n        auth.currentUser\r\n          .updateProfile({\r\n            displayName: `${state.fname} ${state.lname}`\r\n          });\r\n\r\n        db.doc(uid).set({\r\n          email: state.email,\r\n          phone: state.phone,\r\n          businessInfo: {\r\n            storeName: state.storeName,\r\n            shopNo: state.shopNo,\r\n            pincode: state.pincode,\r\n            city: state.city, \r\n            state: state.state, \r\n            country: state.country,\r\n          },\r\n          billingInfo: {\r\n            cardHoldersName: state.cardHoldersName, \r\n            cardNumber: state.cardNumber,\r\n            cvv: state.cvv,\r\n            month: state.month, \r\n            year: state.year,\r\n          }\r\n        })\r\n        .then(() => {\r\n          auth.signInWithEmailAndPassword(state.email, state.password);\r\n        })\r\n      })\r\n      .catch(error => setError(error.message));\r\n  }\r\n\r\n  const handleChange = ({ target }) => {\r\n    setState({ ...state, [target.id]: target.value });\r\n  }\r\n\r\n  return (\r\n    <div className=\"signUp\">\r\n\r\n      <div className=\"signUp__form\">\r\n        <div className=\"signUp__header p-4\">\r\n          <h1>Sign Up</h1>\r\n          <h5 className='text-muted'>Fill all form fields to go to next step.</h5>\r\n        </div>\r\n        \r\n\r\n        <ul id=\"signUp__progressbar\" ref={progressBar}>\r\n          <li className=\"active\" id=\"account\">\r\n            <strong>Account</strong>\r\n          </li>\r\n          <li id=\"business\"><strong>Business</strong></li>\r\n          <li id=\"billing\"><strong>Billing</strong></li>\r\n          <li id=\"confirm\"><strong>Finish</strong></li>\r\n        </ul>\r\n\r\n        {error && \r\n          <div className=\"alert alert-danger alert-dismissible fade show m-3\" role=\"alert\">\r\n            {error}\r\n            <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n          </div>\r\n        }\r\n\r\n        <form onSubmit={next}>\r\n          <div className=\"signUp__stages\">\r\n            <Stage1 currentStep={currentStep} state={state} handleChange={handleChange} />\r\n            <Stage2 currentStep={currentStep} state={state} handleChange={handleChange} />\r\n            <Stage3 currentStep={currentStep} state={state} handleChange={handleChange} />\r\n            <Stage4 currentStep={currentStep} />\r\n          </div>\r\n          \r\n          <div className=\"signUp__actions\">\r\n            <button \r\n              className={`signUp__prevBtn btn btn-secondary ${(!(currentStep > 1) || (currentStep === 4)) && 'd-none' }`}\r\n              onClick={prev}\r\n            >\r\n              Previous\r\n            </button>\r\n            <button \r\n              type='submit'\r\n              className={`\r\n                btn mx-2\r\n                ${currentStep === 4 && 'd-none' } \r\n                ${currentStep === 3 ? 'btn-success' : 'signUp__nextBtn'}\r\n              `} \r\n            >\r\n              {currentStep === 3 ? 'Finish' : 'Next'}\r\n            </button>\r\n            <br />\r\n            <Link to='/signin' className=\"btn btn-link\">\r\n              Already a member? Click here to sign in.\r\n            </Link>\r\n          </div>\r\n        </form>\r\n        \r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp;\r\n","import React from \"react\";\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nimport \"./Header.css\";\r\nimport { auth } from '../../firebase';\r\n\r\nfunction Header() {\r\n  return (\r\n    <nav className=\"header\">\r\n      <div className=\"header__container\">\r\n        <div>\r\n          <Link to=\"/\">\r\n            <img\r\n              className=\"header__logo\"\r\n              src=\"https://josephreisigl.files.wordpress.com/2015/08/amazonlogo.png\"\r\n              alt=\"logo\"\r\n            />\r\n          </Link>\r\n\r\n          <NavItem text=\"Dashboard\" link=\"/\" />\r\n          <NavItem text=\"Products\" link=\"/products\" />\r\n\r\n        </div>\r\n        \r\n        <button className=\"header__logoutBtn btn btn-secondary\" onClick={() => auth.signOut()}>Logout</button>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nfunction NavItem({ text, link }) {\r\n  return (\r\n    <NavLink\r\n      exact\r\n      className=\"btn text-light\"\r\n      activeClassName=\"btn-primary\"\r\n      to={link}\r\n    >\r\n      {text}\r\n    </NavLink>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst Modal = ({ id, buttonText, buttonIcon, className, title, children }) => {\r\n  return (\r\n    <div>\r\n      <button \r\n        type=\"button\" \r\n        className={!className ? 'btn btn-primary' : className}\r\n        data-bs-toggle=\"modal\" \r\n        data-bs-target={`#${id}`}\r\n      >\r\n        <i className={`${buttonIcon} mx-1`}></i>\r\n        {buttonText}\r\n      </button>\r\n\r\n      <div className=\"modal fade\" id={id} data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabIndex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog modal-dialog-centered\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title\" id=\"staticBackdropLabel\">\r\n                {title}\r\n              </h5>\r\n              <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n            </div>\r\n            <div className=\"modal-body  p-0\">\r\n              {children}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./ViewImages.css\";\r\n\r\nfunction ViewImages({ images }) {\r\n  const [mainImage, setMainImage] = useState('');\r\n\r\n  const viewProduct = (index) => {\r\n    setMainImage(images[index]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setMainImage(images[0]);\r\n  }, [images])\r\n\r\n  return (\r\n    <div className=\"product__images-display\">\r\n      <div className=\"product__images-main\">\r\n        <img\r\n          src={mainImage}\r\n          alt=\"Product\"\r\n        />\r\n      </div>\r\n      \r\n      <div className=\"product__images-sub\">\r\n        {images.map((image, index) => (\r\n          <img key={index} alt={index} src={image} onClick={() => viewProduct(index)} /> \r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ViewImages;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { storageRef } from '../../../../../firebase';\r\nimport firebase from 'firebase';\r\n\r\nfunction UploaderTask({ id, handleDelete, image, shouldUploadImgs, getDownloadURL }) {\r\n  const [progress, setProgress] = useState(0);\r\n\r\n\r\n  useEffect(() => {\r\n    if(shouldUploadImgs){\r\n      const file = image.file;\r\n      const date = new Date().toString().slice(0, -31).replaceAll(' ', '-');\r\n      const fileName = `${date} - ${image.name}`;\r\n      const metadata = { contentType: image.type, };\r\n      \r\n      const uploadTask = storageRef.child(`products/${fileName}`).put(file, metadata);\r\n      uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'\r\n        (snapshot) => {\r\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n          let prog = parseInt((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\r\n          console.log('Upload is ' + prog + '% done');\r\n          setProgress(prog);\r\n          // switch (snapshot.state) {\r\n          //   case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n          //     console.log('Upload is paused');\r\n          //     break;\r\n          //   case firebase.storage.TaskState.RUNNING: // or 'running'\r\n          //     console.log('Upload is running');\r\n          //     break;\r\n          // }\r\n        }, \r\n        (error) => {\r\n          switch (error.code) {\r\n            case 'storage/unauthorized':\r\n              console.log(\"User doesn't have permission to access the object\");\r\n              break;\r\n\r\n            case 'storage/canceled':\r\n              console.log(\"User canceled the upload\");\r\n              break;\r\n\r\n            case 'storage/unknown':\r\n            default: \r\n              console.log(\"Unknown error occurred, inspect error.serverResponse\");\r\n              break;\r\n          }\r\n        }, \r\n        () => {\r\n          // Upload completed successfully, now we can get the download URL\r\n          uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n            getDownloadURL(downloadURL);\r\n            console.log('File available at', downloadURL);\r\n          });\r\n        }\r\n      );\r\n    }\r\n  }, [shouldUploadImgs])\r\n\r\n\r\n  return (\r\n    <div className={`uploaderTask ${shouldUploadImgs && 'uploaderTask-uploading'}`} data-imgindex={id}>\r\n      \r\n        {shouldUploadImgs ? \r\n          <div className=\"progress\">\r\n            <div \r\n              className=\"progress-bar  progress-bar-striped progress-bar-animated\" \r\n              role=\"progressbar\" \r\n              aria-valuenow={progress} \r\n              aria-valuemin=\"0\" \r\n              aria-valuemax=\"100\" \r\n              style={{ width: `${progress}%` }}\r\n            ></div>\r\n          </div>\r\n          :\r\n          <span onClick={handleDelete}>&times;</span>\r\n        }\r\n        \r\n      <img src={image.src} alt={image.name} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UploaderTask;\r\n","import React, { useState, useEffect } from 'react';\r\nimport UploaderTask from './UploaderTask';\r\n\r\nfunction ImageUploader({ shouldUploadImgs, setShouldUploadImgs, dispatchImageURLs, isDisabled, state, setState }) {\r\n  const [images, setImages] = useState([]);           // image files.\r\n  const [highlight, setHighlight] = useState(false);  // highlight drag & drop area.\r\n  const [downloadURLs, setDownloadURLs] = useState([]); \r\n\r\n  const handleFileChange = ({ target }) => {\r\n    const files = Array.from(target.files);\r\n\r\n    let photosArr = [];\r\n    files.forEach(file => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.addEventListener('load', () => {\r\n        photosArr.push({\r\n          name: file.name,\r\n          type: file.type, \r\n          size: file.size,\r\n          src: reader.result, \r\n          file: file,\r\n        })\r\n        setImages([...images, ...photosArr]);\r\n      }); \r\n    });\r\n  }\r\n\r\n  const handleDelete = ({ target }) => {\r\n    const targetIndex = Number(target.parentElement.dataset.imgindex);\r\n\r\n    setImages([...images.slice(0, targetIndex), ...images.slice(targetIndex + 1)]);\r\n  }\r\n\r\n  const markImageForDelete = index => {        // Function to handle deletion of existing images.\r\n    setState({                                                      \r\n      ...state,\r\n      deleteQueue: [...state.deleteQueue, state.images[index]],                      // add it's url to the delete queue\r\n      images: [...state.images.slice(0, index), ...state.images.slice(index + 1)],   // and remove it from the state.\r\n    })\r\n  }\r\n\r\n  // Following functions are for the custom image drop area.\r\n  const handleDrag = event => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    setHighlight(true);\r\n  }\r\n\r\n  const handleDragLeave = event => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    setHighlight(false);\r\n  }\r\n\r\n  const handleDrop = event => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    const dt = event.dataTransfer;\r\n    handleFileChange({ target: { files: dt.files } });\r\n\r\n    setHighlight(false);\r\n  }\r\n  // --------------------------------------------------------\r\n\r\n\r\n  const getDownloadURL = url => {\r\n    // function to get the downloadUrl from the UploaderTask component.\r\n    setDownloadURLs(downloadURLs => [...downloadURLs, url ]);\r\n  }\r\n \r\n  useEffect(() => {\r\n    if(shouldUploadImgs && downloadURLs.length === images.length){       /* && images.length !== 0*/\r\n      setShouldUploadImgs(false);\r\n      setImages([]);\r\n      dispatchImageURLs(downloadURLs);\r\n      setDownloadURLs([]);\r\n    }\r\n  }, [shouldUploadImgs, downloadURLs])\r\n\r\n  return (\r\n    <div className='imageUploader'>\r\n      <div \r\n        className={`imageUploader__dropArea ${highlight && 'highlight'} ${isDisabled && 'imageUploader__dropArea-disabled'}`} \r\n        onDragEnter={handleDrag}\r\n        onDragOver={handleDrag}\r\n        onDragLeave={handleDragLeave}\r\n        onDrop={handleDrop}\r\n      >\r\n        <label className='imageUploader__fileUpload' htmlFor=\"updaterImages\">DRAG &amp; DROP</label>\r\n        <input \r\n          className=\"d-none\" \r\n          type=\"file\" \r\n          id=\"updaterImages\" \r\n          accept='image/*' \r\n          multiple \r\n          onChange={handleFileChange} \r\n          disabled={isDisabled} \r\n        />\r\n      </div>\r\n\r\n      {/* IMAGE PREVIEWS */}\r\n      <div className=\"imageUploader__image-previews\">\r\n        {/* Images from the db. */\r\n         state.images.map((image, idx) => (\r\n          <div className=\"uploaderTask false\" key={idx}>\r\n            <span onClick={() => markImageForDelete(idx)}>&times;</span>\r\n            <img src={image} alt={idx} />\r\n          </div>\r\n        ))}\r\n        {/* New images for upload */\r\n         images.length > 0 && images.map((image, idx) => (\r\n          <UploaderTask \r\n            key={idx}\r\n            id={idx}\r\n            handleDelete={handleDelete}\r\n            image={image}\r\n            shouldUploadImgs={shouldUploadImgs}\r\n            getDownloadURL={getDownloadURL}\r\n          />\r\n        ))}\r\n      </div>\r\n      {(shouldUploadImgs && !images) && <p className=\"text-danger\">\r\n        *Images Required\r\n      </p>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImageUploader\r\n","import React, { useState } from \"react\";\r\nimport './TagsInput.css';\r\n\r\nfunction TagsInput({ isDisabled, state, setState }) {\r\n  const [tag, setTag] = useState('');\r\n\r\n  const addTag = event => {\r\n    event.preventDefault();\r\n\r\n    if (tag) {\r\n      if(state.tags.indexOf(tag) === -1)                          // if doesn't exist already\r\n        setState({ ...state, tags: [ ...state.tags, tag ]});      // add tag.\r\n\r\n      setTag('');                                                 // reset the field\r\n    }\r\n  };\r\n\r\n  const removeTag = (index) => {\r\n    setState({ \r\n      ...state, \r\n      tags: [...state.tags.filter((tag) => state.tags.indexOf(tag) !== index)] \r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"tagsInput\">\r\n      <ul>\r\n        {state.tags.map((tag, index) => (\r\n          <li key={index}>\r\n            <span>{tag}</span>\r\n            <i className=\"fas fa-times\" onClick={() => removeTag(index)}></i>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <div className='d-flex'>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          placeholder=\"Add a tag\"\r\n          value={tag}\r\n          onChange={e => setTag(e.target.value)}\r\n          disabled={isDisabled}\r\n        />\r\n        <button type='button' className=\"btn btn-secondary ms-1\" onClick={addTag}>\r\n          <i className=\"fas fa-plus\"></i>\r\n        </button>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TagsInput;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport './UpdateProduct.css';\r\nimport db, { auth, storage } from '../../../firebase';\r\nimport ImageUploader from './ImageUploader';\r\nimport TagsInput from '../TagsInput';\r\n\r\nfunction UpdateProduct({ product }) {\r\n  return (\r\n    <div>\r\n      <ProductForm product={product} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UpdateProduct;\r\n\r\n\r\n\r\nfunction ProductForm({ product }) {\r\n  const initialState = {\r\n    title: '', \r\n    description: '', \r\n    tags: [], \r\n    stock: '',   // units_in_stock\r\n    price: '',\r\n    category: '',\r\n    images: [],\r\n    deleteQueue: [],    // should hold urls of images for delete from db. AND SHOULD BE REMOVED BEFORE COMITTING STATE TO DB.\r\n    imagesUploaded: false,\r\n  };\r\n  const [state, setState] = useState(initialState);\r\n  const [originalProduct, setOriginalProduct] = useState({});         // store the original product info., to revert back onCancel.\r\n  const [shouldUploadImgs, setShouldUploadImgs] = useState(false);\r\n  const [isDisabled, setIsDisabled] = useState(false);\r\n  const closeBtn = useRef();\r\n  const categories = ['Appliances', 'Apps & Game s', 'Baby', 'Beauty', 'Books', 'Car & Motorbike', 'Clothing & Accessories', 'Collectibles', 'Computers & Accessories', 'Electronics', 'Furniture', 'Garden & Outdoors', 'Grocery & Gourmet Foods', 'Health & Personal Care', 'Home & Kitchen', 'Industrial & Scientific', 'Jewellery', 'Luggage & Bags', 'Movies & TV Shows', 'Music', 'Musical Instruments', 'Office Products', 'Pet Supplies', 'Shoes & Handbags', 'Software', 'Sports, Fitness & Outdoors', 'Tools & Home Improvement', 'Toys & Games', 'Watches'];   \r\n  const uid = auth.currentUser.uid;  \r\n\r\n  const handleChange = ({ target }) => {\r\n    setState({ ...state, [target.name]: target.value });\r\n  } \r\n\r\n  const getImageURLs = urls => {        // get image urls array from the ImageUploader Component.\r\n    setState({ \r\n      ...state,                                       // spread state.\r\n      images: [...state.images, ...urls],             // append new image urls to state.\r\n      imagesUploaded: true,\r\n    });\r\n  }\r\n\r\n  const resetForm = () => {\r\n    // event?.preventDefault();\r\n\r\n    setState({...initialState, ...originalProduct});\r\n  }\r\n\r\n  const submit = (event) => {\r\n    event.preventDefault();\r\n    setShouldUploadImgs(true);   // enable uploading\r\n    setIsDisabled(true);         // disable form input.\r\n  }\r\n\r\n  console.log(state);\r\n  // console.log(product);\r\n\r\n  const deleteImages = async () => {\r\n    const promises = state.deleteQueue.map(url => storage.refFromURL(url).delete());\r\n\r\n    return Promise.all(promises).then(() => {\r\n      setState({ \r\n        ...state,  \r\n        deleteQueue: []\r\n      })\r\n    });\r\n  }\r\n\r\n  useEffect(() => {   // for execution at component mount.    RESET FORM ON MODAL CLOSE.\r\n    const modalCloseBtn = document.querySelector('#updateProductModal .btn-close');\r\n    modalCloseBtn.addEventListener('click', resetForm);\r\n    return () => {\r\n      modalCloseBtn.removeEventListener('click', resetForm)\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {                                           // this effect executes everytime the value of product changes. Think of it as a class constructor.\r\n    if(product){\r\n      setOriginalProduct(product);                            // preserve a copy of the product\r\n      setState(prevState => ({ ...prevState, ...product}));   // set product to state.\r\n    }\r\n  }, [product]);\r\n\r\n  useEffect(() => {\r\n    /** STEPS\r\n     * 0. upload new images (if any)\r\n     * 1. delete from deleteQueue\r\n     * 2. update product in db.\r\n     */\r\n\r\n    if(state.imagesUploaded){\r\n      console.log('images uploaded');\r\n      deleteImages()\r\n        .then(() => {\r\n          console.log('images deleted');\r\n          const { id, title, description, tags, stock, price, category, images } = state;\r\n          return db.doc(`products/${id}`)\r\n            .update({ title, description, tags, stock, price, category, images, sellerId: uid })           // add new product to db\r\n        })\r\n        .then(() => {                     // on success\r\n          setIsDisabled(false);           // enable the fields\r\n          setState(initialState);         // reset state\r\n          closeBtn.current.click();       // close the modal.\r\n          console.log('uploaded')\r\n        })\r\n        .catch(err => console.error(err))\r\n    }\r\n  }, [state.imagesUploaded]);\r\n\r\n  return (\r\n    <div className='addProducts px-4 pt-4'>\r\n      <form onSubmit={submit} method='post'>\r\n        {/* TITLE */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"title\">Title</label>\r\n          <input type=\"text\" name='title' className='form-control' value={state.title} onChange={handleChange} disabled={isDisabled} required/>\r\n        </div>\r\n\r\n        {/* DESCRIPTION */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"description\">Description</label>\r\n          <textarea type=\"text\" name='description' className='form-control' rows='5' value={state.description} onChange={handleChange} disabled={isDisabled} required/>\r\n        </div>\r\n        \r\n        {/* STOCK */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"stock\">Stock</label>\r\n          <input type=\"text\" name='stock' className='form-control' value={state.stock} onChange={handleChange} disabled={isDisabled} required\r\n          pattern='^\\d+$' title='Only Numbers allowed.' />\r\n        </div>\r\n\r\n        {/* PRICE */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"price\">Price</label>\r\n          <input type=\"text\" name='price' className='form-control' value={state.price} onChange={handleChange} disabled={isDisabled} \r\n          pattern='^\\d+(\\.\\d{1,2})?$' title='Price can be formatted as 0.00'  required/>\r\n        </div>\r\n\r\n        {/* CATEGORIES */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"category\">Category</label>\r\n          <select name=\"category\" className='form-select' value={state.category} onChange={handleChange}  disabled={isDisabled} required>\r\n            <option value=''>Select Category</option>\r\n            {categories.map(category => \r\n              <option key={category} value={category}>{category}</option>\r\n            )}\r\n          </select>\r\n        </div>\r\n\r\n        {/* TAGS */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"tags\">Tags</label>\r\n          <TagsInput isDisabled={isDisabled} state={state} setState={setState} />\r\n        </div>\r\n\r\n        {/* IMAGES - File Upload */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\">Upload Images</label>\r\n          <ImageUploader \r\n            shouldUploadImgs={shouldUploadImgs} \r\n            setShouldUploadImgs={setShouldUploadImgs} \r\n            isDisabled={isDisabled} \r\n            dispatchImageURLs={getImageURLs}\r\n            state={state}\r\n            setState={setState}\r\n          />\r\n        </div>\r\n        <div className=\"modal-footer m-0 p-0 py-1\">\r\n          <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\" ref={closeBtn} onClick={resetForm} disabled={isDisabled}>Cancel</button>\r\n          <button type=\"submit\" className=\"btn btn-primary\" disabled={isDisabled}>Update</button>\r\n        </div>\r\n        \r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport db, { auth, storage } from '../../../firebase';\r\nimport './ProductsTable.css';\r\nimport Modal from '../../Modal';\r\nimport ViewImages from './ViewImages';\r\nimport UpdateProduct from '../UpdateProduct';\r\n\r\nfunction ProductsTable() {\r\n  const [products, setProducts] = useState([]);\r\n  const [previewImages, setPreviewImages] = useState([]);         // holds urls of images of a product to be previwed.\r\n  const [productForUpdate, setProductForUpdate] = useState({});   // holds details of product to be updated.\r\n  const uid = auth.currentUser.uid;  \r\n\r\n  useEffect(() => {\r\n    const unsubscribe = db.collection('products')\r\n      .where('sellerId', '==', uid)\r\n      .onSnapshot(snap => {\r\n        setProducts(\r\n          snap.docs.map((doc) => \r\n            ({ ...doc.data(), id: doc.id })\r\n          )\r\n        );\r\n      })\r\n    return () => {\r\n      unsubscribe();\r\n    }\r\n  }, []);\r\n\r\n  const updateProduct = (product) => {\r\n    setProductForUpdate(product);\r\n  }\r\n\r\n  const deleteProduct = (id, images) => {\r\n    console.log(id);\r\n\r\n    if(window.confirm('Do you want to delete?')){\r\n      let promises = images.map(image => storage.refFromURL(image).delete());   // map all the promises into an array\r\n\r\n      return Promise.all(promises).then(() => {         // execute once all promises are resolved.\r\n        db.doc(`products/${id}`)                        // i.e delete the record from the database.\r\n          .delete()\r\n          .then(() => console.log('Delete Successful'))\r\n          .catch(error => console.log(error));\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <table className=\"productsTable table table-striped table-hover\">\r\n        <thead>\r\n          <tr className=\"table-dark\">\r\n            <th>Product Id</th>\r\n            <th>Title</th>\r\n            <th>Description</th>\r\n            <th>Category</th>\r\n            <th>Price</th>\r\n            <th>Stock</th>\r\n            <th>Tags</th>\r\n            <th>Images</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {products.map(product => (\r\n            <tr key={product.id}>\r\n              <td>{product.id}</td>\r\n              <td>{product.title}</td>\r\n              <td className='text-wrap'>{product.description}</td>\r\n              <td>{product.category}</td>\r\n              <td>{product.price}</td>\r\n              <td>{product.stock}</td>\r\n              <td className='text-wrap'>{product.tags.map(tag => `${tag}, `)}</td>\r\n              <td>\r\n                <button \r\n                  onClick={() => setPreviewImages(product.images)} \r\n                  className='btn btn-secondary btn-sm'\r\n                  data-bs-toggle=\"modal\"\r\n                  data-bs-target=\"#previewImagesModal\"\r\n                >\r\n                  View\r\n                </button>\r\n              </td>\r\n              <td>\r\n                <button \r\n                  onClick={() => updateProduct(product)} \r\n                  className=\"btn btn-primary btn-sm me-1\" \r\n                  data-bs-toggle=\"tooltip\" \r\n                  data-bs-placement=\"top\" \r\n                  title=\"Edit/Update\"\r\n                  data-bs-toggle=\"modal\"\r\n                  data-bs-target=\"#updateProductModal\"\r\n                > \r\n                  <i className=\"fas fa-pen\"></i>\r\n                </button>\r\n                <button onClick={() => deleteProduct(product.id, product.images)} className=\"btn btn-danger btn-sm\" data-bs-toggle=\"tooltip\" data-bs-placement=\"top\" title=\"Delete\">\r\n                  <i className=\"fas fa-trash\"></i>\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      \r\n      <Modal id='previewImagesModal' title='Images (Preview)' className='d-none'>\r\n        <ViewImages images={previewImages} />\r\n      </Modal>\r\n      \r\n      <Modal id='updateProductModal' title='Update/Edit Products' className='d-none'>\r\n        <UpdateProduct product={productForUpdate} />\r\n      </Modal>\r\n          \r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProductsTable;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { storageRef } from '../../../../../firebase';\r\nimport firebase from 'firebase';\r\nimport './UploadTask.css';\r\n\r\nfunction UploaderTask({ id, handleDelete, image, shouldUploadImgs, getDownloadURL }) {\r\n  const [progress, setProgress] = useState(0);\r\n\r\n\r\n  useEffect(() => {\r\n    if(shouldUploadImgs){\r\n      const file = image.file;\r\n      const date = new Date().toString().slice(0, -31).replaceAll(' ', '-');\r\n      const fileName = `${date} - ${image.name}`;\r\n      const metadata = { contentType: image.type, };\r\n      \r\n      const uploadTask = storageRef.child(`products/${fileName}`).put(file, metadata);\r\n      uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'\r\n        (snapshot) => {\r\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n          let prog = parseInt((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\r\n          console.log('Upload is ' + prog + '% done');\r\n          setProgress(prog);\r\n          // switch (snapshot.state) {\r\n          //   case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n          //     console.log('Upload is paused');\r\n          //     break;\r\n          //   case firebase.storage.TaskState.RUNNING: // or 'running'\r\n          //     console.log('Upload is running');\r\n          //     break;\r\n          // }\r\n        }, \r\n        (error) => {\r\n          switch (error.code) {\r\n            case 'storage/unauthorized':\r\n              console.log(\"User doesn't have permission to access the object\");\r\n              break;\r\n\r\n            case 'storage/canceled':\r\n              console.log(\"User canceled the upload\");\r\n              break;\r\n\r\n            case 'storage/unknown':\r\n            default: \r\n              console.log(\"Unknown error occurred, inspect error.serverResponse\");\r\n              break;\r\n          }\r\n        }, \r\n        () => {\r\n          // Upload completed successfully, now we can get the download URL\r\n          uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n            getDownloadURL(downloadURL);\r\n            console.log('File available at', downloadURL);\r\n          });\r\n        }\r\n      );\r\n    }\r\n  }, [shouldUploadImgs])\r\n\r\n\r\n  return (\r\n    <div className={`uploaderTask ${shouldUploadImgs && 'uploaderTask-uploading'}`} data-imgindex={id}>\r\n      \r\n        {shouldUploadImgs ? \r\n          <div className=\"progress\">\r\n            <div \r\n              className=\"progress-bar  progress-bar-striped progress-bar-animated\" \r\n              role=\"progressbar\" \r\n              aria-valuenow={progress} \r\n              aria-valuemin=\"0\" \r\n              aria-valuemax=\"100\" \r\n              style={{ width: `${progress}%` }}\r\n            ></div>\r\n          </div>\r\n          :\r\n          <span onClick={handleDelete}>&times;</span>\r\n        }\r\n        \r\n      <img src={image.src} alt={image.name} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UploaderTask\r\n","import React, { useState, useEffect } from 'react';\r\nimport './ImageUploader.css';\r\nimport UploaderTask from './UploaderTask';\r\n\r\nfunction ImageUploader({ shouldUploadImgs, setShouldUploadImgs, dispatchImageURLs, isDisabled }) {\r\n  const [images, setImages] = useState([]);           // image files.\r\n  const [highlight, setHighlight] = useState(false);  // highlight drag & drop area.\r\n  const [downloadURLs, setDownloadURLs] = useState([]); \r\n\r\n  const handleFileChange = ({ target }) => {\r\n    const files = Array.from(target.files);\r\n\r\n    let photosArr = [];\r\n    files.forEach(file => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.addEventListener('load', () => {\r\n        photosArr.push({\r\n          name: file.name,\r\n          type: file.type, \r\n          size: file.size,\r\n          src: reader.result, \r\n          file: file,\r\n        })\r\n        setImages([...images, ...photosArr]);\r\n      }); \r\n    });\r\n  }\r\n\r\n  const handleDelete = ({ target }) => {\r\n    const targetIndex = Number(target.parentElement.dataset.imgindex);\r\n\r\n    setImages([...images.slice(0, targetIndex), ...images.slice(targetIndex + 1)]);\r\n  }\r\n\r\n  // Following functions are for the custom image drop area.\r\n  const handleDrag = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    setHighlight(true);\r\n  }\r\n\r\n  const handleDragLeave = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    setHighlight(false);\r\n  }\r\n\r\n  const handleDrop = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    const dt = event.dataTransfer;\r\n    handleFileChange({ target: { files: dt.files } });\r\n\r\n    setHighlight(false);\r\n  }\r\n  // --------------------------------------------------------\r\n\r\n\r\n  const getDownloadURL = (url) => {\r\n    // function to get the downloadUrl from the UploaderTask component.\r\n    setDownloadURLs(downloadURLs => [...downloadURLs, url ]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(downloadURLs.length === images.length && images.length !== 0){\r\n      setShouldUploadImgs(false);\r\n      setImages([]);\r\n      dispatchImageURLs(downloadURLs);\r\n      setDownloadURLs([]);\r\n    }\r\n  }, [downloadURLs])\r\n\r\n  return (\r\n    <div className='imageUploader'>\r\n      <div \r\n        className={`imageUploader__dropArea ${highlight && 'highlight'} ${isDisabled && 'imageUploader__dropArea-disabled'}`} \r\n        onDragEnter={handleDrag}\r\n        onDragOver={handleDrag}\r\n        onDragLeave={handleDragLeave}\r\n        onDrop={handleDrop}\r\n      >\r\n        <label className='imageUploader__fileUpload' htmlFor=\"images\">DRAG &amp; DROP</label>\r\n        <input \r\n          className=\"d-none\" \r\n          type=\"file\" \r\n          id=\"images\" \r\n          accept='image/*' \r\n          multiple \r\n          onChange={handleFileChange} \r\n          disabled={isDisabled} \r\n        />\r\n      </div>\r\n\r\n      <div className=\"imageUploader__image-previews\">\r\n        {images.length > 0 && images.map((image, idx) => (\r\n          <UploaderTask \r\n            key={idx}\r\n            id={idx}\r\n            handleDelete={handleDelete}\r\n            image={image}\r\n            shouldUploadImgs={shouldUploadImgs}\r\n            getDownloadURL={getDownloadURL}\r\n          />\r\n        ))}\r\n      </div>\r\n      {(shouldUploadImgs && !images) && <p className=\"text-danger\">\r\n        *Images Required\r\n      </p>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImageUploader\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport db, { auth } from '../../../firebase';\r\nimport ImageUploader from './ImageUploader';\r\nimport TagsInput from '../TagsInput';\r\n\r\nfunction AddProducts() {\r\n  const initialState = {\r\n    title: '', \r\n    description: '', \r\n    tags: [], \r\n    stock: '',   // units_in_stock\r\n    price: '',\r\n    category: '',\r\n    images: [],\r\n  };\r\n  const [state, setState] = useState(initialState);\r\n  const [shouldUploadImgs, setShouldUploadImgs] = useState(false);\r\n  const [isDisabled, setIsDisabled] = useState(false);\r\n  const closeBtn = useRef();\r\n  const categories = ['Appliances', 'Apps & Games', 'Baby', 'Beauty', 'Books', 'Car & Motorbike', 'Clothing & Accessories', 'Collectibles', 'Computers & Accessories', 'Electronics', 'Furniture', 'Garden & Outdoors', 'Grocery & Gourmet Foods', 'Health & Personal Care', 'Home & Kitchen', 'Industrial & Scientific', 'Jewellery', 'Luggage & Bags', 'Movies & TV Shows', 'Music', 'Musical Instruments', 'Office Products', 'Pet Supplies', 'Shoes & Handbags', 'Software', 'Sports, Fitness & Outdoors', 'Tools & Home Improvement', 'Toys & Games', 'Watches'];   \r\n  const uid = auth.currentUser.uid;  \r\n\r\n  const handleChange = ({ target }) => {\r\n    setState({ ...state, [target.name]: target.value });\r\n  } \r\n\r\n  const getImageURLs = (urls) => {        // get image urls array from the ImageUploader Component.\r\n    setState({ ...state, images: urls });\r\n  }\r\n\r\n  const submit = (event) => {\r\n    event.preventDefault();\r\n    setShouldUploadImgs(true);   // enable uploading\r\n    setIsDisabled(true);         // disable form input.\r\n  }\r\n\r\n  //console.log(state);\r\n\r\n  useEffect(() => {\r\n    if(state.images.length !== 0){\r\n      console.log('upload to firestore>>>',state);\r\n\r\n      db.collection('products')\r\n        .add({ ...state, sellerId: uid })                       // add new product to db\r\n        .then(() => {                     // on success\r\n          setIsDisabled(false);           // enable the fields\r\n          setState(initialState);         // reset state\r\n          closeBtn.current.click();       // close the modal.\r\n          console.log('uploaded')\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n  }, [state.images])\r\n\r\n  return (\r\n    <div className='addProducts px-4 pt-4'>\r\n      <form onSubmit={submit} method='post'>\r\n        {/* TITLE */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"title\">Title</label>\r\n          <input type=\"text\" name='title' className='form-control' value={state.title} onChange={handleChange} disabled={isDisabled} required/>\r\n        </div>\r\n\r\n        {/* DESCRIPTION */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"description\">Description</label>\r\n          <textarea type=\"text\" name='description' className='form-control' rows='5' value={state.description} onChange={handleChange} disabled={isDisabled} required/>\r\n        </div>\r\n        \r\n        {/* STOCK */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"stock\">Stock</label>\r\n          <input type=\"text\" name='stock' className='form-control' value={state.stock} onChange={handleChange} disabled={isDisabled} required\r\n          pattern='^\\d+$' title='Only Numbers allowed.' />\r\n        </div>\r\n\r\n        {/* PRICE */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"price\">Price</label>\r\n          <input type=\"text\" name='price' className='form-control' value={state.price} onChange={handleChange} disabled={isDisabled} \r\n          pattern='^\\d+(\\.\\d{1,2})?$' title='Price can be formatted as 0.00'  required/>\r\n        </div>\r\n\r\n        {/* CATEGORIES */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"category\">Category</label>\r\n          <select name=\"category\" className='form-select' value={state.category} onChange={handleChange}  disabled={isDisabled} required>\r\n            <option value=''>Select Category</option>\r\n            {categories.map(category => \r\n              <option key={category} value={category}>{category}</option>\r\n            )}\r\n          </select>\r\n        </div>\r\n\r\n        {/* TAGS */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\" htmlFor=\"tags\">Tags</label>\r\n          <TagsInput isDisabled={isDisabled} state={state} setState={setState} />\r\n        </div>\r\n\r\n        {/* IMAGES - File Upload */}\r\n        <div className=\"mb-3\">\r\n          <label className=\"text-end fs-5\">Upload Images</label>\r\n          <ImageUploader \r\n            shouldUploadImgs={shouldUploadImgs} \r\n            setShouldUploadImgs={setShouldUploadImgs} \r\n            isDisabled={isDisabled} \r\n            dispatchImageURLs={getImageURLs}\r\n          />\r\n        </div>\r\n        <div className=\"modal-footer m-0 p-0 py-1\">\r\n          <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\" ref={closeBtn}>Close</button>\r\n          <button type=\"submit\" className=\"btn btn-primary\" disabled={isDisabled}>Add Product</button>\r\n        </div>\r\n        \r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddProducts;\r\n","import React from 'react';\r\nimport Modal from '../Modal';\r\nimport './Products.css';\r\nimport ProductsTable from './ProductsTable/';\r\nimport AddProducts from './AddProducts';\r\n\r\nfunction Products() {\r\n  return (\r\n    <div className=\"products\">\r\n      <div className=\"modal-content mx-auto\">\r\n        <div className=\"modal-header\">\r\n          <h4>Products</h4>\r\n          <div className=\"products__search\">\r\n            <input type=\"text\" className=\"form-control\" placeholder=\"Search...\" />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"modal-body\"\r\n          style={{ height: \"400px\", overflow: \"auto\" }}\r\n        >\r\n          <ProductsTable />\r\n        </div>\r\n\r\n        <div className=\"modal-footer\" style={{ padding: \"10px\" }}>\r\n          <Modal \r\n            id='addProduct' \r\n            buttonText=\"Add a Product\" \r\n            title=\" Add a Product\"\r\n            buttonIcon='fas fa-plus'\r\n          >\r\n            <AddProducts />\r\n          </Modal>\r\n        </div>\r\n      </div>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default Products;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\nimport { auth } from './firebase';\r\n\r\nimport SignIn from './Components/SignIn';\r\nimport SignUp from './Components/SignUp';\r\nimport Header from './Components/Header';\r\nimport Products from './Components/Products';\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged(authUser => {\r\n      setUser(authUser ? authUser : null);\r\n    })\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        {!user ? (\r\n          <Switch>\r\n            <Route path='/signup' component={SignUp} />\r\n            <Route path={['/signin', '/']} component={SignIn} />\r\n          </Switch>\r\n        ) : (\r\n        <>\r\n          <Header />\r\n          <Switch>\r\n            <Route path='/products' component={Products} />\r\n            <Route path='/' component={Products} />\r\n          </Switch>\r\n        </>\r\n        )}\r\n      </Router>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}