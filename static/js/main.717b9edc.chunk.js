(this["webpackJsonpecommerce-seller"]=this["webpackJsonpecommerce-seller"]||[]).push([[0],{46:function(e,t,s){},47:function(e,t,s){},51:function(e,t,s){},56:function(e,t,s){},57:function(e,t,s){},58:function(e,t,s){},59:function(e,t,s){},60:function(e,t,s){},61:function(e,t,s){},63:function(e,t,s){},66:function(e,t,s){},67:function(e,t,s){},68:function(e,t,s){},69:function(e,t,s){},70:function(e,t,s){},71:function(e,t,s){},72:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s(3),n=s.n(c),l=s(37),r=s.n(l),i=(s(46),s(6)),o=(s(47),s(17)),d=s(10),j=s(22);s(48),s(49),s(50);j.a.initializeApp({apiKey:"AIzaSyDIPlDdqKYfpAFM6Yum7jig3WPnkLBYOyg",authDomain:"tybca-project.firebaseapp.com",projectId:"tybca-project",storageBucket:"tybca-project.appspot.com",messagingSenderId:"837424055879",appId:"1:837424055879:web:dced06ea9558f5930f5362",measurementId:"G-27XZ19T96Y"});var b=j.a.firestore(),m=j.a.auth(),u=j.a.storage().ref(),h=j.a.storage(),O=b,x=s(14),p=s(5);s(51);var f=function(){var e=Object(d.f)(),t=Object(c.useState)({email:"",password:""}),s=Object(i.a)(t,2),n=s[0],l=s[1],r=Object(c.useState)(),j=Object(i.a)(r,2),b=j[0],u=j[1],h=function(e){var t=e.target;l(Object(p.a)(Object(p.a)({},n),{},Object(x.a)({},t.id,t.value)))};return Object(a.jsx)("div",{className:"signIn",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:b&&Object(a.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show m-3",role:"alert",children:[b,Object(a.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]})})}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"signIn__form",children:[Object(a.jsx)("h2",{children:"Sign In"}),Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),m.signInWithEmailAndPassword(n.email,n.password).then((function(){e.push("/"),console.log("SignIn Successful")})).catch((function(e){return u(null===e||void 0===e?void 0:e.message)}))},children:[Object(a.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address:"}),Object(a.jsx)("input",{type:"email",className:"form-control",id:"email",onChange:h,value:n.email,required:!0}),Object(a.jsx)("label",{htmlFor:"password",className:"form-label mt-1",children:"Password:"}),Object(a.jsx)("input",{type:"password",className:"form-control",id:"password",onChange:h,value:n.password,required:!0}),Object(a.jsx)("input",{type:"submit",className:"btn btn-primary mt-2",value:"Sign in"}),Object(a.jsx)("br",{}),Object(a.jsx)(o.b,{to:"/signup",className:"btn btn-link mt-2",children:"Not a member? Create an account here."})]})]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/tybca-project.appspot.com/o/assets%2FScreenshot%202021-01-27%20122352.jpg?alt=media&token=5d70f4f2-4efe-480f-8461-a4291960a1b6",alt:"banner"})})]})]})})};s(56);var g=function(e){var t=e.currentStep,s=e.state,c=e.handleChange;return 1!==t?null:Object(a.jsxs)("div",{id:"stage1 container",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("h3",{className:"mb-3",children:"Account Information"})})}),Object(a.jsxs)("div",{className:"row g-2",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-floating mb-1",children:[Object(a.jsx)("input",{type:"text",className:"form-control",id:"fname",placeholder:"First Name",onChange:c,value:s.fname,required:!0}),Object(a.jsx)("label",{htmlFor:"fname",children:"First Name"})]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-floating mb-1",children:[Object(a.jsx)("input",{type:"text",className:"form-control",id:"lname",placeholder:"Last Name",onChange:c,value:s.lname,required:!0}),Object(a.jsx)("label",{htmlFor:"lname",children:"Last Name"})]})})]}),Object(a.jsxs)("div",{className:"row g-2",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-floating mb-1",children:[Object(a.jsx)("input",{type:"text",className:"form-control",id:"phone",placeholder:"Phone No.",onChange:c,value:s.phone,pattern:"^[\\d]{10}$",title:"Should contain 10 digits.",required:!0}),Object(a.jsx)("label",{htmlFor:"phone",children:"Phone No."})]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-floating mb-1",children:[Object(a.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"Email",onChange:c,value:s.email,required:!0}),Object(a.jsx)("label",{htmlFor:"email",children:"Email"})]})})]}),Object(a.jsxs)("div",{className:"row g-2",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-floating mb-1",children:[Object(a.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",onChange:c,value:s.password,required:!0,minLength:8}),Object(a.jsx)("label",{htmlFor:"password",children:"Password"})]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-floating mb-1",children:[Object(a.jsx)("input",{type:"password",className:"form-control",id:"confirmPassword",placeholder:"Confirm Password",onChange:c,value:s.confirmPassword,required:!0,minLength:8}),Object(a.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"})]})})]})]})};var N=function(e){var t=e.currentStep,s=e.state,c=e.handleChange;return 2!==t?null:Object(a.jsxs)("div",{id:"stage2 container",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("h3",{className:"mb-3",children:"Business Information"})})}),Object(a.jsx)("div",{className:"row g-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-floating",children:[Object(a.jsx)("input",{type:"text",className:"form-control",id:"storeName",placeholder:"Store Name",onChange:c,value:s.storeName,required:!0}),Object(a.jsx)("label",{htmlFor:"storeName",children:"Store Name"})]})})}),Object(a.jsx)("div",{className:"row g-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("h5",{className:"mt-2",children:"Business Address"})})}),Object(a.jsxs)("div",{className:"row g-2 mb-2",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-floating",children:[Object(a.jsx)("input",{type:"text",className:"form-control",id:"shopNo",placeholder:"Shop No.",onChange:c,value:s.shopNo,required:!0}),Object(a.jsx)("label",{htmlFor:"shopNo",children:"Shop No."})]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-floating",children:[Object(a.jsx)("input",{type:"text",className:"form-control",id:"pincode",pattern:"^[\\d]{6}$",placeholder:"Pincode",title:"Pincode has to be 6 digits",onChange:c,value:s.pincode,required:!0}),Object(a.jsx)("label",{htmlFor:"pincode",children:"Pincode"})]})})]}),Object(a.jsxs)("div",{className:"row g-2 mb-2",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-floating",children:[Object(a.jsx)("input",{type:"text",className:"form-control",id:"city",placeholder:"City",onChange:c,value:s.city,required:!0}),Object(a.jsx)("label",{htmlFor:"city",children:"City"})]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-floating",children:[Object(a.jsx)("input",{type:"text",className:"form-control",id:"state",placeholder:"State",onChange:c,value:s.state,required:!0}),Object(a.jsx)("label",{htmlFor:"state",children:"State"})]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-floating",children:[Object(a.jsx)("input",{type:"text",className:"form-control",id:"country",placeholder:"Country",onChange:c,value:s.country,required:!0}),Object(a.jsx)("label",{htmlFor:"country",children:"Country"})]})})]})]})};var v=function(e){var t=e.currentStep,s=e.state,c=e.handleChange;return 3!==t?null:Object(a.jsxs)("div",{id:"stage3 container",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("h3",{className:"mb-3",children:"Billing Information"})})}),Object(a.jsx)("div",{className:"row mb-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-floating",children:[Object(a.jsx)("input",{type:"text",className:"form-control",id:"accHoldersName",placeholder:"Account Holder's Name",onChange:c,value:s.accHoldersName,required:!0}),Object(a.jsx)("label",{htmlFor:"accHoldersName",children:"Account Holder's Name"})]})})}),Object(a.jsxs)("div",{className:"row g-2 mb-2",children:[Object(a.jsx)("div",{className:"col-4",children:Object(a.jsxs)("div",{className:"form-floating",children:[Object(a.jsx)("input",{type:"text",className:"form-control",id:"branchIFSC",placeholder:"Branch IFSC Code",title:"Example: AAAA0999999, XXXX099XX9XX",onChange:c,value:s.branchIFSC}),Object(a.jsx)("label",{htmlFor:"branchIFSC",children:"Branch IFSC Code"})]})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsxs)("div",{className:"form-floating",children:[Object(a.jsx)("input",{type:"text",className:"form-control",id:"accNumber",placeholder:"Account Number",minLength:8,maxLength:18,title:"Usually 8-18 digits",onChange:c,value:s.accNumber,required:!0}),Object(a.jsx)("label",{htmlFor:"accNumber",children:"Account Number"})]})})]})]})};var y=function(e){var t=e.currentStep,s=e.error;return 4!==t?null:s?Object(a.jsxs)("div",{id:"stage4",className:"text-center",children:[Object(a.jsx)("h2",{children:"Failure !"}),Object(a.jsx)("i",{className:"fas fa-times-circle text-danger my-5",style:{fontSize:"80px"}}),Object(a.jsx)("h4",{className:"text-muted",children:"Registration Failed"})]}):Object(a.jsxs)("div",{id:"stage4",className:"text-center",children:[Object(a.jsx)("h2",{children:"Success !"}),Object(a.jsx)("i",{className:"fas fa-check-circle text-success my-5",style:{fontSize:"80px"}}),Object(a.jsxs)("h4",{className:"text-muted",children:["You Have Successfully ",Object(a.jsx)("br",{})," Signed Up"]})]})};var w=function(){var e=Object(c.useState)(1),t=Object(i.a)(e,2),s=t[0],n=t[1],l=Object(c.useState)({fname:"",lname:"",phone:"",email:"",password:"",confirmPassword:"",storeName:"",shopNo:"",pincode:"",city:"",state:"",country:"",accHoldersName:"",branchIFSC:"",accNumber:""}),r=Object(i.a)(l,2),d=r[0],j=r[1],b=Object(c.useRef)(),u=Object(c.useState)(),h=Object(i.a)(u,2),f=h[0],w=h[1],C=function(e){b.current.querySelectorAll("li")[e].classList.toggle("active")},S=function(){m.createUserWithEmailAndPassword(d.email,d.password).then((function(e){var t=e.user.uid;m.currentUser.updateProfile({displayName:"".concat(d.fname," ").concat(d.lname)}),O.doc("sellers/".concat(t)).set({email:d.email,phone:d.phone,businessInfo:{storeName:d.storeName,shopNo:d.shopNo,pincode:d.pincode,city:d.city,state:d.state,country:d.country},billingInfo:{accHoldersName:d.accHoldersName,branchIFSC:d.branchIFSC,accNumber:d.accNumber}}).then((function(){m.signInWithEmailAndPassword(d.email,d.password)})).catch((function(e){return console.log(e)}))})).catch((function(e){return w(e.message)}))},P=function(e){var t=e.target;j(Object(p.a)(Object(p.a)({},d),{},Object(x.a)({},t.id,t.value)))};return Object(a.jsx)("div",{className:"signUp",children:Object(a.jsxs)("div",{className:"signUp__form",children:[Object(a.jsxs)("div",{className:"signUp__header p-4",children:[Object(a.jsx)("h1",{children:"Sign Up"}),Object(a.jsx)("h5",{className:"text-muted",children:"Fill all form fields to go to next step."})]}),Object(a.jsxs)("ul",{id:"signUp__progressbar",ref:b,children:[Object(a.jsx)("li",{className:"active",id:"account",children:Object(a.jsx)("strong",{children:"Account"})}),Object(a.jsx)("li",{id:"business",children:Object(a.jsx)("strong",{children:"Business"})}),Object(a.jsx)("li",{id:"billing",children:Object(a.jsx)("strong",{children:"Billing"})}),Object(a.jsx)("li",{id:"confirm",children:Object(a.jsx)("strong",{children:"Finish"})})]}),f&&Object(a.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show m-3",role:"alert",children:[f,Object(a.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=s+1;1===s&&d.password!==d.confirmPassword?w("Passwords do not Match."):n(t),t<5&&C(s),4===t&&S()},children:[Object(a.jsxs)("div",{className:"signUp__stages",children:[Object(a.jsx)(g,{currentStep:s,state:d,handleChange:P}),Object(a.jsx)(N,{currentStep:s,state:d,handleChange:P}),Object(a.jsx)(v,{currentStep:s,state:d,handleChange:P}),Object(a.jsx)(y,{currentStep:s,error:f})]}),Object(a.jsxs)("div",{className:"signUp__actions",children:[Object(a.jsx)("button",{className:"signUp__prevBtn btn btn-secondary ".concat((!(s>1)||4===s)&&!f&&"d-none"),onClick:function(e){e.preventDefault();var t=s-1;n(t),t>0&&C(t)},children:"Previous"}),Object(a.jsx)("button",{type:"submit",className:"\n                btn mx-2\n                ".concat(4===s&&"d-none"," \n                ").concat(3===s?"btn-success":"signUp__nextBtn","\n              "),children:3===s?"Finish":"Next"}),Object(a.jsx)("br",{}),Object(a.jsx)(o.b,{to:"/signin",className:"btn btn-link",children:"Already a member? Click here to sign in."})]})]})]})})};s(57);var C=function(){var e=Object(c.useState)({email:""}),t=Object(i.a)(e,2),s=t[0],n=t[1],l=Object(c.useState)(!0),r=Object(i.a)(l,1)[0],d=function(e){var t=e.target;n(Object(p.a)(Object(p.a)({},s),{},Object(x.a)({},t.name,t.value)))};return Object(a.jsx)("div",{className:"PasswordReset",children:Object(a.jsx)("form",{onSubmit:function(e){e.preventDefault()},method:"post",children:Object(a.jsxs)("div",{className:"container mt-4",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("h2",{children:"Reset Password"}),Object(a.jsx)("hr",{})]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"email",children:"Email:"}),Object(a.jsx)("input",{type:"text",name:"email",className:"form-control",value:s.email,onChange:d,required:!0})]})}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"opt",children:"OPT:"}),Object(a.jsx)("input",{type:"text",name:"opt",className:"form-control",value:s.opt,onChange:d,required:!0})]}),Object(a.jsx)("div",{className:"col ",children:Object(a.jsx)("button",{className:"btn btn-primary mt-4",children:"Send OTP"})})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"npass",children:"New Password"}),Object(a.jsx)("input",{type:"text",name:"npass",className:"form-control",value:s.npass,onChange:d,disabled:r,required:!0})]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"cpass",children:"Confirm Password"}),Object(a.jsx)("input",{type:"text",name:"cpass",className:"form-control",value:s.cpass,onChange:d,disabled:r,required:!0})]})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col d-flex justify-content-center ",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Reset Password"})})}),Object(a.jsxs)("div",{className:"row ",children:[Object(a.jsx)("div",{className:"col d-flex justify-content-center",children:Object(a.jsx)(o.b,{to:"/",className:"btn btn-link mt-3 ",children:"Back to login"})}),Object(a.jsx)("div",{className:"col d-flex justify-content-center",children:Object(a.jsx)(o.b,{to:"/signup",className:"btn btn-link mt-3",children:"Not a member? Create an account here."})})]})]})})})};s(58);function S(e){var t=e.text,s=e.link;return Object(a.jsx)(o.c,{exact:!0,className:"btn text-light",activeClassName:"btn-primary",to:s,children:t})}var P=function(){return Object(a.jsx)("nav",{className:"header",children:Object(a.jsxs)("div",{className:"header__container",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(o.b,{to:"/",children:Object(a.jsx)("img",{className:"header__logo",src:"https://firebasestorage.googleapis.com/v0/b/tybca-project.appspot.com/o/assets%2Flogo001.png?alt=media&token=76107bca-7ed7-476f-bf2f-30a440a0928d",alt:"logo"})}),Object(a.jsx)(S,{text:"Dashboard",link:"/"}),Object(a.jsx)(S,{text:"Orders",link:"/orders"}),Object(a.jsx)(S,{text:"View Details",link:"/user"})]}),Object(a.jsx)("button",{className:"header__logoutBtn btn btn-secondary",onClick:function(){return m.signOut()},children:"Logout"})]})})},F=function(e){var t=e.id,s=e.buttonText,c=e.buttonIcon,n=e.className,l=e.title,r=e.children;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("button",{type:"button",className:n||"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#".concat(t),children:[Object(a.jsx)("i",{className:"".concat(c," mx-1")}),s]}),Object(a.jsx)("div",{className:"modal fade",id:t,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(a.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",id:"staticBackdropLabel",children:l}),Object(a.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(a.jsx)("div",{className:"modal-body  p-0",children:r})]})})})]})};s(59),s(60),s(61);var I=function(e){var t=e.images,s=Object(c.useState)(""),n=Object(i.a)(s,2),l=n[0],r=n[1];return Object(c.useEffect)((function(){r(t[0])}),[t]),Object(a.jsxs)("div",{className:"product__images-display",children:[Object(a.jsx)("div",{className:"product__images-main",children:Object(a.jsx)("img",{src:l,alt:"Product"})}),Object(a.jsx)("div",{className:"product__images-sub",children:t.map((function(e,s){return Object(a.jsx)("img",{alt:s,src:e,onClick:function(){return function(e){r(t[e])}(s)}},s)}))})]})},k=s(31),U=s.n(k),D=s(39),A=s(11),_=(s(63),s(20));var q=function(e){var t=e.id,s=e.handleDelete,n=e.image,l=e.shouldUploadImgs,r=e.getDownloadURL,o=Object(c.useState)(0),d=Object(i.a)(o,2),j=d[0],b=d[1];return Object(c.useEffect)((function(){if(l){var e=n.file,t=(new Date).toString().slice(0,-31).replaceAll(" ","-"),s="".concat(t," - ").concat(n.name),a={contentType:n.type},c=u.child("products/".concat(s)).put(e,a);c.on(_.a.storage.TaskEvent.STATE_CHANGED,(function(e){var t=parseInt(e.bytesTransferred/e.totalBytes*100);console.log("Upload is "+t+"% done"),b(t)}),(function(e){switch(e.code){case"storage/unauthorized":console.log("User doesn't have permission to access the object");break;case"storage/canceled":console.log("User canceled the upload");break;case"storage/unknown":default:console.log("Unknown error occurred, inspect error.serverResponse")}}),(function(){c.snapshot.ref.getDownloadURL().then((function(e){r(e),console.log("File available at",e)}))}))}}),[l]),Object(a.jsxs)("div",{className:"uploaderTask ".concat(l&&"uploaderTask-uploading"),"data-imgindex":t,children:[l?Object(a.jsx)("div",{className:"progress",children:Object(a.jsx)("div",{className:"progress-bar  progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":j,"aria-valuemin":"0","aria-valuemax":"100",style:{width:"".concat(j,"%")}})}):Object(a.jsx)("span",{onClick:s,children:"\xd7"}),Object(a.jsx)("img",{src:n.src,alt:n.name})]})};var E=function(e){var t=e.shouldUploadImgs,s=e.setShouldUploadImgs,n=e.dispatchImageURLs,l=e.isDisabled,r=e.state,o=e.setState,d=Object(c.useState)([]),j=Object(i.a)(d,2),b=j[0],m=j[1],u=Object(c.useState)(!1),h=Object(i.a)(u,2),O=h[0],x=h[1],f=Object(c.useState)([]),g=Object(i.a)(f,2),N=g[0],v=g[1],y=function(e){var t=e.target,s=Array.from(t.files),a=[];s.forEach((function(e){var t=new FileReader;t.readAsDataURL(e),t.addEventListener("load",(function(){a.push({name:e.name,type:e.type,size:e.size,src:t.result,file:e}),m([].concat(Object(A.a)(b),a))}))}))},w=function(e){var t=e.target,s=Number(t.parentElement.dataset.imgindex);m([].concat(Object(A.a)(b.slice(0,s)),Object(A.a)(b.slice(s+1))))},C=function(e){e.preventDefault(),e.stopPropagation(),x(!0)},S=function(e){v((function(t){return[].concat(Object(A.a)(t),[e])}))};return Object(c.useEffect)((function(){t&&N.length===b.length&&(s(!1),m([]),n(N),v([]))}),[t,N]),Object(a.jsxs)("div",{className:"imageUploader",children:[Object(a.jsxs)("div",{className:"imageUploader__dropArea ".concat(O&&"highlight"," ").concat(l&&"imageUploader__dropArea-disabled"),onDragEnter:C,onDragOver:C,onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),x(!1)},onDrop:function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer;y({target:{files:t.files}}),x(!1)},children:[Object(a.jsx)("label",{className:"imageUploader__fileUpload",htmlFor:"updaterImages",children:"DRAG & DROP"}),Object(a.jsx)("input",{className:"d-none",type:"file",id:"updaterImages",accept:"image/*",multiple:!0,onChange:y,disabled:l})]}),Object(a.jsxs)("div",{className:"imageUploader__image-previews",children:[r.images.map((function(e,t){return Object(a.jsxs)("div",{className:"uploaderTask false",children:[Object(a.jsx)("span",{onClick:function(){return e=t,void o(Object(p.a)(Object(p.a)({},r),{},{deleteQueue:[].concat(Object(A.a)(r.deleteQueue),[r.images[e]]),images:[].concat(Object(A.a)(r.images.slice(0,e)),Object(A.a)(r.images.slice(e+1)))}));var e},children:"\xd7"}),Object(a.jsx)("img",{src:e,alt:t})]},t)})),b.length>0&&b.map((function(e,s){return Object(a.jsx)(q,{id:s,handleDelete:w,image:e,shouldUploadImgs:t,getDownloadURL:S},s)}))]}),t&&!b&&Object(a.jsx)("p",{className:"text-danger",children:"*Images Required"})]})};s(66);var L=function(e){var t=e.isDisabled,s=e.state,n=e.setState,l=Object(c.useState)(""),r=Object(i.a)(l,2),o=r[0],d=r[1];return Object(a.jsxs)("div",{className:"tagsInput",children:[Object(a.jsx)("ul",{children:s.tags.map((function(e,t){return Object(a.jsxs)("li",{children:[Object(a.jsx)("span",{children:e}),Object(a.jsx)("i",{className:"fas fa-times",onClick:function(){return function(e){n(Object(p.a)(Object(p.a)({},s),{},{tags:Object(A.a)(s.tags.filter((function(t){return s.tags.indexOf(t)!==e})))}))}(t)}})]},t)}))}),Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Add a tag",value:o,onChange:function(e){return d(e.target.value)},disabled:t}),Object(a.jsx)("button",{type:"button",className:"btn btn-secondary ms-1",onClick:function(e){e.preventDefault(),o&&(-1===s.tags.indexOf(o)&&n(Object(p.a)(Object(p.a)({},s),{},{tags:[].concat(Object(A.a)(s.tags),[o])})),d(""))},children:Object(a.jsx)("i",{className:"fas fa-plus"})})]})]})},T=s(40),R=s.n(T)()("7LY0YPT76V","67c441afe8bda9a32e20849908f18221").initIndex("Products");function B(e){R.saveObject(Object(p.a)(Object(p.a)({objectID:e.id},e),{},{price:Number(e.price),images:e.images[0]})).then((function(e){var t=e.objectID;return console.log("".concat(t," indexed."))})).catch((function(e){return console.log(e)}))}var H=function(e){var t=e.product;return Object(a.jsx)("div",{children:Object(a.jsx)(M,{product:t})})};function M(e){var t=e.product,s={title:"",description:"",details:"",tags:[],stock:"",price:"",category:"",images:[],deleteQueue:[],imagesUploaded:!1},n=Object(c.useState)(s),l=Object(i.a)(n,2),r=l[0],o=l[1],d=Object(c.useState)({}),j=Object(i.a)(d,2),b=j[0],u=j[1],f=Object(c.useState)(!1),g=Object(i.a)(f,2),N=g[0],v=g[1],y=Object(c.useState)(!1),w=Object(i.a)(y,2),C=w[0],S=w[1],P=Object(c.useRef)(),F=m.currentUser.uid,I=function(e){var t=e.target;o(Object(p.a)(Object(p.a)({},r),{},Object(x.a)({},t.name,t.value)))},k=function(){var e=Object(D.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.deleteQueue.map((function(e){return h.refFromURL(e).delete()})),e.abrupt("return",Promise.all(t).then((function(){o(Object(p.a)(Object(p.a)({},r),{},{deleteQueue:[]}))})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=document.querySelector("#updateProductModal .btn-close"),t=function(){P.current.click()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}),[]),Object(c.useEffect)((function(){u(t),o(Object(p.a)(Object(p.a)({},s),t))}),[t]),Object(c.useEffect)((function(){r.imagesUploaded&&(console.log("images uploaded"),k().then((function(){console.log("images deleted");var e=r.id,t=r.title,s=r.description,a=r.details,c=r.tags,n=r.stock,l=r.price,i=r.category,o=r.images;return O.doc("products/".concat(e)).update({title:t,description:s,details:a,tags:c,stock:n,price:l,category:i,images:o,sellerId:F})})).then((function(){B({id:r.id,title:r.title,description:r.description,details:r.details,tags:r.tags,stock:r.stock,price:r.price,category:r.category,images:r.images}),S(!1),o(s),P.current.click(),console.log("uploaded")})).catch((function(e){return console.error(e)})))}),[r.imagesUploaded]),Object(a.jsx)("div",{className:"addProducts px-4 pt-4",children:Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v(!0),S(!0)},method:"post",children:[Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"title",children:"Title"}),Object(a.jsx)("input",{type:"text",name:"title",className:"form-control",value:r.title,onChange:I,disabled:C,required:!0})]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"description",children:"Description"}),Object(a.jsx)("textarea",{type:"text",name:"description",className:"form-control",rows:"5",value:r.description,onChange:I,disabled:C,required:!0})]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsxs)("label",{className:"text-end fs-5",htmlFor:"description",children:["Details ",Object(a.jsx)("span",{className:"text-muted fs-6",children:"(Add each point on a new line.)"})]}),Object(a.jsx)("textarea",{type:"text",name:"details",className:"form-control",rows:"5",value:r.details,onChange:I,disabled:C,required:!0})]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"stock",children:"Stock"}),Object(a.jsx)("input",{type:"text",name:"stock",className:"form-control",value:r.stock,onChange:I,disabled:C,required:!0,pattern:"^\\d+$",title:"Only Numbers allowed."})]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"price",children:"Price"}),Object(a.jsx)("input",{type:"text",name:"price",className:"form-control",value:r.price,onChange:I,disabled:C,pattern:"^\\d+(\\.\\d{1,2})?$",title:"Price can be formatted as 0.00",required:!0})]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"category",children:"Category"}),Object(a.jsxs)("select",{name:"category",className:"form-select",value:r.category,onChange:I,disabled:C,required:!0,children:[Object(a.jsx)("option",{value:"",children:"Select Category"}),["Appliances","Apps & Games","Baby","Beauty","Books","Car & Motorbike","Clothing & Accessories","Collectibles","Computers & Accessories","Electronics","Furniture","Garden & Outdoors","Grocery & Gourmet Foods","Health & Personal Care","Home & Kitchen","Industrial & Scientific","Jewellery","Luggage & Bags","Movies & TV Shows","Music","Musical Instruments","Office Products","Pet Supplies","Shoes & Handbags","Software","Sports, Fitness & Outdoors","Tools & Home Improvement","Toys & Games","Watches"].map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))]})]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"tags",children:"Tags"}),Object(a.jsx)(L,{isDisabled:C,state:r,setState:o})]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{className:"text-end fs-5",children:"Upload Images"}),Object(a.jsx)(E,{shouldUploadImgs:N,setShouldUploadImgs:v,isDisabled:C,dispatchImageURLs:function(e){o(Object(p.a)(Object(p.a)({},r),{},{images:[].concat(Object(A.a)(r.images),Object(A.a)(e)),imagesUploaded:!0}))},state:r,setState:o})]}),Object(a.jsxs)("div",{className:"modal-footer m-0 p-0 py-1",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",ref:P,onClick:function(){o(Object(p.a)(Object(p.a)({},s),b))},disabled:C,children:"Cancel"}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:C,children:"Update"})]})]})})}var X=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),s=t[0],n=t[1],l=Object(c.useState)([]),r=Object(i.a)(l,2),o=r[0],d=r[1],j=Object(c.useState)({}),b=Object(i.a)(j,2),u=b[0],x=b[1],f=m.currentUser.uid;Object(c.useEffect)((function(){var e=O.collection("products").where("sellerId","==",f).onSnapshot((function(e){n(e.docs.map((function(e){return Object(p.a)(Object(p.a)({},e.data()),{},{id:e.id})})))}));return function(){e()}}),[f]);var g=function(e,t){if(console.log(e),window.confirm("Do you want to delete?")){var s=t.map((function(e){return h.refFromURL(e).delete()}));Promise.all(s).then((function(){O.doc("products/".concat(e)).delete().then((function(){var t;console.log("Delete Successful"),t=e,R.deleteObject(t).then((function(e){var t=e.objectID;return console.log("".concat(t," deleted."))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}))}};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("table",{className:"productsTable table table-striped table-hover",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{className:"table-dark",children:[Object(a.jsx)("th",{children:"Product Id"}),Object(a.jsx)("th",{children:"Title"}),Object(a.jsx)("th",{children:"Description"}),Object(a.jsx)("th",{children:"Category"}),Object(a.jsx)("th",{children:"Price"}),Object(a.jsx)("th",{children:"Stock"}),Object(a.jsx)("th",{children:"Tags"}),Object(a.jsx)("th",{children:"Images"}),Object(a.jsx)("th",{children:"Actions"})]})}),Object(a.jsx)("tbody",{children:s.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.id}),Object(a.jsx)("td",{children:e.title}),Object(a.jsx)("td",{className:"text-wrap",children:e.description}),Object(a.jsx)("td",{children:e.category}),Object(a.jsx)("td",{children:e.price}),Object(a.jsx)("td",{children:e.stock}),Object(a.jsx)("td",{className:"text-wrap",children:e.tags.map((function(e){return"".concat(e,", ")}))}),Object(a.jsx)("td",{children:Object(a.jsx)("button",{onClick:function(){return d(e.images)},className:"btn btn-secondary btn-sm","data-bs-toggle":"modal","data-bs-target":"#previewImagesModal",children:"View"})}),Object(a.jsxs)("td",{children:[Object(a.jsx)("button",{onClick:function(){return function(e){x(e)}(e)},className:"btn btn-primary btn-sm me-1","data-bs-placement":"top",title:"Edit/Update","data-bs-toggle":"modal","data-bs-target":"#updateProductModal",children:Object(a.jsx)("i",{className:"fas fa-pen"})}),Object(a.jsx)("button",{onClick:function(){return g(e.id,e.images)},className:"btn btn-danger btn-sm","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Delete",children:Object(a.jsx)("i",{className:"fas fa-trash"})})]})]},e.id)}))})]}),Object(a.jsx)(F,{id:"previewImagesModal",title:"Images (Preview)",className:"d-none",children:Object(a.jsx)(I,{images:o})}),Object(a.jsx)(F,{id:"updateProductModal",title:"Update/Edit Products",className:"d-none",children:Object(a.jsx)(H,{product:u})})]})};s(67),s(68);var G=function(e){var t=e.id,s=e.handleDelete,n=e.image,l=e.shouldUploadImgs,r=e.getDownloadURL,o=Object(c.useState)(0),d=Object(i.a)(o,2),j=d[0],b=d[1];return Object(c.useEffect)((function(){if(l){var e=n.file,t=(new Date).toString().slice(0,-31).replaceAll(" ","-"),s="".concat(t," - ").concat(n.name),a={contentType:n.type},c=u.child("products/".concat(s)).put(e,a);c.on(_.a.storage.TaskEvent.STATE_CHANGED,(function(e){var t=parseInt(e.bytesTransferred/e.totalBytes*100);console.log("Upload is "+t+"% done"),b(t)}),(function(e){switch(e.code){case"storage/unauthorized":console.log("User doesn't have permission to access the object");break;case"storage/canceled":console.log("User canceled the upload");break;case"storage/unknown":default:console.log("Unknown error occurred, inspect error.serverResponse")}}),(function(){c.snapshot.ref.getDownloadURL().then((function(e){r(e),console.log("File available at",e)}))}))}}),[l]),Object(a.jsxs)("div",{className:"uploaderTask ".concat(l&&"uploaderTask-uploading"),"data-imgindex":t,children:[l?Object(a.jsx)("div",{className:"progress",children:Object(a.jsx)("div",{className:"progress-bar  progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":j,"aria-valuemin":"0","aria-valuemax":"100",style:{width:"".concat(j,"%")}})}):Object(a.jsx)("span",{onClick:s,children:"\xd7"}),Object(a.jsx)("img",{src:n.src,alt:n.name})]})};var z=function(e){var t=e.shouldUploadImgs,s=e.setShouldUploadImgs,n=e.dispatchImageURLs,l=e.isDisabled,r=Object(c.useState)([]),o=Object(i.a)(r,2),d=o[0],j=o[1],b=Object(c.useState)(!1),m=Object(i.a)(b,2),u=m[0],h=m[1],O=Object(c.useState)([]),x=Object(i.a)(O,2),p=x[0],f=x[1],g=function(e){var t=e.target,s=Array.from(t.files),a=[];s.forEach((function(e){var t=new FileReader;t.readAsDataURL(e),t.addEventListener("load",(function(){a.push({name:e.name,type:e.type,size:e.size,src:t.result,file:e}),j([].concat(Object(A.a)(d),a))}))}))},N=function(e){var t=e.target,s=Number(t.parentElement.dataset.imgindex);j([].concat(Object(A.a)(d.slice(0,s)),Object(A.a)(d.slice(s+1))))},v=function(e){e.preventDefault(),e.stopPropagation(),h(!0)},y=function(e){f((function(t){return[].concat(Object(A.a)(t),[e])}))};return Object(c.useEffect)((function(){p.length===d.length&&0!==d.length&&(s(!1),j([]),n(function(e){var t=e.filter((function(e,t){return-1!==e.indexOf("main")}))[0];if(t){var s=e.indexOf(t);(e=[].concat(Object(A.a)(e.slice(0,s)),Object(A.a)(e.slice(s+1)))).unshift(t)}return e}(p)),f([]))}),[p]),Object(a.jsxs)("div",{className:"imageUploader",children:[Object(a.jsxs)("div",{className:"imageUploader__dropArea ".concat(u&&"highlight"," ").concat(l&&"imageUploader__dropArea-disabled"),onDragEnter:v,onDragOver:v,onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),h(!1)},onDrop:function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer;g({target:{files:t.files}}),h(!1)},children:[Object(a.jsx)("label",{className:"imageUploader__fileUpload",htmlFor:"images",children:"DRAG & DROP"}),Object(a.jsx)("input",{className:"d-none",type:"file",id:"images",accept:"image/*",multiple:!0,onChange:g,disabled:l})]}),Object(a.jsx)("div",{className:"imageUploader__image-previews",children:d.length>0&&d.map((function(e,s){return Object(a.jsx)(G,{id:s,handleDelete:N,image:e,shouldUploadImgs:t,getDownloadURL:y},s)}))}),t&&!d&&Object(a.jsx)("p",{className:"text-danger",children:"*Images Required"})]})};var $=function(){var e={title:"",description:"",details:"",tags:[],stock:"",price:"",category:"",images:[]},t=Object(c.useState)(e),s=Object(i.a)(t,2),n=s[0],l=s[1],r=Object(c.useState)(!1),o=Object(i.a)(r,2),d=o[0],j=o[1],b=Object(c.useState)(!1),u=Object(i.a)(b,2),h=u[0],f=u[1],g=Object(c.useRef)(),N=m.currentUser.uid,v=function(e){var t=e.target;l(Object(p.a)(Object(p.a)({},n),{},Object(x.a)({},t.name,t.value)))};return Object(c.useEffect)((function(){0!==n.images.length&&(console.log("upload to firestore>>>",n),O.collection("products").add(Object(p.a)(Object(p.a)({},n),{},{price:Number(n.price),sellerId:N})).then((function(t){B(Object(p.a)({id:t.id},n)),f(!1),l(e),g.current.click(),console.log("uploaded")})).catch((function(e){return console.log(e)})))}),[n.images]),Object(a.jsx)("div",{className:"addProducts px-4 pt-4",children:Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(!0),f(!0)},method:"post",children:[Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"title",children:"Title"}),Object(a.jsx)("input",{type:"text",name:"title",className:"form-control",value:n.title,onChange:v,disabled:h,required:!0})]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"description",children:"Description"}),Object(a.jsx)("textarea",{type:"text",name:"description",className:"form-control",rows:"2",value:n.description,onChange:v,disabled:h,required:!0})]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsxs)("label",{className:"text-end fs-5",htmlFor:"description",children:["Details ",Object(a.jsx)("span",{className:"text-muted fs-6",children:"(Add each point on a new line.)"})]}),Object(a.jsx)("textarea",{type:"text",name:"details",className:"form-control",rows:"5",value:n.details,onChange:v,disabled:h,required:!0})]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"stock",children:"Stock"}),Object(a.jsx)("input",{type:"text",name:"stock",className:"form-control",value:n.stock,onChange:v,disabled:h,required:!0,pattern:"^\\d+$",title:"Only Numbers allowed."})]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"price",children:"Price"}),Object(a.jsx)("input",{type:"text",name:"price",className:"form-control",value:n.price,onChange:v,disabled:h,pattern:"^\\d+(\\.\\d{1,2})?$",title:"Price can be formatted as 0.00",required:!0})]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"category",children:"Category"}),Object(a.jsxs)("select",{name:"category",className:"form-select",value:n.category,onChange:v,disabled:h,required:!0,children:[Object(a.jsx)("option",{value:"",children:"Select Category"}),["Appliances","Apps & Games","Baby","Beauty","Books","Car & Motorbike","Clothing & Accessories","Collectibles","Computers & Accessories","Electronics","Furniture","Garden & Outdoors","Grocery & Gourmet Foods","Health & Personal Care","Home & Kitchen","Industrial & Scientific","Jewellery","Luggage & Bags","Movies & TV Shows","Music","Musical Instruments","Office Products","Pet Supplies","Shoes & Handbags","Software","Sports, Fitness & Outdoors","Tools & Home Improvement","Toys & Games","Watches"].map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))]})]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"tags",children:"Tags"}),Object(a.jsx)(L,{isDisabled:h,state:n,setState:l})]}),Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)("label",{className:"text-end fs-5",children:"Upload Images"}),Object(a.jsx)(z,{shouldUploadImgs:d,setShouldUploadImgs:j,isDisabled:h,dispatchImageURLs:function(e){l(Object(p.a)(Object(p.a)({},n),{},{images:e}))}})]}),Object(a.jsxs)("div",{className:"modal-footer m-0 p-0 py-1",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",ref:g,children:"Close"}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:h,children:"Add Product"})]})]})})},W=function(e){document.querySelector("table").tBodies[0].childNodes.forEach((function(t){-1===Array.from(t.cells).map((function(e){return e.innerText})).join(" ").toLowerCase().indexOf(e)?t.classList.add("d-none"):t.classList.remove("d-none")}))};var Y=function(){return Object(a.jsx)("div",{className:"products",children:Object(a.jsxs)("div",{className:"modal-content mx-auto",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h4",{children:"Products"}),Object(a.jsx)("div",{className:"products__search",children:Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Search...",onChange:function(e){var t=e.target;W(t.value)}})})]}),Object(a.jsx)("div",{className:"modal-body",style:{height:"400px",overflow:"auto"},children:Object(a.jsx)(X,{})}),Object(a.jsx)("div",{className:"modal-footer",style:{padding:"10px"},children:Object(a.jsx)(F,{id:"addProduct",buttonText:"Add a Product",title:" Add a Product",buttonIcon:"fas fa-plus",children:Object(a.jsx)($,{})})})]})})};s(69),s(70);var Q=function(){var e={currentPassword:"",newPassword:"",confirmNewPassword:""},t=Object(c.useState)(e),s=Object(i.a)(t,2),n=s[0],l=s[1],r=Object(c.useState)(),o=Object(i.a)(r,2),d=o[0],j=o[1],b=function(e){var t=e.target;l(Object(p.a)(Object(p.a)({},n),{},Object(x.a)({},t.id,t.value)))};return Object(a.jsxs)("div",{className:"changePassword p-3",children:[d&&Object(a.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show p-1",role:"alert",children:[d,Object(a.jsx)("button",{type:"button",className:"btn-close p-2","data-bs-dismiss":"alert","aria-label":"Close"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"form-label",htmlFor:"currentPassword",children:"Current Password"}),Object(a.jsx)("input",{type:"password",id:"currentPassword",className:"form-control mb-3",value:n.currentPassword,onChange:b})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"form-label",htmlFor:"currentPassword",children:"New Password"}),Object(a.jsx)("input",{type:"password",id:"newPassword",className:"form-control mb-3",value:n.newPassword,onChange:b})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"form-label",htmlFor:"currentPassword",children:"Confirm New Password"}),Object(a.jsx)("input",{type:"password",id:"confirmNewPassword",className:"form-control mb-3",value:n.confirmNewPassword,onChange:b})]}),Object(a.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(a.jsx)("input",{type:"button",value:"Update",className:"btn btn-success me-1",onClick:function(t){t.preventDefault();var s=n.currentPassword,a=n.newPassword,c=n.confirmNewPassword;if(s&&a&&c)if(a===c){console.log(n);var r=_.a.auth().currentUser,i=_.a.auth.EmailAuthProvider.credential(r.email,s);r.reauthenticateWithCredential(i).then((function(){r.updatePassword(a).then((function(){document.querySelector("#changePasswordModal .btn-close").click(),l(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){return j("Check current Password!")}))}else j("New Password did not match!");else j("All Fields Required")}}),Object(a.jsx)("input",{type:"button",value:"Cancel",className:"btn btn-danger",onClick:function(){l(e)},"data-bs-dismiss":"modal","aria-label":"Close"})]})]})};var V=function(){var e=Object(c.useState)({fname:"",lname:"",phone:"",email:"",storeName:"",shopNo:"",pincode:"",city:"",state:"",country:"",accHoldersName:"",branchIFSC:"",accNumber:""}),t=Object(i.a)(e,2),s=t[0],n=t[1],l=Object(c.useState)({}),r=Object(i.a)(l,2),o=r[0],d=r[1],j=Object(c.useState)(!0),b=Object(i.a)(j,2),u=b[0],h=b[1],f=m.currentUser,g=f.uid,N=f.displayName,v=function(e){var t=e.target;n(Object(p.a)(Object(p.a)({},s),{},Object(x.a)({},t.name,t.value)))};return Object(c.useEffect)((function(){O.doc("sellers/".concat(g)).get().then((function(e){n(Object(p.a)(Object(p.a)(Object(p.a)({fname:N.split(" ")[0],lname:N.split(" ")[1]},e.data()),e.data().billingInfo),e.data().businessInfo))})).catch((function(e){return console.log(e)}))}),[N,g]),Object(a.jsx)("div",{className:"UpdateUser",children:Object(a.jsx)("form",{onSubmit:function(e){e.preventDefault(),O.doc("sellers/".concat(g)).update({email:s.email,phone:s.phone,businessInfo:{storeName:s.storeName,shopNo:s.shopNo,pincode:s.pincode,city:s.city,state:s.state,country:s.country},billingInfo:{accHoldersName:s.accHoldersName,branchIFSC:s.branchIFSC,accNumber:s.accNumber}}).then((function(){m.currentUser.updateProfile({displayName:"".concat(s.fname," ").concat(s.lname)}),h(!0)})).catch((function(e){return console.log(e)}))},method:"post",children:Object(a.jsxs)("div",{className:"container mt-4",children:[Object(a.jsx)("div",{className:"row mt-2",children:Object(a.jsx)("div",{className:"col d-flex justify-content-end",children:u&&Object(a.jsxs)("button",{type:"button",className:"btn btn-outline-primary mx-2",onClick:function(){h(!1),d(s)},children:[Object(a.jsx)("i",{className:"fas fa-edit me-1"}),"Edit"]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("h3",{className:"border-bottom px-2 pb-2",children:"Account"})})}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"fname",children:"First Name"}),Object(a.jsx)("input",{type:"text",name:"fname",className:"form-control",value:s.fname,onChange:v,disabled:u,required:!0})]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"lname",children:"Last Name"}),Object(a.jsx)("input",{type:"text",name:"lname",className:"form-control",value:s.lname,onChange:v,disabled:u,required:!0})]})]}),Object(a.jsx)("div",{className:"row mb-2",children:Object(a.jsxs)("div",{className:"col-6",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"phone",children:"Phone No."}),Object(a.jsx)("input",{type:"text",name:"phone",className:"form-control",value:s.phone,onChange:v,disabled:u,required:!0,pattern:"^[\\d]{10}$",title:"Only Numbers allowed."})]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(F,{id:"changePasswordModal",title:"Change Password",className:"btn btn-link p-1",buttonText:"Change Password",children:Object(a.jsx)(Q,{})})})}),Object(a.jsx)("div",{className:"row my-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("h3",{className:"border-bottom p-2",children:"Business Info "})})}),Object(a.jsxs)("div",{className:"row mb-2",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"storeName",children:"Store Name"}),Object(a.jsx)("input",{type:"text",name:"storeName",className:"form-control",value:s.storeName,onChange:v,disabled:u,required:!0})]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"shopNo",children:"Shop Number"}),Object(a.jsx)("input",{type:"text",name:"shopNo",className:"form-control",value:s.shopNo,onChange:v,disabled:u,required:!0})]})]}),Object(a.jsxs)("div",{className:"row mb-2",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"pincode",children:"Pincode"}),Object(a.jsx)("input",{type:"text",name:"pincode",className:"form-control",pattern:"^[\\d]{6}$",title:"Pincode has to be 6 digits",value:s.pincode,onChange:v,disabled:u,required:!0})]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"city",children:"City"}),Object(a.jsx)("input",{type:"text",name:"city",className:"form-control",value:s.city,onChange:v,disabled:u,required:!0})]})]}),Object(a.jsxs)("div",{className:"row mb-3",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"state",children:"State"}),Object(a.jsx)("input",{type:"text",name:"state",className:"form-control",value:s.state,onChange:v,disabled:u,required:!0})]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"city",children:"Country"}),Object(a.jsx)("input",{type:"text",name:"country",className:"form-control",value:s.country,onChange:v,disabled:u,required:!0})]})]}),Object(a.jsx)("div",{className:"row my-2",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("h3",{className:"border-bottom p-2",children:"Billing Info."})})}),Object(a.jsx)("div",{className:"row mb-2",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"accHoldersName",children:"Account Holders Name"}),Object(a.jsx)("input",{type:"text",name:"accHoldersName",className:"form-control",value:s.accHoldersName,onChange:v,disabled:u,required:!0})]})}),Object(a.jsxs)("div",{className:"row mb-3",children:[Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"accNumber",children:"Account Number"}),Object(a.jsx)("input",{type:"text",name:"accNumber",className:"form-control",value:s.accNumber,minLength:8,maxLength:18,title:"Usually 8-18 digits",onChange:v,disabled:u,required:!0})]}),Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)("label",{className:"text-end fs-5",htmlFor:"branchIFSC",children:"Branch IFSC Code"}),Object(a.jsx)("input",{type:"text",name:"branchIFSC",className:"form-control",pattern:"^[A-Za-z]{4}[a-zA-Z0-9]{7}$",title:"Example: AAAA0999999, XXXX099XX9XX",value:s.branchIFSC,onChange:v,disabled:u,required:!0})]})]}),Object(a.jsx)("div",{className:"row mb-5",children:Object(a.jsx)("div",{className:"col d-flex justify-content-center",children:!u&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("button",{type:"button",className:"btn btn-secondary btn-lg mx-2",onClick:function(){h(!0),n(o)},children:[Object(a.jsx)("i",{className:"far fa-times-circle me-1"}),"Cancel"]}),Object(a.jsxs)("button",{type:"submit",className:"btn btn-success btn-lg mx-2",children:[Object(a.jsx)("i",{className:"far fa-check-circle me-1"}),"Update"]})]})})})]})})})};s(71);var J=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),s=t[0],n=t[1],l=m.currentUser.uid;return Object(c.useEffect)((function(){var e=O.collection("orders").where("sellerId","==",l).orderBy("order_date","desc").onSnapshot((function(e){return n(e.docs.map((function(e){return Object(p.a)(Object(p.a)({id:e.id},e.data()),{},{order_date:e.data().order_date.toDate().toString().slice(0,24)})})))}));return function(){e()}}),[l]),Object(a.jsx)("div",{className:"orders products",children:Object(a.jsxs)("div",{className:"modal-content mx-auto",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h4",{children:"Orders"}),Object(a.jsx)("div",{className:"products__search",children:Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Search..."})})]}),Object(a.jsx)("div",{className:"modal-body",style:{height:"400px",overflow:"auto"},children:Object(a.jsxs)("table",{className:"productsTable table table-striped table-hover",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{className:"table-dark",children:[Object(a.jsx)("th",{children:"Order Id"}),Object(a.jsx)("th",{children:"Order Date"}),Object(a.jsx)("th",{children:"Title"}),Object(a.jsx)("th",{children:"Qty"})]})}),Object(a.jsx)("tbody",{children:s.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.id}),Object(a.jsx)("td",{children:e.order_date}),Object(a.jsx)("td",{children:e.title}),Object(a.jsx)("td",{children:e.qty})]},e.id)}))})]})})]})})};var K=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),s=t[0],n=t[1];return Object(c.useEffect)((function(){m.onAuthStateChanged((function(e){n(e||null)}))}),[]),Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(o.a,{children:s?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(P,{}),Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{path:"/user",component:V}),Object(a.jsx)(d.a,{path:"/orders",component:J}),Object(a.jsx)(d.a,{path:"/",component:Y})]})]}):Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{path:"/signup",component:w}),Object(a.jsx)(d.a,{path:"/passwordreset",component:C}),Object(a.jsx)(d.a,{path:["/signin","/"],component:f})]})})})};r.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(K,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.717b9edc.chunk.js.map